<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Linux进程管理 | L66</title><meta name="description" content="什么是进程？   是程序在内存中的表现形式进程是已启动的可执行程序的运行实例，是程序运行的过程， 动态的，有生命周期及运行状态。 进程和线程的区别线程被称作轻量级进程，在进程中包含线程。进程有独立的内存空间，不同进 程间不能直接共享其他进程资源，同一个进程内的线程共享进程内存空间；相 比进程，线程切换对系统开销更小一些；进程是资源分配的最小单位，线程是 程序执行的最小单位。 静态查看进程12345"><meta name="keywords" content="Linux"><meta name="author" content="L66"><meta name="copyright" content="L66"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/3.jpg"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="dns-prefetch" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"/><link rel="dns-prefetch" href="https://fonts.googleapis.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="dns-prefetch" href="//busuanzi.ibruce.info"/><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Linux进程管理"><meta name="twitter:description" content="什么是进程？   是程序在内存中的表现形式进程是已启动的可执行程序的运行实例，是程序运行的过程， 动态的，有生命周期及运行状态。 进程和线程的区别线程被称作轻量级进程，在进程中包含线程。进程有独立的内存空间，不同进 程间不能直接共享其他进程资源，同一个进程内的线程共享进程内存空间；相 比进程，线程切换对系统开销更小一些；进程是资源分配的最小单位，线程是 程序执行的最小单位。 静态查看进程12345"><meta name="twitter:image" content="https://l66stbz.github.io/2024/06/26/进程管理/3.jpg"><meta property="og:type" content="article"><meta property="og:title" content="Linux进程管理"><meta property="og:url" content="https://l66stbz.github.io/2024/06/26/%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/"><meta property="og:site_name" content="L66"><meta property="og:description" content="什么是进程？   是程序在内存中的表现形式进程是已启动的可执行程序的运行实例，是程序运行的过程， 动态的，有生命周期及运行状态。 进程和线程的区别线程被称作轻量级进程，在进程中包含线程。进程有独立的内存空间，不同进 程间不能直接共享其他进程资源，同一个进程内的线程共享进程内存空间；相 比进程，线程切换对系统开销更小一些；进程是资源分配的最小单位，线程是 程序执行的最小单位。 静态查看进程12345"><meta property="og:image" content="https://l66stbz.github.io/2024/06/26/进程管理/3.jpg"><meta property="article:published_time" content="2024-06-26T09:24:37.000Z"><meta property="article:modified_time" content="2024-06-27T12:57:59.201Z"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>var autoChangeMode = '1'
var t = Cookies.get("theme")
if (autoChangeMode == '1'){
  var isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
  var isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
  var isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined){
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport){
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour < 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
  }
  } else if (t == 'light') activateLightMode()
  else activateDarkMode()

} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="https://l66stbz.github.io/2024/06/26/%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/"><link rel="prev" title="Linux计划任务和日志" href="https://l66stbz.github.io/2024/06/27/%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1%E5%92%8C%E6%97%A5%E5%BF%97/"><link rel="next" title="软件安装及管理" href="https://l66stbz.github.io/2024/06/24/%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85%E5%8F%8A%E7%AE%A1%E7%90%86/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  highlightShrink: 'false',
  isFontAwesomeV5: false,
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
  
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isSidebar: true  
  }</script><noscript><style>
#page-header {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><link rel="stylesheet" href="APlayer.min.css"><div id="aplayer"></div><script src="https://cdn.jsdelivr.net/gh/radium-bit/res@master/live2d/autoload.js" async></script><script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js" async></script><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="L66" type="application/atom+xml">
</head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/2.jpg" onerror="onerror=null;src='/img/2.jpg'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">25</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">20</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 列表</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Photo</span></a></li></ul></div></div></div></div><i class="fa fa-arrow-right on" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#什么是进程？-是程序在内存中的表现形式"><span class="toc-number">1.</span> <span class="toc-text">什么是进程？   是程序在内存中的表现形式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#进程和线程的区别"><span class="toc-number">2.</span> <span class="toc-text">进程和线程的区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#静态查看进程"><span class="toc-number">3.</span> <span class="toc-text">静态查看进程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#查看单个进程的PID"><span class="toc-number">4.</span> <span class="toc-text">查看单个进程的PID</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#查看指定PID"><span class="toc-number">5.</span> <span class="toc-text">查看指定PID</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#查看端口"><span class="toc-number">6.</span> <span class="toc-text">查看端口</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#动态查看进程"><span class="toc-number">7.</span> <span class="toc-text">动态查看进程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#top操作"><span class="toc-number">7.1.</span> <span class="toc-text">top操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#进程优先级-nice"><span class="toc-number">7.2.</span> <span class="toc-text">进程优先级 nice</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#进程控制"><span class="toc-number">8.</span> <span class="toc-text">进程控制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#作业控制"><span class="toc-number">9.</span> <span class="toc-text">作业控制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#作业控制之jobs"><span class="toc-number">9.1.</span> <span class="toc-text">作业控制之jobs:</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#常用命令"><span class="toc-number">10.</span> <span class="toc-text">常用命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-查看当前CPU负载"><span class="toc-number">10.1.</span> <span class="toc-text">1.查看当前CPU负载</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-查看内存使用"><span class="toc-number">10.2.</span> <span class="toc-text">2.查看内存使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-查看系统的版本和内核"><span class="toc-number">10.3.</span> <span class="toc-text">3.查看系统的版本和内核</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-修改主机名"><span class="toc-number">10.4.</span> <span class="toc-text">4.修改主机名</span></a></li></ol></li></ol></div></div></div><div id="body-wrap"><div class="post-bg" id="nav" style="background-image: url(https://l66stbz.github.io/2024/06/26/进程管理/3.jpg)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">L66</a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 列表</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Photo</span></a></li></ul></div></div><span class="toggle-menu close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span></span></div><div id="post-info"><div id="post-title"><div class="posttitle">Linux进程管理</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="发表于 2024-06-26 17:24:37"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2024-06-26</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="更新于 2024-06-27 20:57:59"><i class="fa fa-history" aria-hidden="true"></i> 更新于 2024-06-27</span></time></div><div class="meta-secondline"> </div><div class="meta-thirdline"><span class="post-meta-pv-cv"><i class="fa fa-eye post-meta__icon" aria-hidden="true"> </i><span>阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"></span></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h2 id="什么是进程？-是程序在内存中的表现形式"><a href="#什么是进程？-是程序在内存中的表现形式" class="headerlink" title="什么是进程？   是程序在内存中的表现形式"></a>什么是进程？   是程序在内存中的表现形式</h2><p>进程是已启动的可执行程序的运行实例，是程序运行的过程， 动态的，有生命周期及运行状态。</p>
<h2 id="进程和线程的区别"><a href="#进程和线程的区别" class="headerlink" title="进程和线程的区别"></a>进程和线程的区别</h2><p>线程被称作轻量级进程，在进程中包含线程。进程有独立的内存空间，不同进 程间不能直接共享其他进程资源，同一个进程内的线程共享进程内存空间；相 比进程，线程切换对系统开销更小一些；进程是资源分配的最小单位，线程是 程序执行的最小单位。</p>
<h2 id="静态查看进程"><a href="#静态查看进程" class="headerlink" title="静态查看进程"></a>静态查看进程</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ps aux</span><br><span class="line">参数解释：</span><br><span class="line">ps :process nsapashot</span><br><span class="line">a 只能查看系统里面运行的所有终端进程</span><br><span class="line">u 显示进程拥有者</span><br><span class="line">x 显示系统内所有进程</span><br><span class="line">f 显示进程之间的父子关系</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">[root@linux-server ~]# ps aux </span><br><span class="line">USER        PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND</span><br><span class="line">============================================================================</span><br><span class="line">USER: 	#运行进程的用户</span><br><span class="line">PID：   #进程ID</span><br><span class="line"><span class="meta">%</span><span class="bash">CPU:   <span class="comment">#CPU占用率</span></span></span><br><span class="line"><span class="meta">%</span><span class="bash">MEM:   <span class="comment">#内存占用率</span></span></span><br><span class="line">VSZ	    进程占用的虚拟内存大小</span><br><span class="line">RSS     占用的物理内存大小</span><br><span class="line">?    表示没有占用终端</span><br><span class="line">STAT：  #进程状态  ---了解</span><br><span class="line">R 	运行</span><br><span class="line">S 	可中断睡眠 Sleep</span><br><span class="line">D	不可中断睡眠</span><br><span class="line">T 	停止的进程 </span><br><span class="line">Z 	僵尸进程</span><br><span class="line">X    死掉的进程</span><br><span class="line">START:	#进程的启动时间</span><br><span class="line">TIME：	#进程占用CPU的总时间</span><br><span class="line">COMMAND： #进程文件，进程名</span><br><span class="line"><span class="meta">#</span><span class="bash">   僵尸进程表示进程已经退出，但它的父进程还没有回收子进程占用的资源。短暂的僵尸状态通常不必理会，但进程长时间处于僵尸状态，就应该注意了，可能有应用程序没有正常处理子进程的退出。</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">   S 	可中断睡眠 Sleep----类似于挂起，等待接收socket链接或者是一些信号从而重新被唤起</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   D	不可中断睡眠 --不可中断状态，表示进程正在跟硬件交互，为了保护进程数据和硬件的一致性，系统不允许其他进程或中断打断这个进程。 进程长时间处于不可中断状态，通常表示系统有 I/O 性能问题。</span></span><br><span class="line">进程状态--了解</span><br><span class="line">Sl	以线程的方式运行</span><br><span class="line">Ss  s进程的领导者，父进程</span><br><span class="line">R+	+表示是前台的进程组</span><br><span class="line">S&lt; &lt;优先级较高的进程 	</span><br><span class="line">SN  N优先级较低的进程</span><br></pre></td></tr></table></figure>

<p>进程PID在1000以内的服务大多都是开机自动启动的(不完全是)！</p>
<h2 id="查看单个进程的PID"><a href="#查看单个进程的PID" class="headerlink" title="查看单个进程的PID"></a>查看单个进程的PID</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@linux-server ~]# yum install -y httpd  #安装apache软件</span><br><span class="line">[root@linux-server ~]# systemctl start httpd #启动</span><br><span class="line">[root@linux-server ~]# cat /var/run/httpd/httpd.pid</span><br><span class="line">1043</span><br></pre></td></tr></table></figure>

<h2 id="查看指定PID"><a href="#查看指定PID" class="headerlink" title="查看指定PID"></a>查看指定PID</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@linux-server ~]# ps aux | grep sshd</span><br><span class="line">root       1043  0.0  0.2 105996  4120 ?        Ss   01:32   0:00 /usr/sbin/sshd -D</span><br><span class="line">grep：过滤</span><br></pre></td></tr></table></figure>

<h2 id="查看端口"><a href="#查看端口" class="headerlink" title="查看端口"></a>查看端口</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@linux-server ~]# yum install lsof  #安装软件包</span><br><span class="line">[root@linux-server ~]# lsof -i:80   #端口号，这能查看带端口的进程</span><br><span class="line">COMMAND   PID   USER   FD   TYPE  DEVICE SIZE/OFF NODE NAME</span><br><span class="line">httpd   64249   root    4u  IPv6 1373628      0t0  TCP *:http (LISTEN)</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">查网络进程和正在监听的端口</span></span><br><span class="line">[root@linux-server ~]# netstat -lntp    (该命令对应的包名：net-tools)</span><br><span class="line">参数详解：</span><br><span class="line">-a  显示全部的进程</span><br><span class="line">-u  显示udp</span><br><span class="line">-n  以数字的新式显示协议名称</span><br><span class="line">-t   tcp</span><br><span class="line">-p：显示进程的名称和pid</span><br><span class="line">-l :只显示正在被监听的端口</span><br></pre></td></tr></table></figure>

<h2 id="动态查看进程"><a href="#动态查看进程" class="headerlink" title="动态查看进程"></a>动态查看进程</h2><p>top</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@linux-server ~]# top  #动态显示信息，三秒刷新一次。</span><br></pre></td></tr></table></figure>

<p><strong><img src="/2024/06/26/%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/1.png" class></strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">第一行，任务队列信息，同 uptime 命令的执行结果</span><br><span class="line">	系统时间：16:23:40</span><br><span class="line">	运行时间：up 1:57 </span><br><span class="line">	当前登录用户： 3 user</span><br><span class="line">	在工作中必须监控的东西 load average(平均负载)等待cpu处理的队列长度 也是个数。</span><br><span class="line">	1分钟   第一个数字</span><br><span class="line">	5分钟   第二个数字</span><br><span class="line">	15分钟  第三个数字</span><br><span class="line">	计算cpu负载：load average的三个值: 0.10, 0.16, 0.12，分别除cpu的个数，得出的值，如果值大于1那么那时候的负载高。</span><br><span class="line">第二行，Tasks — 任务（进程）</span><br><span class="line">总进程:150 total, 运行:1 running, 休眠:149 sleeping, 停止: 0 stopped, 僵尸进程: 0 zombie</span><br><span class="line">第三行，cpu状态信息</span><br><span class="line">	us ：用户空间占用CPU的百分比</span><br><span class="line">	sy ：内核空间占用CPU的百分比</span><br><span class="line">	ni ：nice值</span><br><span class="line">	id： cpu空闲率</span><br><span class="line">	wa：cpu等待,等待输入/输出的进程占用的 CPU 百分比。如果使用率过高，表示硬盘该换了</span><br><span class="line">	hi：硬中断占用CPU的百分比</span><br><span class="line">	si：软中断占用CPU的百分比</span><br><span class="line">第四行，内存状态</span><br><span class="line">第五行，swap交换分区信息</span><br></pre></td></tr></table></figure>

<h3 id="top操作"><a href="#top操作" class="headerlink" title="top操作"></a>top操作</h3><p><strong><img src="/2024/06/26/%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/2.png" class></strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[root@linux-server ~]# top</span><br><span class="line">h|? 帮助</span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> 往下翻页</span></span><br><span class="line">&lt; 往上翻页</span><br><span class="line">M 按内存排序</span><br><span class="line">P 按cpu排序</span><br><span class="line">q 退出   </span><br><span class="line">z 彩色显示</span><br><span class="line">W 保存</span><br><span class="line">=============================</span><br><span class="line">PID   进程ID</span><br><span class="line">USER 	运行进程的用户</span><br><span class="line">PR   优先级   最终优先级=初始优先级（20）+nice值   #如PID为4的PR=20+(-20)=0</span><br><span class="line">NI   nice值</span><br><span class="line">VIRT 进程使用的虚拟内存总量，单位kb。VIRT=SWAP+RES</span><br><span class="line">RES  进程使用的、未被换出的物理内存大小，单位kb。</span><br><span class="line">SHR  共享内存大小，单位kb</span><br><span class="line">S    进程状态</span><br><span class="line"><span class="meta">%</span><span class="bash">CPU   CPU占用率</span></span><br><span class="line"><span class="meta">%</span><span class="bash">MEM   内存占用率</span></span><br><span class="line">TIME+	进程占用CPU的总时间</span><br><span class="line">COMMAND  进程文件，进程名</span><br></pre></td></tr></table></figure>

<h3 id="进程优先级-nice"><a href="#进程优先级-nice" class="headerlink" title="进程优先级 nice"></a>进程优先级 nice</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nice 值越高：表示优先级越低，例如+19，该进程容易将CPU 使用量让给其他进程。</span><br><span class="line">nice 值越低：表示优先级越高，例如-20，该进程更不倾向于让出CPU。</span><br></pre></td></tr></table></figure>

<h2 id="进程控制"><a href="#进程控制" class="headerlink" title="进程控制"></a>进程控制</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">kill,pkill</span><br><span class="line">语法： kill 信号 PID   #信号也是进程间通信的一种方式，如果杀的是子进程，子进程死后父进程会再诞生出一个子进程，与之前杀掉的PID不同</span><br><span class="line">	  pkill 信号 进程名(服务名) #pkill可以指定进程名，一次会把该进程的父进程子进程都干掉</span><br><span class="line">[root@linux-server ~]# kill -l   #查看所有信号</span><br><span class="line">-1   HUP  重新加载进程或者重新加载配置文件,PID不变，一般用于修改了配置文件后不关闭重启服务使其生效</span><br><span class="line">-9   KILL 强制杀死  #不管你在不在处理手中工作，直接杀死</span><br><span class="line">-15  TERM 正常杀死(这个信号可以默认不写)#正常杀死就是他不会立即被杀死，他会先把自己手中工作处理完</span><br><span class="line">-18  CONT 激活进程</span><br><span class="line">-19  STOP 挂起（暂停）进程</span><br></pre></td></tr></table></figure>



<h2 id="作业控制"><a href="#作业控制" class="headerlink" title="作业控制"></a>作业控制</h2><h3 id="作业控制之jobs"><a href="#作业控制之jobs" class="headerlink" title="作业控制之jobs:"></a>作业控制之jobs:</h3><p>作业控制指的是控制正在运行的进程的行为。比如，用户可以挂起一个进程或者放到后台去运行，等一会儿再继续执行该进程。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">[root@linux-server~]# sleep 7000 &amp;   #&amp;:让命令或者程序后台运行</span><br><span class="line">[1] 5441</span><br><span class="line">[root@linux-server ~]# sleep 8000    #ctrl+z 把程序放到后台(这方法会让程序在后台暂停)</span><br><span class="line">^Z</span><br><span class="line">[2]+  Stopped                 sleep 8000</span><br><span class="line"></span><br><span class="line">[root@linux-server ~]# jobs  #查看后台的工作号</span><br><span class="line">[1]-  Running                 sleep 7000 &amp;</span><br><span class="line">[2]+  Stopped                 sleep 8000</span><br><span class="line">[root@linux-server ~]# bg %2  #让暂停的程序在后台运行，%是用来修饰job number，2就是job number。(程序的工作号)</span><br><span class="line">[2]+ sleep 8000 &amp;</span><br><span class="line">[root@linux-server ~]# jobs </span><br><span class="line">[1]-  Running                 sleep 7000 &amp;</span><br><span class="line">[2]+  Running                 sleep 8000 &amp;</span><br><span class="line"></span><br><span class="line">[root@linux-server ~]# fg %1  #将后台的程序调到前台</span><br><span class="line">sleep 7000</span><br><span class="line"></span><br><span class="line">[root@linux-server ~]# jobs </span><br><span class="line">[2]+  Running                 sleep 8000 &amp;</span><br><span class="line">[root@linux-server ~]# kill -9 %2  #通过kill杀死进程</span><br><span class="line">[root@linux-server ~]# jobs </span><br><span class="line">[2]+  Killed                  sleep 8000</span><br><span class="line">[root@linux-server ~]# jobs #再次查看没有了</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">注：<span class="built_in">bg</span>、<span class="built_in">fg</span>命令后可以省略%,直接加后台程序编号即可。但是<span class="built_in">kill</span> -9后面的后台程序编号前必须要加%，否则不生效，会杀不死。</span></span><br></pre></td></tr></table></figure>

<h2 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h2><h3 id="1-查看当前CPU负载"><a href="#1-查看当前CPU负载" class="headerlink" title="1.查看当前CPU负载"></a>1.查看当前CPU负载</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@linux-server ~]# uptime </span><br><span class="line"> 17:35:01 up 16:02,  3 users,  load average: 0.00, 0.02, 0.05</span><br></pre></td></tr></table></figure>

<p>脚本中会常用到该命令，其实也就是top命令返回结果的第一行。但是top命令是动态的，他并不能在脚本中使用。</p>
<h3 id="2-查看内存使用"><a href="#2-查看内存使用" class="headerlink" title="2.查看内存使用"></a>2.查看内存使用</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@linux-server ~]# free -m </span><br><span class="line">              total        used        free      shared  buff/cache   available</span><br><span class="line">Mem:           1984         154        1508           8         321        1632</span><br><span class="line">Swap:          2047           0        2047</span><br><span class="line"></span><br><span class="line">-m:单位M</span><br><span class="line"></span><br><span class="line">echo 3 &gt; /proc/sys/vm/drop_caches           </span><br><span class="line"><span class="meta">#</span><span class="bash">临时清理内存，有点类似于Windows的加速球，但是在工作当中应当谨慎使用，尤其是在公司的服务器配置不是很高时。</span></span><br></pre></td></tr></table></figure>

<h3 id="3-查看系统的版本和内核"><a href="#3-查看系统的版本和内核" class="headerlink" title="3.查看系统的版本和内核"></a>3.查看系统的版本和内核</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@linux-server ~]# cat /etc/redhat-release  #查看版本</span><br><span class="line">CentOS Linux release 7.4.1708 (Core)</span><br><span class="line">[root@linux-server ~]# uname -a #看查正在运行的内核版本</span><br><span class="line">Linux linux-server 3.10.0-693.el7.x86_64 #1 SMP Tue Aug 22 21:09:27 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux</span><br><span class="line">[root@linux-server ~]# uname -r  #查看内核版本</span><br><span class="line">3.10.0-693.el7.x86_64</span><br></pre></td></tr></table></figure>

<h3 id="4-修改主机名"><a href="#4-修改主机名" class="headerlink" title="4.修改主机名"></a>4.修改主机名</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">方法一</span><br><span class="line">[root@linux-server ~]# hostnamectl set-hostname  xxxx   #主机名，修改完之后断开与终端连接，然后在重新连接即可。或者直接bash回车即可。但是此方法修改主机名会有许多限制，如不支持大写、特殊字符和中文，名字长度有所限制等等。</span><br><span class="line">方法二</span><br><span class="line">[root@linux-server ~]# vim /etc/hostname</span><br><span class="line"><span class="meta">#</span><span class="bash">直接在该文件中输入你想要的主机名，该方法修改主机名没有限制</span></span><br><span class="line"></span><br><span class="line">查看主机名</span><br><span class="line">[root@linux-server ~]# hostname</span><br></pre></td></tr></table></figure>

</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">L66</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://l66stbz.github.io/2024/06/26/%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/">https://l66stbz.github.io/2024/06/26/%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://l66stbz.github.io" target="_blank">L66</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Linux/">Linux</a></div><div class="post_share"><div class="social-share" data-image="https://l66stbz.github.io/2024/07/23/关系型数据库管理系统mysql/1.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="post-qr-code__img" src="/img/wechat.jpg" alt="微信"/><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="post-qr-code__img" src="/img/alipay.jpg" alt="支付寶"/><div class="post-qr-code__desc">支付寶</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2024/06/27/%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1%E5%92%8C%E6%97%A5%E5%BF%97/"><img class="prev_cover" src="https://l66stbz.github.io/2024/06/27/计划任务和日志/3.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Linux计划任务和日志</div></div></a></div><div class="next-post pull_right"><a href="/2024/06/24/%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85%E5%8F%8A%E7%AE%A1%E7%90%86/"><img class="next_cover" src="https://l66stbz.github.io/2024/06/24/软件安装及管理/2.png" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">软件安装及管理</div></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2024/05/20/基于云部署tomcat和jdk使jspgou项目上线/" title="基于云部署tomcat和jdk使jspgou项目上线"><img class="relatedPosts_cover" src="https://l66stbz.github.io/2024/05/20/基于云部署tomcat和jdk使jspgou项目上线/1.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2024-05-20</div><div class="relatedPosts_title">基于云部署tomcat和jdk使jspgou项目上线</div></div></a></div><div class="relatedPosts_item"><a href="/2024/05/15/2024.05随记/" title="2024.05随记"><img class="relatedPosts_cover" src="https://l66stbz.github.io/2024/05/15/2024.05随记/66.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2024-05-15</div><div class="relatedPosts_title">2024.05随记</div></div></a></div><div class="relatedPosts_item"><a href="/2024/05/18/Zabbix监控Nginx指标/" title="Zabbix监控Nginx指标"><img class="relatedPosts_cover" src="https://l66stbz.github.io/2024/05/18/Zabbix监控Nginx指标/1.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2024-05-18</div><div class="relatedPosts_title">Zabbix监控Nginx指标</div></div></a></div><div class="relatedPosts_item"><a href="/2024/07/05/WEB服务器/" title="WEB服务器"><img class="relatedPosts_cover" src="https://l66stbz.github.io/2024/07/05/WEB服务器/4.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2024-07-05</div><div class="relatedPosts_title">WEB服务器</div></div></a></div><div class="relatedPosts_item"><a href="/2020/06/30/linux1/" title="权限掩码"><img class="relatedPosts_cover" src="https://l66stbz.github.io/2020/06/30/linux1/1.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-06-30</div><div class="relatedPosts_title">权限掩码</div></div></a></div><div class="relatedPosts_item"><a href="/2024/05/17/zabbix部署/" title="zabbix部署"><img class="relatedPosts_cover" src="https://l66stbz.github.io/2024/05/17/zabbix部署/1.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2024-05-17</div><div class="relatedPosts_title">zabbix部署</div></div></a></div></div><div class="clear_both"></div></div></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By L66</div><div class="framework-info"><span>驱动 </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@3/instantpage.min.js" type="module"></script><script src="/js/third-party/click_heart.js"></script></body></html>