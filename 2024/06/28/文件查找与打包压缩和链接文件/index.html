<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Linux文件查找、打包压缩和链接文件 | L66</title><meta name="description" content="文件查找与打包压缩查找命令grep:  文件内容（数据信息）过滤123[root@c-6 ~]# grep &#39;root&#39; &#x2F;etc&#x2F;passwd  #从&#x2F;etc&#x2F;passwd文件中过滤root字段，查找的是文件内容root:x:0:0:root:&#x2F;root:&#x2F;bin&#x2F;bashoperator:x:11:0:operator:&#x2F;root:&#x2F;sbin&#x2F;nologin  which、type -a 和w"><meta name="keywords" content="Linux"><meta name="author" content="L66"><meta name="copyright" content="L66"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/3.jpg"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="dns-prefetch" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"/><link rel="dns-prefetch" href="https://fonts.googleapis.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="dns-prefetch" href="//busuanzi.ibruce.info"/><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Linux文件查找、打包压缩和链接文件"><meta name="twitter:description" content="文件查找与打包压缩查找命令grep:  文件内容（数据信息）过滤123[root@c-6 ~]# grep &#39;root&#39; &#x2F;etc&#x2F;passwd  #从&#x2F;etc&#x2F;passwd文件中过滤root字段，查找的是文件内容root:x:0:0:root:&#x2F;root:&#x2F;bin&#x2F;bashoperator:x:11:0:operator:&#x2F;root:&#x2F;sbin&#x2F;nologin  which、type -a 和w"><meta name="twitter:image" content="https://l66stbz.github.io/2024/06/28/文件查找与打包压缩和链接文件/1.jpg"><meta property="og:type" content="article"><meta property="og:title" content="Linux文件查找、打包压缩和链接文件"><meta property="og:url" content="https://l66stbz.github.io/2024/06/28/%E6%96%87%E4%BB%B6%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%89%93%E5%8C%85%E5%8E%8B%E7%BC%A9%E5%92%8C%E9%93%BE%E6%8E%A5%E6%96%87%E4%BB%B6/"><meta property="og:site_name" content="L66"><meta property="og:description" content="文件查找与打包压缩查找命令grep:  文件内容（数据信息）过滤123[root@c-6 ~]# grep &#39;root&#39; &#x2F;etc&#x2F;passwd  #从&#x2F;etc&#x2F;passwd文件中过滤root字段，查找的是文件内容root:x:0:0:root:&#x2F;root:&#x2F;bin&#x2F;bashoperator:x:11:0:operator:&#x2F;root:&#x2F;sbin&#x2F;nologin  which、type -a 和w"><meta property="og:image" content="https://l66stbz.github.io/2024/06/28/文件查找与打包压缩和链接文件/1.jpg"><meta property="article:published_time" content="2024-06-28T13:00:00.000Z"><meta property="article:modified_time" content="2024-07-01T13:32:54.073Z"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>var autoChangeMode = '1'
var t = Cookies.get("theme")
if (autoChangeMode == '1'){
  var isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
  var isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
  var isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined){
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport){
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour < 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
  }
  } else if (t == 'light') activateLightMode()
  else activateDarkMode()

} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="https://l66stbz.github.io/2024/06/28/%E6%96%87%E4%BB%B6%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%89%93%E5%8C%85%E5%8E%8B%E7%BC%A9%E5%92%8C%E9%93%BE%E6%8E%A5%E6%96%87%E4%BB%B6/"><link rel="prev" title="作业小合集" href="https://l66stbz.github.io/2024/06/29/%E4%BD%9C%E4%B8%9A%E5%B0%8F%E5%90%88%E9%9B%86/"><link rel="next" title="Linux计划任务和日志" href="https://l66stbz.github.io/2024/06/27/%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1%E5%92%8C%E6%97%A5%E5%BF%97/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  highlightShrink: 'false',
  isFontAwesomeV5: false,
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
  
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isSidebar: true  
  }</script><noscript><style>
#page-header {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><link rel="stylesheet" href="APlayer.min.css"><div id="aplayer"></div><script src="https://cdn.jsdelivr.net/gh/radium-bit/res@master/live2d/autoload.js" async></script><script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js" async></script><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="L66" type="application/atom+xml">
</head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/2.jpg" onerror="onerror=null;src='/img/2.jpg'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">24</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">19</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 列表</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Photo</span></a></li></ul></div></div></div></div><i class="fa fa-arrow-right on" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#文件查找与打包压缩"><span class="toc-number">1.</span> <span class="toc-text">文件查找与打包压缩</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#查找命令"><span class="toc-number">1.1.</span> <span class="toc-text">查找命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#grep-文件内容（数据信息）过滤"><span class="toc-number">1.1.1.</span> <span class="toc-text">grep:  文件内容（数据信息）过滤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#which、type-a-和whereis"><span class="toc-number">1.1.2.</span> <span class="toc-text">which、type -a 和whereis</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#find详解-文件查找，针对文件名"><span class="toc-number">1.1.3.</span> <span class="toc-text">find详解:   文件查找，针对文件名</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#按文件名"><span class="toc-number">1.1.3.0.1.</span> <span class="toc-text">按文件名</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#按文件大小-size"><span class="toc-number">1.1.3.0.2.</span> <span class="toc-text">按文件大小    -size</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#按时间查找"><span class="toc-number">1.1.3.0.3.</span> <span class="toc-text">按时间查找</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#按文件类型"><span class="toc-number">1.1.3.0.4.</span> <span class="toc-text">按文件类型</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#按文件权限"><span class="toc-number">1.1.3.0.5.</span> <span class="toc-text">按文件权限</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#找到后处理的动作"><span class="toc-number">1.1.3.0.6.</span> <span class="toc-text">找到后处理的动作</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#find使用exec"><span class="toc-number">1.1.3.0.6.1.</span> <span class="toc-text">find使用exec</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#find使用xargs"><span class="toc-number">1.1.3.0.6.2.</span> <span class="toc-text">find使用xargs</span></a></li></ol></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#打包压缩"><span class="toc-number">2.</span> <span class="toc-text">打包压缩</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#按时间创建目录或者文件"><span class="toc-number">2.0.1.</span> <span class="toc-text">按时间创建目录或者文件</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#作业"><span class="toc-number">3.</span> <span class="toc-text">作业</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#链接文件"><span class="toc-number">4.</span> <span class="toc-text">链接文件</span></a></li></ol></div></div></div><div id="body-wrap"><div class="post-bg" id="nav" style="background-image: url(https://l66stbz.github.io/2024/06/28/文件查找与打包压缩和链接文件/1.jpg)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">L66</a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 列表</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Photo</span></a></li></ul></div></div><span class="toggle-menu close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span></span></div><div id="post-info"><div id="post-title"><div class="posttitle">Linux文件查找、打包压缩和链接文件</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="发表于 2024-06-28 21:00:00"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2024-06-28</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="更新于 2024-07-01 21:32:54"><i class="fa fa-history" aria-hidden="true"></i> 更新于 2024-07-01</span></time></div><div class="meta-secondline"> </div><div class="meta-thirdline"><span class="post-meta-pv-cv"><i class="fa fa-eye post-meta__icon" aria-hidden="true"> </i><span>阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"></span></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h1 id="文件查找与打包压缩"><a href="#文件查找与打包压缩" class="headerlink" title="文件查找与打包压缩"></a>文件查找与打包压缩</h1><h2 id="查找命令"><a href="#查找命令" class="headerlink" title="查找命令"></a>查找命令</h2><h3 id="grep-文件内容（数据信息）过滤"><a href="#grep-文件内容（数据信息）过滤" class="headerlink" title="grep:  文件内容（数据信息）过滤"></a>grep:  文件内容（数据信息）过滤</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@c-6 ~]# grep 'root' /etc/passwd  #从/etc/passwd文件中过滤root字段，查找的是文件内容</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">operator:x:11:0:operator:/root:/sbin/nologin</span><br></pre></td></tr></table></figure>

<h3 id="which、type-a-和whereis"><a href="#which、type-a-和whereis" class="headerlink" title="which、type -a 和whereis"></a>which、type -a 和whereis</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@c-6 ~]#which ls                #查看命令的别名和存放路径，</span><br><span class="line">alias ls='ls --color=auto'</span><br><span class="line">        /usr/bin/ls</span><br><span class="line">[root@c-6 ~]# type -a ls			#效果与which一致</span><br><span class="line">ls 是 `ls --color=auto' 的别名</span><br><span class="line">ls 是 /usr/bin/ls</span><br><span class="line">  </span><br><span class="line">[root@c-6 ~]# whereis ls            #查看命令以及其相关文件</span><br><span class="line">ls: /usr/bin/ls /usr/share/man/man1/ls.1.gz</span><br></pre></td></tr></table></figure>

<h3 id="find详解-文件查找，针对文件名"><a href="#find详解-文件查找，针对文件名" class="headerlink" title="find详解:   文件查找，针对文件名"></a>find详解:   文件查找，针对文件名</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">语法：</span><br><span class="line"><span class="meta">#</span><span class="bash">find 路径 条件 跟条件相关的操作符   [-<span class="built_in">exec</span> 动作]</span></span><br><span class="line">路径:</span><br><span class="line">1.默认不写路径时查找的是当前路径.</span><br><span class="line">2.加路径。</span><br><span class="line">条件：</span><br><span class="line">1.指定的名称  -name</span><br><span class="line">2.文件类型  -type</span><br><span class="line">3.权限</span><br><span class="line">4.时间</span><br></pre></td></tr></table></figure>

<h5 id="按文件名"><a href="#按文件名" class="headerlink" title="按文件名"></a>按文件名</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@c-6 ~]# find / -name "ldq"  #从根开始查找名为ldq的文件</span><br><span class="line">/root/ldq</span><br><span class="line">/var/spool/mail/ldq</span><br><span class="line">/home/ldq</span><br><span class="line">[root@c-6 ~]# find /mnt -name "centos"   #查找mnt下的名为centos的文件</span><br><span class="line">/mnt/centos</span><br><span class="line">[root@c-6 ~]# find /mnt -iname "centos"   #-iname不区分大小写</span><br><span class="line">/mnt/centos</span><br><span class="line">/mnt/Centos</span><br><span class="line">[root@c-6 ~]# find /root -name "*.txt"   #*通配符，查找root下所有以.txt结尾的文件</span><br><span class="line">/root/2024-06-26 09:25:17.txt</span><br><span class="line">/root/20240626-09:26:31.txt</span><br></pre></td></tr></table></figure>

<h5 id="按文件大小-size"><a href="#按文件大小-size" class="headerlink" title="按文件大小    -size"></a>按文件大小    -size</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@c-6 ~]# find / -size +5M	#大于50M</span><br><span class="line">[root@c-6 ~]# find /etc -size 5M		#约等于5M</span><br><span class="line">[root@c-6 ~]# find /etc -size -5M      #小于5M</span><br><span class="line">[root@c-6 ~]# find / -size +3M -a -size -5M  #查找/下面大于3M而且小于5M的文件</span><br><span class="line">-a：add</span><br><span class="line">[root@c-6 ~]# find / -size -1M -o -size +80M #查找/下面小于1M或者大于80M的文件</span><br><span class="line">-o：or</span><br><span class="line">[root@c-6 ~]# find / -size -3M -a -name "*.txt" #查找/ 下面小于3M而且名字结尾是.txt的文件</span><br></pre></td></tr></table></figure>

<h5 id="按时间查找"><a href="#按时间查找" class="headerlink" title="按时间查找"></a>按时间查找</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">按时间找(atime,mtime,ctime)</span><br><span class="line"><span class="meta">		#</span><span class="bash"> 天</span></span><br><span class="line">-atime=  access访问时间</span><br><span class="line">-mtime = modify改变时间  内容修改时间会改变</span><br><span class="line">-ctime =change修改时间   属性修改时间会改变</span><br><span class="line"></span><br><span class="line">-amin  #分钟</span><br><span class="line">-mmin</span><br><span class="line">-cmin</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@c-6 ~]# find /opt -mtime +5		#修改时间5天之前</span><br><span class="line">[root@c-6 ~]# find /opt -atime +1     #访问时间1天之前</span><br><span class="line">[root@c-6 ~]# find . -mtime -2		#当前目录下修改时间2天之内</span><br><span class="line"></span><br><span class="line">[root@c-6 ~]# find . -amin +1         #当前目录下访问时间在1分钟之前</span><br><span class="line">[root@c-6 ~]# find /opt -amin -4      #访问时间在4分钟之内</span><br><span class="line">[root@c-6 ~]# find /opt -mmin -2      #修改时间在2分钟之内</span><br></pre></td></tr></table></figure>

<h5 id="按文件类型"><a href="#按文件类型" class="headerlink" title="按文件类型"></a>按文件类型</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@c-6 ~]# find /dev -type f	#f普通文件</span><br><span class="line">[root@c-6 ~]# find / -type f -size -1M -o -name "*.txt"</span><br><span class="line"></span><br><span class="line">[root@c-6 ~]# find /dev -type d	#d目录</span><br><span class="line">[root@c-6 ~]# find /etc/ -type d -name "*.conf.d"</span><br><span class="line"></span><br><span class="line">[root@c-6 ~]# find /etc -type l	#l链接</span><br><span class="line"></span><br><span class="line">[root@c-6 ~]# find /dev -type b	#b块设备</span><br><span class="line">[root@c-6 ~]# find /dev/ -type b -name "sd*"</span><br></pre></td></tr></table></figure>

<h5 id="按文件权限"><a href="#按文件权限" class="headerlink" title="按文件权限"></a>按文件权限</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@c-6 ~]# find . -perm 644            #.是当前目录    精确查找644</span><br></pre></td></tr></table></figure>

<h5 id="找到后处理的动作"><a href="#找到后处理的动作" class="headerlink" title="找到后处理的动作"></a>找到后处理的动作</h5><h6 id="find使用exec"><a href="#find使用exec" class="headerlink" title="find使用exec"></a>find使用exec</h6><p>find    目录   选项   参数     -exec      动作  ;</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@c-6 ~]# find /etc -name "ifcfg*" -exec cp -rf &#123;&#125; /tmp \; #exec命令对之前查找出来的文件做进一步操作-----  查找带ifcfg开头的文件复制到tmp下</span><br><span class="line">[root@c-6 ~]# touch /home/test&#123;1..20&#125;.txt</span><br><span class="line">[root@c-6 ~]# find /home/ -name test* -exec rm -rf &#123;&#125; \; #｛｝为前面查找到的内容,\; 格式</span><br></pre></td></tr></table></figure>

<h6 id="find使用xargs"><a href="#find使用xargs" class="headerlink" title="find使用xargs"></a>find使用xargs</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@c-6 ~]# find /etc -name "ifcfg*" | xargs -i &#123;&#125;   /tmp  #利用管道将etc下查找到的以ifcfg开头的文件复制到tmp目录下</span><br><span class="line">[root@c-6 ~]# touch /home/test&#123;1..20&#125;.txt</span><br><span class="line">[root@c-6 ~]# # find /home/ -name "test*" | xargs -i cp &#123;&#125; /tmp/ #找到之后删除处理xargs 参数传递</span><br></pre></td></tr></table></figure>

<p>两种方法最终实现的效果是一样的，但是他们中间的实现过程是不一样的，假如用find命令将要查找出来的文件有100个，需要将他们移动到指定位置。使用管道的话直接查出来100个文件，然后一次性将100个文件全部移动到指定位置。如果使用exec的话，是查到一个移动一个，所以最终他会一共移动100次。这就是两者之间的区别。</p>
<h1 id="打包压缩"><a href="#打包压缩" class="headerlink" title="打包压缩"></a>打包压缩</h1><p>打包压缩一起：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tar cvzf file.tar.gz 源文件</span><br><span class="line">tar cvjf file.tar.bz2 源文件</span><br></pre></td></tr></table></figure>

<p>解压+解包：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tar xvzf 压缩文件 [-C 解压路径]</span><br><span class="line">tar xvjf 压缩文件 [-C 解压路径]</span><br></pre></td></tr></table></figure>

<p>范例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@c-6 ~]# tar cvzf  /opt/no.tar.gz  /root/NO.txt </span><br><span class="line">tar: 从成员名中删除开头的“/”</span><br><span class="line">/root/NO.txt</span><br><span class="line">[root@c-6 ~]# ls /opt/</span><br><span class="line">lftp-4.4.8-14.el7_9.x86_64.rpm  no.tar.gz  QF2208  test</span><br><span class="line">[root@c-6 ~]# tar xvzf /opt/no.tar.gz  -C /opt/</span><br><span class="line">root/NO.txt</span><br><span class="line">[root@c-6 ~]# ls /opt/root/</span><br><span class="line">NO.txt</span><br></pre></td></tr></table></figure>

<p>可以发现在打包压缩的时候提示了“tar: 从成员名中删除开头的/”这样一句话，但是后续可以看到还是打包压缩成功了。但是我们会发现我们原本只想打包的NO.txt文件，又多打包了他的上一级目录，虽说里边没有别的文件，但是结果并不是我们想要的。要想解决这种情况，我们需要在打包压缩时，源文件的路径表示时使用相对路径即可。如果使用的绝对路径的话就会出现如上情况。</p>
<h3 id="按时间创建目录或者文件"><a href="#按时间创建目录或者文件" class="headerlink" title="按时间创建目录或者文件"></a>按时间创建目录或者文件</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> mkdir `date +%F`-upload</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> touch file-`date +%F`.txt</span></span><br></pre></td></tr></table></figure>

<p>范例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@c-6 ~]# tar czf /tmp/`date +%F-%T`-etc.tar.gz /etc/  #将etc目录打包放到/tmp目录下，并以当前时间开头命名</span><br></pre></td></tr></table></figure>

<h1 id="作业"><a href="#作业" class="headerlink" title="作业"></a>作业</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">查找系统内所有.gz结尾的文件并备份到/tmp/backup目录下</span><br><span class="line">[root@c-6 ~]# find / -name "*.gz"|xargs -i cp -rvf &#123;&#125; /tmp/backup</span><br><span class="line">查找10天以内被修改过的.txt结尾的文件</span><br><span class="line">[root@c-6 ~]# find / -mtime +10 -name "*.txt"</span><br></pre></td></tr></table></figure>

<h1 id="链接文件"><a href="#链接文件" class="headerlink" title="链接文件"></a>链接文件</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">一般情况下，文件名和inode号码是"一一对应"关系，每个inode号码对应一个文件名。但是，Unix/Linux系统允许，多个文件名指向同一个inode号码。</span><br><span class="line">这意味着，可以用不同的文件名访问同样的内容；对文件内容进行修改，会影响到所有文件；但是，删除一个文件名，不影响另一个文件名的访问。这种情况就被称为"硬链接"（hard link）。</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">创建硬链接语法：ln   源文件  链接文件</span><br><span class="line">[root@c-6 ~]# echo 222 &gt; /file2</span><br><span class="line">[root@c-6 ~]# ll -i /file2                 #-i：显示inode编号或者stat命令</span><br><span class="line">34045994 -rw-r--r-- 1 root root 4 Dec 29 20:52 file2</span><br><span class="line">[root@c-6 ~]# ln /file2 /file2-h1</span><br><span class="line">[root@c-6 ~]# ll -i /file2 /file2-h1       #查看inode号</span><br><span class="line">34045994 -rw-r--r-- 2 root root 4 7月  30 22:25 /file2</span><br><span class="line">34045994 -rw-r--r-- 2 root root 4 7月  30 22:25 /file2-h1</span><br><span class="line">[root@c-6 ~]# rm -rf /file2        #删除源文件</span><br><span class="line">[root@c-6 ~]# ll -i /file2-h1      #查看链接文件</span><br><span class="line">34045994 -rw-r--r--. 3 root root 4 Nov  9 15:01 /file2-h1</span><br><span class="line">[root@c-6 ~]# cat /file2-h1        #删除后仍可以看到内容</span><br><span class="line">222</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">注：硬链接 </span><br><span class="line">1. 不能跨文件系统</span><br><span class="line">2. 不支持目录做硬链接</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">除了硬链接以外，还有一种特殊情况</span><br><span class="line">文件A和文件B的inode号码虽然不一样，但是文件A的内容是文件B的路径。读取文件A时，系统会自动将访问者导向文件B。因此，无论打开哪一个文件，最终读取的都是文件B。这时，文件A就称为文件B的"软链接"（soft link）或者"符号链接（symbolic link）。</span><br><span class="line">这意味着，文件A依赖于文件B而存在，如果删除了文件B，打开文件A就会报错："No such file or directory"。这是软链接与硬链接最大的不同：文件A指向文件B的文件名，而不是文件B的inode号码，文件B的inode"链接数"不会因此发生变化。</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">语法：ln -s  源文件  链接文件</span><br><span class="line">[root@qfedu.com ~]# echo 111 &gt; /file1</span><br><span class="line">[root@qfedu.com ~]# ll -i /file1 </span><br><span class="line">545310 -rw-r--r-- 1 root root 4 7月  30 22:06 /file1</span><br><span class="line">[root@qfedu.com ~]# ln -s /file1 /file11		#将文件file1软链接到file11</span><br><span class="line">[root@qfedu.com ~]# ll /file11 </span><br><span class="line">lrwxrwxrwx 1 root root 6 Dec 20 17:58 /file11 -&gt; /file1</span><br><span class="line">[root@qfedu.com ~]# ll -i /file11 /file1    #查看inode号</span><br><span class="line">545310 -rw-r--r-- 1 root root 4 7月  30 22:06 /file1</span><br><span class="line">545343 lrwxrwxrwx 1 root root 6 7月  30 22:06 /file11 -&gt; /file1</span><br><span class="line">[root@qfedu.com ~]# cat /file1 </span><br><span class="line">111</span><br><span class="line">[root@qfedu.com ~]# cat /file11 </span><br><span class="line">111</span><br><span class="line">[root@qfedu.com ~]# rm -rf /file11 #取消软连接。</span><br><span class="line">[root@qfedu.com ~]# cat /file1     #源文件不受影响</span><br><span class="line">111</span><br><span class="line">[root@qfedu.com ~]# ln -s /file1 /file11</span><br><span class="line">[root@qfedu.com ~]# rm -rf /file1  #删除源文件</span><br><span class="line">[root@qfedu.com ~]# ll /file11 </span><br><span class="line">lrwxrwxrwx 1 root root 6 Dec 20 17:58  /file11 -&gt; /file1   #已失效</span><br><span class="line"><span class="meta">#</span><span class="bash">给目录设置软链接必须是绝对路劲</span></span><br><span class="line">[root@qfedu.com ~]# ln -s /root/aaa/ /usr/bbb</span><br><span class="line">[root@qfedu.com ~]# ll /usr/bbb</span><br><span class="line">lrwxrwxrwx 1 root root 10 Dec 29 21:08 /usr/bbb -&gt; /root/aaa/</span><br><span class="line">[root@qfedu.com ~]# rm -rf /usr/bbb  #取消链接</span><br><span class="line">注意:删除目录链接时目录后面加“/”是删除目录内所有内容，不加是删除链接</span><br></pre></td></tr></table></figure>

<p><strong>面试：软链接和硬链接的区别：</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">- 软链接可以跨文件系统，硬链接不可以；</span><br><span class="line">- 软链接可以对目录进行连接，硬链接不可以；</span><br><span class="line">- 删除源文件之后，软链接失效，硬链接无影响；</span><br><span class="line">- 两种链接都可以通过命令 ln 来创建；</span><br><span class="line">- ln 默认创建的是硬链接；</span><br><span class="line">- 使用 -s 参数可以创建软链接。</span><br><span class="line">- 硬链接两者之间iNode号相同，软链接两者之间iNode号不同。</span><br><span class="line">- 软链接删除目录链接时目录后面加“/”是删除目录内所有内容，不加是删除链接。</span><br><span class="line">- 给目录设置软链接必须是绝对路劲</span><br></pre></td></tr></table></figure>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">L66</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://l66stbz.github.io/2024/06/28/%E6%96%87%E4%BB%B6%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%89%93%E5%8C%85%E5%8E%8B%E7%BC%A9%E5%92%8C%E9%93%BE%E6%8E%A5%E6%96%87%E4%BB%B6/">https://l66stbz.github.io/2024/06/28/%E6%96%87%E4%BB%B6%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%89%93%E5%8C%85%E5%8E%8B%E7%BC%A9%E5%92%8C%E9%93%BE%E6%8E%A5%E6%96%87%E4%BB%B6/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://l66stbz.github.io" target="_blank">L66</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Linux/">Linux</a></div><div class="post_share"><div class="social-share" data-image="https://l66stbz.github.io/2024/07/04/文件服务器/8.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="post-qr-code__img" src="/img/wechat.jpg" alt="微信"/><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="post-qr-code__img" src="/img/alipay.jpg" alt="支付寶"/><div class="post-qr-code__desc">支付寶</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2024/06/29/%E4%BD%9C%E4%B8%9A%E5%B0%8F%E5%90%88%E9%9B%86/"><img class="prev_cover" src="https://l66stbz.github.io/2024/06/29/作业小合集/1.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">作业小合集</div></div></a></div><div class="next-post pull_right"><a href="/2024/06/27/%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1%E5%92%8C%E6%97%A5%E5%BF%97/"><img class="next_cover" src="https://l66stbz.github.io/2024/06/27/计划任务和日志/3.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Linux计划任务和日志</div></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2024/06/24/软件安装及管理/" title="软件安装及管理"><img class="relatedPosts_cover" src="https://l66stbz.github.io/2024/06/24/软件安装及管理/2.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2024-06-24</div><div class="relatedPosts_title">软件安装及管理</div></div></a></div><div class="relatedPosts_item"><a href="/2024/05/15/2024.05随记/" title="2024.05随记"><img class="relatedPosts_cover" src="https://l66stbz.github.io/2024/05/15/2024.05随记/66.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2024-05-15</div><div class="relatedPosts_title">2024.05随记</div></div></a></div><div class="relatedPosts_item"><a href="/2024/05/18/Zabbix监控Nginx指标/" title="Zabbix监控Nginx指标"><img class="relatedPosts_cover" src="https://l66stbz.github.io/2024/05/18/Zabbix监控Nginx指标/1.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2024-05-18</div><div class="relatedPosts_title">Zabbix监控Nginx指标</div></div></a></div><div class="relatedPosts_item"><a href="/2024/05/25/shell脚本相关问题/" title="shell脚本相关问题总结"><img class="relatedPosts_cover" src="https://l66stbz.github.io/2024/05/25/shell脚本相关问题/1.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2024-05-25</div><div class="relatedPosts_title">shell脚本相关问题总结</div></div></a></div><div class="relatedPosts_item"><a href="/2020/06/30/linux1/" title="权限掩码"><img class="relatedPosts_cover" src="https://l66stbz.github.io/2020/06/30/linux1/1.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-06-30</div><div class="relatedPosts_title">权限掩码</div></div></a></div><div class="relatedPosts_item"><a href="/2024/05/16/修改root密码/" title="修改root密码"><img class="relatedPosts_cover" src="https://l66stbz.github.io/2024/05/16/修改root密码/1.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2024-05-16</div><div class="relatedPosts_title">修改root密码</div></div></a></div></div><div class="clear_both"></div></div></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By L66</div><div class="framework-info"><span>驱动 </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@3/instantpage.min.js" type="module"></script><script src="/js/third-party/click_heart.js"></script></body></html>