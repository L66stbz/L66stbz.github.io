<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Git工具与gitee、gitlab和github | L66</title><meta name="description" content="为什么要管理代码？ 版本控制：可以追踪代码的变更记录，并且可以看到修改的内容，以及版本的回滚； 分支管理：可以让我们同时处理多个任务。并且不会影响稳定的分支(主分支)； 团队协作：可以让多人协作开发，并且在没有相互影响的条件下独立完成工作。  主流的代码仓库 Github Gitee Gitlab  Git工具gitfor官网：https:&#x2F;&#x2F;gitforwindows.org&#x2F; 下载链接：htt"><meta name="keywords" content="Linux,Git"><meta name="author" content="L66"><meta name="copyright" content="L66"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/3.jpg"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="dns-prefetch" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"/><link rel="dns-prefetch" href="https://fonts.googleapis.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="dns-prefetch" href="//busuanzi.ibruce.info"/><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Git工具与gitee、gitlab和github"><meta name="twitter:description" content="为什么要管理代码？ 版本控制：可以追踪代码的变更记录，并且可以看到修改的内容，以及版本的回滚； 分支管理：可以让我们同时处理多个任务。并且不会影响稳定的分支(主分支)； 团队协作：可以让多人协作开发，并且在没有相互影响的条件下独立完成工作。  主流的代码仓库 Github Gitee Gitlab  Git工具gitfor官网：https:&#x2F;&#x2F;gitforwindows.org&#x2F; 下载链接：htt"><meta name="twitter:image" content="https://l66stbz.github.io/2024/09/03/Git工具/Git工具与gitee、gitlab和github/1.png"><meta property="og:type" content="article"><meta property="og:title" content="Git工具与gitee、gitlab和github"><meta property="og:url" content="https://l66stbz.github.io/2024/09/03/Git%E5%B7%A5%E5%85%B7/Git%E5%B7%A5%E5%85%B7%E4%B8%8Egitee%E3%80%81gitlab%E5%92%8Cgithub/"><meta property="og:site_name" content="L66"><meta property="og:description" content="为什么要管理代码？ 版本控制：可以追踪代码的变更记录，并且可以看到修改的内容，以及版本的回滚； 分支管理：可以让我们同时处理多个任务。并且不会影响稳定的分支(主分支)； 团队协作：可以让多人协作开发，并且在没有相互影响的条件下独立完成工作。  主流的代码仓库 Github Gitee Gitlab  Git工具gitfor官网：https:&#x2F;&#x2F;gitforwindows.org&#x2F; 下载链接：htt"><meta property="og:image" content="https://l66stbz.github.io/2024/09/03/Git工具/Git工具与gitee、gitlab和github/1.png"><meta property="article:published_time" content="2024-09-03T13:50:00.000Z"><meta property="article:modified_time" content="2024-09-07T02:05:14.619Z"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>var autoChangeMode = '1'
var t = Cookies.get("theme")
if (autoChangeMode == '1'){
  var isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
  var isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
  var isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined){
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport){
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour < 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
  }
  } else if (t == 'light') activateLightMode()
  else activateDarkMode()

} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="https://l66stbz.github.io/2024/09/03/Git%E5%B7%A5%E5%85%B7/Git%E5%B7%A5%E5%85%B7%E4%B8%8Egitee%E3%80%81gitlab%E5%92%8Cgithub/"><link rel="prev" title="study" href="https://l66stbz.github.io/2024/09/03/study/test/"><link rel="next" title="IPtables" href="https://l66stbz.github.io/2024/09/02/IPtables/iptables/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  highlightShrink: 'false',
  isFontAwesomeV5: false,
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
  
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isSidebar: true  
  }</script><noscript><style>
#page-header {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><link rel="stylesheet" href="APlayer.min.css"><div id="aplayer"></div><script src="https://cdn.jsdelivr.net/gh/radium-bit/res@master/live2d/autoload.js" async></script><script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js" async></script><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="L66" type="application/atom+xml">
</head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/2.jpg" onerror="onerror=null;src='/img/2.jpg'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">52</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">33</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 列表</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Photo</span></a></li></ul></div></div></div></div><i class="fa fa-arrow-right on" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#为什么要管理代码？"><span class="toc-number">1.</span> <span class="toc-text">为什么要管理代码？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#主流的代码仓库"><span class="toc-number">2.</span> <span class="toc-text">主流的代码仓库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Git工具"><span class="toc-number">3.</span> <span class="toc-text">Git工具</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Gitee使用"><span class="toc-number">4.</span> <span class="toc-text">Gitee使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Git命令详解"><span class="toc-number">5.</span> <span class="toc-text">Git命令详解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Git基础命令"><span class="toc-number">5.1.</span> <span class="toc-text">Git基础命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Git-分支管理"><span class="toc-number">5.2.</span> <span class="toc-text">Git 分支管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#分支的作用"><span class="toc-number">5.2.1.</span> <span class="toc-text">分支的作用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#常见的分支类型"><span class="toc-number">5.2.2.</span> <span class="toc-text">常见的分支类型</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Git版本管理"><span class="toc-number">5.3.</span> <span class="toc-text">Git版本管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-版本控制系统："><span class="toc-number">5.4.</span> <span class="toc-text">1. 版本控制系统：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-git与svn介绍"><span class="toc-number">5.5.</span> <span class="toc-text">2.git与svn介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-git属于分布式版本控制系统"><span class="toc-number">5.5.0.1.</span> <span class="toc-text">1.git属于分布式版本控制系统</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-svn属于集中式的版本控制系统"><span class="toc-number">5.5.0.2.</span> <span class="toc-text">2.svn属于集中式的版本控制系统</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-git-相关概念—纯命令行"><span class="toc-number">5.6.</span> <span class="toc-text">3.git 相关概念—纯命令行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#二、git部署"><span class="toc-number">5.7.</span> <span class="toc-text">二、git部署</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1、git使用"><span class="toc-number">5.7.1.</span> <span class="toc-text">1、git使用</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#git-init-–bare-库名字"><span class="toc-number"></span> <span class="toc-text">git init –bare  库名字</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-客户端"><span class="toc-number">0.0.1.</span> <span class="toc-text">1.客户端</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2、版本回退"><span class="toc-number">0.0.2.</span> <span class="toc-text">2、版本回退</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3、删除文件"><span class="toc-number">0.0.3.</span> <span class="toc-text">3、删除文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4、修改文件"><span class="toc-number">0.0.4.</span> <span class="toc-text">4、修改文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5、将代码上传到仓库的master分支"><span class="toc-number">0.0.5.</span> <span class="toc-text">5、将代码上传到仓库的master分支</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#三、创建分支并合并分支"><span class="toc-number">0.1.</span> <span class="toc-text">三、创建分支并合并分支</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#部署gitlab服务"><span class="toc-number">1.</span> <span class="toc-text">部署gitlab服务</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#新建普通用户"><span class="toc-number">1.1.</span> <span class="toc-text">新建普通用户</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Gitlab新建文件"><span class="toc-number">1.2.</span> <span class="toc-text">Gitlab新建文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#在git客户端"><span class="toc-number">1.3.</span> <span class="toc-text">在git客户端</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#提交代码到gitlab仓库"><span class="toc-number">1.4.</span> <span class="toc-text">提交代码到gitlab仓库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#调整上传文件的大小"><span class="toc-number">1.5.</span> <span class="toc-text">调整上传文件的大小</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tag版本推送"><span class="toc-number">1.6.</span> <span class="toc-text">tag版本推送</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#分支版本推送"><span class="toc-number">1.7.</span> <span class="toc-text">分支版本推送</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Gitlab-备份与恢复"><span class="toc-number">2.</span> <span class="toc-text">Gitlab 备份与恢复</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1、查看系统版本和软件版本"><span class="toc-number">2.1.</span> <span class="toc-text">1、查看系统版本和软件版本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2、数据备份"><span class="toc-number">2.2.</span> <span class="toc-text">2、数据备份</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3、数据恢复"><span class="toc-number">2.3.</span> <span class="toc-text">3、数据恢复</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Gitlab配置邮箱"><span class="toc-number">3.</span> <span class="toc-text">Gitlab配置邮箱</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Gitlab配置https方式访问"><span class="toc-number">4.</span> <span class="toc-text">Gitlab配置https方式访问</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#配置ssl证书"><span class="toc-number">4.1.</span> <span class="toc-text">配置ssl证书</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#创建私有CA证书"><span class="toc-number">4.2.</span> <span class="toc-text">创建私有CA证书</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1、检查安装openssl"><span class="toc-number">4.2.1.</span> <span class="toc-text">1、检查安装openssl</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2、创建密钥"><span class="toc-number">4.2.2.</span> <span class="toc-text">2、创建密钥</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3、生成自签名证书"><span class="toc-number">4.2.3.</span> <span class="toc-text">3、生成自签名证书</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#客户端（gitlab服务器）CA证书申请域名"><span class="toc-number">4.3.</span> <span class="toc-text">客户端（gitlab服务器）CA证书申请域名</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1、安装openssl"><span class="toc-number">4.3.1.</span> <span class="toc-text">1、安装openssl</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2、客户端生成密钥文件"><span class="toc-number">4.3.2.</span> <span class="toc-text">2、客户端生成密钥文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3、客户端用私钥加密生成证书请求"><span class="toc-number">4.3.3.</span> <span class="toc-text">3、客户端用私钥加密生成证书请求</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#查看证书的信息"><span class="toc-number">4.3.4.</span> <span class="toc-text">查看证书的信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#将生成的证书发放给请求客户端（Gitlab服务器）"><span class="toc-number">4.3.5.</span> <span class="toc-text">将生成的证书发放给请求客户端（Gitlab服务器）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Gitlab中修改配置"><span class="toc-number">4.4.</span> <span class="toc-text">Gitlab中修改配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#在gitlab前面配置Nginx做转发"><span class="toc-number">4.5.</span> <span class="toc-text">在gitlab前面配置Nginx做转发</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Github-远程仓库"><span class="toc-number">5.</span> <span class="toc-text">Github 远程仓库</span></a></li></ol></div></div></div><div id="body-wrap"><div class="post-bg" id="nav" style="background-image: url(https://l66stbz.github.io/2024/09/03/Git工具/Git工具与gitee、gitlab和github/1.png)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">L66</a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 列表</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Photo</span></a></li></ul></div></div><span class="toggle-menu close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span></span></div><div id="post-info"><div id="post-title"><div class="posttitle">Git工具与gitee、gitlab和github</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="发表于 2024-09-03 21:50:00"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2024-09-03</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="更新于 2024-09-07 10:05:14"><i class="fa fa-history" aria-hidden="true"></i> 更新于 2024-09-07</span></time></div><div class="meta-secondline"> </div><div class="meta-thirdline"><span class="post-meta-pv-cv"><i class="fa fa-eye post-meta__icon" aria-hidden="true"> </i><span>阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"></span></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h2 id="为什么要管理代码？"><a href="#为什么要管理代码？" class="headerlink" title="为什么要管理代码？"></a>为什么要管理代码？</h2><ol>
<li>版本控制：可以追踪代码的变更记录，并且可以看到修改的内容，以及版本的回滚；</li>
<li>分支管理：可以让我们同时处理多个任务。并且不会影响稳定的分支(主分支)；</li>
<li>团队协作：可以让多人协作开发，并且在没有相互影响的条件下独立完成工作。</li>
</ol>
<h2 id="主流的代码仓库"><a href="#主流的代码仓库" class="headerlink" title="主流的代码仓库"></a>主流的代码仓库</h2><ol>
<li>Github</li>
<li>Gitee</li>
<li>Gitlab</li>
</ol>
<h2 id="Git工具"><a href="#Git工具" class="headerlink" title="Git工具"></a>Git工具</h2><p>gitfor官网：<a href="https://gitforwindows.org/" target="_blank" rel="noopener">https://gitforwindows.org/</a></p>
<p>下载链接：<a href="https://github.com/git-for-windows/git/releases/download/v2.45.2.windows.1/Git-2.45.2-64-bit.exe" target="_blank" rel="noopener">https://github.com/git-for-windows/git/releases/download/v2.45.2.windows.1/Git-2.45.2-64-bit.exe</a></p>
<p><img src="https://hjmimage.oss-cn-zhangjiakou.aliyuncs.com/202406032210422.png" alt="image-20240603221000246"></p>
<ol>
<li><strong>安装</strong></li>
</ol>
<p>​        略</p>
<ol start="2">
<li><strong>打开Git终端</strong></li>
</ol>
<img src="https://hjmimage.oss-cn-zhangjiakou.aliyuncs.com/202406032211246.png" alt="image-20240603221115825" style="zoom:50%;">

<p><img src="https://hjmimage.oss-cn-zhangjiakou.aliyuncs.com/202406032212101.png" alt="image-20240603221217058"></p>
<ol start="3">
<li><strong>Git初始化配置</strong></li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看用户</span></span><br><span class="line">$ git config  user.name</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看邮箱</span></span><br><span class="line">$ git config  user.email</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看配置</span></span><br><span class="line">$ git config  --list</span><br></pre></td></tr></table></figure>



<ol start="4">
<li>配置全局用户名和邮箱</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 配置用户</span></span><br><span class="line">$ git config --global user.name <span class="string">"你的名字"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 配置邮箱</span></span><br><span class="line">$ git config --global user.email 你的邮箱</span><br><span class="line"></span><br><span class="line"><span class="comment"># 配置ssh密钥</span></span><br><span class="line">$ ssh-keygen.exe -t rsa -C <span class="string">"你的邮箱"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看Key</span></span><br><span class="line">$ cat ~/.ssh/</span><br><span class="line">id_rsa       id_rsa.pub   known_hosts</span><br></pre></td></tr></table></figure>

<h2 id="Gitee使用"><a href="#Gitee使用" class="headerlink" title="Gitee使用"></a>Gitee使用</h2><p>官网链接：<a href="https://gitee.com/" target="_blank" rel="noopener">https://gitee.com/</a></p>
<p><strong>注册</strong></p>
<p>​    略</p>
<p>gitee使用</p>
<p><img src="https://hjmimage.oss-cn-zhangjiakou.aliyuncs.com/202406032229980.png" alt="image-20240603222912881"></p>
<p><img src="https://hjmimage.oss-cn-zhangjiakou.aliyuncs.com/202406032230796.png" alt="image-20240603223005695"></p>
<p><strong>GItee配置SSH公钥</strong></p>
<p><img src="https://hjmimage.oss-cn-zhangjiakou.aliyuncs.com/202406032230685.png" alt="image-20240603223057609"></p>
<p><img src="https://hjmimage.oss-cn-zhangjiakou.aliyuncs.com/202406032231438.png" alt="image-20240603223139358"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看ssh 公钥</span></span><br><span class="line">$ cat ~/.ssh/id_rsa.pub</span><br><span class="line">ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDN9T3s7uqnOSI2hME0EOdyWQvVw8Cu0uBFFH/vEIaBsyzJylAPI/td0QxLHnCSbRrD+GrIfh99/5giVTx0vNo6dBwhiTp3BlrQhVgBXCqd9evH5Mn03JZBK9aIrUumliaBpWezXh4Se2OSxlpAKt1aNopw8Acvh9IvLCPEOcKHdwEloogz4nRqkG9ZGfuObXeu9sxWt7efg3eASExA7H+x9bvGOkVLm33V+LFWD1/ln4nwGbkvQkh0fCTHZiWbSCTpXKQtmknvBfrT7Fn2VtUhP4jWZhfuft1Ty2j2Jmajc6ZbgEc5z1M3JQo+KoVYlKlaONs5+u/Pmj6pdqpinMo0klwI4hJsO2J0TN+j9S6wsBfIZEh7Cqn1rabf/mE2bXoXmRb8DDc4b/ycF9DLi8ZtHs9CcJWcs8eTuiqgyON75wNGILC4pxJLCFHEQ7JMCa3yCN/2XVSNRIeXdgaOScj2x68ezcJ+zEWEKio6E= hjm131641@163.com</span><br></pre></td></tr></table></figure>

<p><img src="https://hjmimage.oss-cn-zhangjiakou.aliyuncs.com/202406032233218.png" alt="image-20240603223317148"></p>
<p><img src="https://hjmimage.oss-cn-zhangjiakou.aliyuncs.com/202406032235277.png" alt="image-20240603223526218"></p>
<p><strong>gitee命令使用</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 克隆仓库</span></span><br><span class="line">$ git <span class="built_in">clone</span> git@gitee.com:rulaipo/git-test.git</span><br><span class="line">Cloning into <span class="string">'git-test'</span>...</span><br><span class="line">warning: You appear to have cloned an empty repository.</span><br><span class="line"></span><br><span class="line"><span class="comment"># 切换目录</span></span><br><span class="line">$ <span class="built_in">cd</span> git-test/</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建测试文件</span></span><br><span class="line">lenovo@LAPTOP-P0AL7U72 MINGW64 ~/Desktop/git-test (master)</span><br><span class="line">$ vim README.MD</span><br><span class="line"><span class="comment"># 铭哥真帅</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 上传暂存区</span></span><br><span class="line">$ git add .</span><br><span class="line">warning: <span class="keyword">in</span> the working copy of <span class="string">'README.MD'</span>, LF will be replaced by CRLF the next time Git touches it</span><br><span class="line"></span><br><span class="line"><span class="comment"># 上传到本地仓库</span></span><br><span class="line">lenovo@LAPTOP-P0AL7U72 MINGW64 ~/Desktop/git-test (master)</span><br><span class="line">$ git commit  -m <span class="string">"first commit"</span></span><br><span class="line">[master (root-commit) ee63a1e] first commit</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line"> create mode 100644 README.MD</span><br><span class="line"></span><br><span class="line"><span class="comment"># 上传到git仓库</span></span><br><span class="line">lenovo@LAPTOP-P0AL7U72 MINGW64 ~/Desktop/git-test (master)</span><br><span class="line">$ git push origin  master</span><br><span class="line">Enumerating objects: 3, <span class="keyword">done</span>.</span><br><span class="line">Counting objects: 100% (3/3), <span class="keyword">done</span>.</span><br><span class="line">Writing objects: 100% (3/3), 221 bytes | 221.00 KiB/s, <span class="keyword">done</span>.</span><br><span class="line">Total 3 (delta 0), reused 0 (delta 0), pack-reused 0 (from 0)</span><br><span class="line">remote: Powered by GITEE.COM [GNK-6.4]</span><br><span class="line">To gitee.com:rulaipo/git-test.git</span><br><span class="line"> * [new branch]      master -&gt; master</span><br></pre></td></tr></table></figure>

<p>回到Gitee</p>
<p><img src="https://hjmimage.oss-cn-zhangjiakou.aliyuncs.com/202406032242643.png" alt="image-20240603224226584"></p>
<p>案例二：开发人员本地先进行代码开发，然后在上传到新的Gitee仓库</p>
<p><img src="https://hjmimage.oss-cn-zhangjiakou.aliyuncs.com/202406032252493.png" alt="image-20240603225257452"></p>
<p><img src="https://hjmimage.oss-cn-zhangjiakou.aliyuncs.com/202406032252530.png" alt="image-20240603225245462"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 切换目录</span></span><br><span class="line">lenovo@LAPTOP-P0AL7U72 MINGW64 ~/Desktop</span><br><span class="line">$ <span class="built_in">cd</span> git-test/</span><br><span class="line"></span><br><span class="line"><span class="comment"># 初始化</span></span><br><span class="line">lenovo@LAPTOP-P0AL7U72 MINGW64 ~/Desktop/git-test</span><br><span class="line">$ git init</span><br><span class="line">Initialized empty Git repository <span class="keyword">in</span> C:/Users/lenovo/Desktop/git-test/.git/</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加至暂存区</span></span><br><span class="line">lenovo@LAPTOP-P0AL7U72 MINGW64 ~/Desktop/git-test (master)</span><br><span class="line">$ git add .</span><br><span class="line">warning: <span class="keyword">in</span> the working copy of <span class="string">'README.MD'</span>, LF will be replaced by CRLF the next time Git touches it</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加仓库，将远程仓库添加到你当前的 Git 仓库中。</span></span><br><span class="line">lenovo@LAPTOP-P0AL7U72 MINGW64 ~/Desktop/git-test (master)</span><br><span class="line">$ git remote add origin git@gitee.com:rulaipo/git-test.git</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加到本地，创建一个新的提交（commit）的命令，表示将暂存区中的所有更改保存到本地仓库的历史记录中。</span></span><br><span class="line">lenovo@LAPTOP-P0AL7U72 MINGW64 ~/Desktop/git-test (master)</span><br><span class="line">$ git commit -m <span class="string">"first commit"</span></span><br><span class="line">[master (root-commit) fd6f97a] first commit</span><br><span class="line"> 1 file changed, 2 insertions(+)</span><br><span class="line"> create mode 100644 README.MD</span><br><span class="line"></span><br><span class="line"><span class="comment"># 推送代码至Gitee仓库</span></span><br><span class="line">lenovo@LAPTOP-P0AL7U72 MINGW64 ~/Desktop/git-test (master)</span><br><span class="line">$ git push origin master</span><br><span class="line">Enumerating objects: 3, <span class="keyword">done</span>.</span><br><span class="line">Counting objects: 100% (3/3), <span class="keyword">done</span>.</span><br><span class="line">Writing objects: 100% (3/3), 232 bytes | 232.00 KiB/s, <span class="keyword">done</span>.</span><br><span class="line">Total 3 (delta 0), reused 0 (delta 0), pack-reused 0 (from 0)</span><br><span class="line">remote: Powered by GITEE.COM [GNK-6.4]</span><br><span class="line">To gitee.com:rulaipo/git-test.git</span><br><span class="line"> * [new branch]      master -&gt; master</span><br></pre></td></tr></table></figure>

<p><img src="https://hjmimage.oss-cn-zhangjiakou.aliyuncs.com/202406032257521.png" alt="image-20240603225732448"></p>
<p>案例三：同一个代码仓库多人开发，导致本地仓库和远程仓库的代码不一致。需要重新同步代码</p>
<p>模拟远程仓库</p>
<p><img src="https://hjmimage.oss-cn-zhangjiakou.aliyuncs.com/202406032305304.png" alt="image-20240603230554264"></p>
<img src="https://hjmimage.oss-cn-zhangjiakou.aliyuncs.com/202406032306018.png" alt="image-20240603230644949" style="zoom:50%;">

<p><strong>查看本地仓库代码</strong></p>
<p><img src="https://hjmimage.oss-cn-zhangjiakou.aliyuncs.com/202406032307217.png" alt="image-20240603230756187"></p>
<p><strong>重新同步代码</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">lenovo@LAPTOP-P0AL7U72 MINGW64 ~/Desktop/git-test (master)</span><br><span class="line">$ git pull origin master</span><br><span class="line">remote: Enumerating objects: 5, <span class="keyword">done</span>.</span><br><span class="line">remote: Counting objects: 100% (5/5), <span class="keyword">done</span>.</span><br><span class="line">remote: Total 3 (delta 0), reused 0 (delta 0), pack-reused 0</span><br><span class="line">Unpacking objects: 100% (3/3), 949 bytes | 94.00 KiB/s, <span class="keyword">done</span>.</span><br><span class="line">From gitee.com:rulaipo/git-test</span><br><span class="line"> * branch            master     -&gt; FETCH_HEAD</span><br><span class="line">   fd6f97a..6c1820f  master     -&gt; origin/master</span><br><span class="line">Updating fd6f97a..6c1820f</span><br><span class="line">Fast-forward</span><br><span class="line"> README.MD | 1 +</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br></pre></td></tr></table></figure>

<p><img src="https://hjmimage.oss-cn-zhangjiakou.aliyuncs.com/202406032309587.png" alt="image-20240603230957544"></p>
<h2 id="Git命令详解"><a href="#Git命令详解" class="headerlink" title="Git命令详解"></a>Git命令详解</h2><h3 id="Git基础命令"><a href="#Git基础命令" class="headerlink" title="Git基础命令"></a>Git基础命令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 克隆远程已有的仓库至本地</span></span><br><span class="line">$ git <span class="built_in">clone</span> 远程地址</span><br><span class="line"></span><br><span class="line"><span class="comment"># 更新本地代码（拉取远程仓库中的新代码到本地）</span></span><br><span class="line">$ git pull &lt;shortname&gt; &lt;remote_branch&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加所有修改的文件，但不包含删除文件到暂存区</span></span><br><span class="line">$ git add .</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加所有修改的文件以及删除的文件到暂存区</span></span><br><span class="line">$ git add -A (--all)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加单个或者多个文件/目录到暂存区</span></span><br><span class="line">$ git add file1/dir1 file2/dir2</span><br><span class="line"></span><br><span class="line"><span class="comment"># 把文件从暂存区提交至本地仓库</span></span><br><span class="line"><span class="comment"># -a: 类似于 git add，但是不包含新添加的文件</span></span><br><span class="line"><span class="comment"># -m: 注释内容</span></span><br><span class="line">$ git commit -m <span class="string">"提交信息"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 把本地仓库的代码提交至远程仓库</span></span><br><span class="line"><span class="variable">$git</span> push &lt;shortname&gt; &lt;remote_branch&gt;</span><br></pre></td></tr></table></figure>

<h3 id="Git-分支管理"><a href="#Git-分支管理" class="headerlink" title="Git 分支管理"></a>Git 分支管理</h3><p>简介：Git 分支可以看作是代码库中的一个独立工作目录。每个分支都有自己的提交历史和工作目录，允许开发者在不同的分支上进行不同的开发工作，而不会干扰到其他分支的代码。</p>
<h4 id="分支的作用"><a href="#分支的作用" class="headerlink" title="分支的作用"></a>分支的作用</h4><ol>
<li><strong>隔离开发工作</strong>：不同的开发任务（例如新功能、修复 bug）可以在不同的分支上进行。</li>
<li><strong>并行开发</strong>：团队中的多个开发者可以同时在不同的分支上工作，不会相互影响。</li>
<li><strong>代码管理</strong>：通过分支，可以更好地管理代码变更，确保主分支（通常是 <code>main</code> 或 <code>master</code>）始终保持稳定。</li>
</ol>
<h4 id="常见的分支类型"><a href="#常见的分支类型" class="headerlink" title="常见的分支类型"></a>常见的分支类型</h4><ol>
<li>主分支（Main/Master）<ul>
<li><code>main</code> 或 <code>master</code> 分支是代码库中的主分支，通常存储的是稳定的代码。</li>
</ul>
</li>
<li>开发分支（Develop）<ul>
<li><code>develop</code> 分支通常是一个集成分支，包含最新的开发代码。完成的功能分支会合并到 <code>develop</code> 分支。</li>
</ul>
</li>
<li>功能分支（Feature Branches）<ul>
<li>功能分支用于开发新的功能。通常从 <code>develop</code> 分支创建，完成后合并回 <code>develop</code> 分支。</li>
<li>命名示例：<code>feature/awesome-feature</code></li>
</ul>
</li>
<li>修复分支（Hotfix Branches）<ul>
<li>修复分支用于紧急修复生产环境中的 bug。通常从 <code>main</code> 或 <code>master</code> 分支创建，修复完成后合并回 <code>main</code> 和 <code>develop</code> 分支。</li>
<li>命名示例：<code>hotfix/urgent-bugfix</code></li>
</ul>
</li>
<li>发布分支（Release Branches）<ul>
<li>发布分支用于准备新的发布版本。通常从 <code>develop</code> 分支创建，完成后合并回 <code>main</code> 和 <code>develop</code> 分支。</li>
<li>命名示例：<code>release/1.0.0</code></li>
</ul>
</li>
</ol>
<p><strong>网页查看分支</strong></p>
<img src="https://hjmimage.oss-cn-zhangjiakou.aliyuncs.com/202406032321308.png" alt="image-20240603232154262" style="zoom: 50%;">

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建分支（不常用）：</span></span><br><span class="line">$ git branch NEW_BRANCH_NAME</span><br><span class="line">	<span class="comment"># 注意：如果创建的分支基于某个分支去创建，则创建的分支继承了原分支所有的代码</span></span><br></pre></td></tr></table></figure>

<p><img src="https://hjmimage.oss-cn-zhangjiakou.aliyuncs.com/202406032332839.png" alt="image-20240603233228809"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 切换分支：</span></span><br><span class="line">$ git checkout BRANCH_NAME</span><br></pre></td></tr></table></figure>

<p><img src="https://hjmimage.oss-cn-zhangjiakou.aliyuncs.com/202406032333237.png" alt="image-20240603233337208"></p>
<blockquote>
<p><code>提示：此时在develop分支中所有的操作都不会影响master分支</code></p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建分支并切换到新分支（常用）</span></span><br><span class="line">$ git checkout -b NEW_BRANCH_NAME</span><br></pre></td></tr></table></figure>

<p><img src="https://hjmimage.oss-cn-zhangjiakou.aliyuncs.com/202406032336037.png" alt="image-20240603233612005"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看本地仓库所有分支：</span></span><br><span class="line">$ git branch</span><br></pre></td></tr></table></figure>

<p><img src="https://hjmimage.oss-cn-zhangjiakou.aliyuncs.com/202406032337609.png" alt="image-20240603233726577"></p>
<blockquote>
<p><strong>注意：上述图片中是本地分支，并不是远程仓库分支。记得把本地分支推送至远程仓库哟！<code>嘿嘿</code></strong></p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看远程仓库的所有分支：</span></span><br><span class="line">$ git branch -r</span><br></pre></td></tr></table></figure>

<p><img src="https://hjmimage.oss-cn-zhangjiakou.aliyuncs.com/202406032340977.png" alt="image-20240603234022942"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看远程和本地所有分支：</span></span><br><span class="line">$ git branch -a</span><br></pre></td></tr></table></figure>

<p><img src="https://hjmimage.oss-cn-zhangjiakou.aliyuncs.com/202406032341052.png" alt="image-20240603234142016"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 同步新分支到远程仓库</span></span><br><span class="line">$ git push origin NEW_BRANCH_NAME</span><br></pre></td></tr></table></figure>

<p><img src="https://hjmimage.oss-cn-zhangjiakou.aliyuncs.com/202406032344376.png" alt="image-20240603234400316"></p>
<p><strong>Gitee查看分支</strong></p>
<p><img src="https://hjmimage.oss-cn-zhangjiakou.aliyuncs.com/202406032345331.png" alt="image-20240603234510256"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 删除本地分支</span></span><br><span class="line">$ git branch -d BRANCH_NAME</span><br></pre></td></tr></table></figure>

<p><img src="https://hjmimage.oss-cn-zhangjiakou.aliyuncs.com/202406032349881.png" alt="image-20240603234919852"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 强制本地删除分支</span></span><br><span class="line">$ git branch -D BRANCH_NAME</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意： -d 在删除会对删除的分支做一个校验，确保该分支已经合并，如果没有则会出现报错</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 删除远程仓库分支</span></span><br><span class="line">$ git push origin --delete BRANCH_NAME</span><br></pre></td></tr></table></figure>

<p><img src="https://hjmimage.oss-cn-zhangjiakou.aliyuncs.com/202406032353675.png" alt="image-20240603235328641"></p>
<p><strong>Gitee查看</strong></p>
<img src="https://hjmimage.oss-cn-zhangjiakou.aliyuncs.com/202406032354159.png" alt="image-20240603235414100" style="zoom:50%;">



<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 合并分支：</span></span><br><span class="line">$ git merge BRANCH_NAME</span><br></pre></td></tr></table></figure>

<p><img src="https://hjmimage.oss-cn-zhangjiakou.aliyuncs.com/202406040001878.png" alt="image-20240604000137802"></p>
<h3 id="Git版本管理"><a href="#Git版本管理" class="headerlink" title="Git版本管理"></a>Git版本管理</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看仓库做了哪些更改</span></span><br><span class="line">$ git <span class="built_in">log</span></span><br></pre></td></tr></table></figure>

<p><img src="https://hjmimage.oss-cn-zhangjiakou.aliyuncs.com/202406040738610.png" alt="image-20240604073817490"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#查看当前环境文件变更状态：</span></span><br><span class="line">$ git status</span><br></pre></td></tr></table></figure>

<p><img src="https://hjmimage.oss-cn-zhangjiakou.aliyuncs.com/202406040739341.png" alt="image-20240604073944310"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看修改了什么内容：</span></span><br><span class="line">$ git diff FILE_NAME</span><br><span class="line">	<span class="comment"># - 删除了某行</span></span><br><span class="line">	<span class="comment"># + 添加的行</span></span><br></pre></td></tr></table></figure>

<p><img src="https://hjmimage.oss-cn-zhangjiakou.aliyuncs.com/202406040744736.png" alt="image-20240604074435676"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 对比两个版本的差异：</span></span><br><span class="line">$ git diff COMMIT_ID COMMIT_ID</span><br></pre></td></tr></table></figure>



<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 撤销单个文件的修改：</span></span><br><span class="line">$ git checkout -- FILE_NAME</span><br></pre></td></tr></table></figure>



<p><img src="https://hjmimage.oss-cn-zhangjiakou.aliyuncs.com/202406040746164.png" alt="image-20240604074602118"></p>
<p><img src="https://hjmimage.oss-cn-zhangjiakou.aliyuncs.com/202406040747326.png" alt="image-20240604074752294"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 撤销所有文件的修改：</span></span><br><span class="line">$ git reset --hard</span><br></pre></td></tr></table></figure>

<p><img src="https://hjmimage.oss-cn-zhangjiakou.aliyuncs.com/202406040750664.png" alt="image-20240604075014592"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 回滚到某个版本</span></span><br><span class="line">lenovo@LAPTOP-P0AL7U72 MINGW64 ~/Desktop/qf2401 (master)</span><br><span class="line">$ git <span class="built_in">log</span></span><br><span class="line">commit de60c5699a7e3ed3f5f69e830528238c3223fd4b (HEAD -&gt; master, origin/master)</span><br><span class="line">Author: jiaming &lt;hjm131641@163.com&gt;</span><br><span class="line">Date:   Wed Jun 5 07:25:27 2024 +0800</span><br><span class="line"></span><br><span class="line">    添加了111文件</span><br><span class="line"></span><br><span class="line">commit 67ac296cc6f13e3174beb135179179a76b67c11e</span><br><span class="line">Author: jiaming &lt;hjm131641@163.com&gt;</span><br><span class="line">Date:   Wed Jun 5 07:23:25 2024 +0800</span><br><span class="line"></span><br><span class="line">    first master</span><br><span class="line"></span><br><span class="line">commit ac5b719ef4ed2e97ff6c9237d071fdb570bc96ed (develop)</span><br><span class="line">Author: jiaming &lt;hjm131641@163.com&gt;</span><br><span class="line">Date:   Tue Jun 4 16:00:02 2024 +0800</span><br><span class="line"></span><br><span class="line">    我新添加了一个字段</span><br><span class="line"></span><br><span class="line">commit c784c2d15d5a0c58ad40150bfd263d2ffb7bfdb7</span><br><span class="line">Author: jiaming &lt;2423737643@qq.com&gt;</span><br><span class="line">Date:   Tue Jun 4 07:46:22 2024 +0000</span><br><span class="line"></span><br><span class="line">    update REDME.md.</span><br><span class="line"></span><br><span class="line">    Signed-off-by: jiaming &lt;2423737643@qq.com&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">lenovo@LAPTOP-P0AL7U72 MINGW64 ~/Desktop/qf2401 (master)</span><br><span class="line">$ git reset --hard ac5b719ef4ed2e97ff6c9237d071fdb570bc96ed</span><br><span class="line">HEAD is now at ac5b719 我新添加了一个字段</span><br></pre></td></tr></table></figure>

<p><img src="https://hjmimage.oss-cn-zhangjiakou.aliyuncs.com/202406050757619.png" alt="image-20240605075654565"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 把回滚的内容强制推送至远程仓库</span></span><br><span class="line">$ git push origin --force</span><br></pre></td></tr></table></figure>



<h3 id="1-版本控制系统："><a href="#1-版本控制系统：" class="headerlink" title="1. 版本控制系统："></a>1. 版本控制系统：</h3><p>git   分布式  —没有中心代码库，所有机器之间的地位同等（每台机器上都有相同的代码）</p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1569162553917.png#id=zet6v&originHeight=606&originWidth=501&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt=" "></p>
<p>svn  集中管理的 —有中心代码库，其他都是客户端</p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1569162546959.png#id=fNnhX&originHeight=363&originWidth=518&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<h3 id="2-git与svn介绍"><a href="#2-git与svn介绍" class="headerlink" title="2.git与svn介绍"></a>2.git与svn介绍</h3><h5 id="1-git属于分布式版本控制系统"><a href="#1-git属于分布式版本控制系统" class="headerlink" title="1.git属于分布式版本控制系统"></a><strong>1.git属于</strong>分布式版本控制系统</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">客户端并不只提取最新版本的文件，而是把原始的代码仓库完整地克隆下来。</span><br><span class="line">优点：</span><br><span class="line">a.由于任何人每次提取操作，实际上都是一次对代码仓库的完整备份，因此近乎所有的操作都可以在本地执行，速度就是相当的快，并且可以在网络断开的时候操作仍然不受影响，可以频繁的进行提交更新，等到有网络的时候再上传到远程的仓库就可以了。</span><br><span class="line">b.git的分支模型，相当的轻量级，被称为“必杀技”。</span><br><span class="line"></span><br><span class="line">缺点：</span><br><span class="line">a.每个开发人员都拥有所有的代码，不利于核心代码的保密（如果有重要代码需要保密，则不建议使用git）</span><br></pre></td></tr></table></figure>

<h5 id="2-svn属于集中式的版本控制系统"><a href="#2-svn属于集中式的版本控制系统" class="headerlink" title="2.svn属于集中式的版本控制系统"></a><strong>2.svn属于</strong>集中式的版本控制系统</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">有一个单一的集中管理的服务器，保存所有文件的修订版本，而协同工作的成员通过客户端连接到这台服务器，进行文件上传和更新。</span><br><span class="line"></span><br><span class="line">优点：</span><br><span class="line">a.使用简单，比较符合我们的常规思维</span><br><span class="line">b.同步代码比较简单，只要一步操作即可。</span><br><span class="line"></span><br><span class="line">缺点：</span><br><span class="line">a.丢失数据的风险：最显而易见的，由于集中化的特点，如果版本库的服务器磁盘发生故障等，你不能保证所有的数据已经有人提取出来了，最坏的情况是彻底的丢失整个项目的所有历史更改记录。</span><br><span class="line">b.网络中断的情况下，协作就无法进行了，因为无法连接服务器进行上传和更新。</span><br></pre></td></tr></table></figure>
<p>面试题：Git和SVN的区别？</p>
<h3 id="3-git-相关概念—纯命令行"><a href="#3-git-相关概念—纯命令行" class="headerlink" title="3.git 相关概念—纯命令行"></a>3.git 相关概念—纯命令行</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">工作区</span><br><span class="line">版本库</span><br><span class="line">暂存区</span><br><span class="line">HEAD</span><br><span class="line">版本号</span><br><span class="line">版本日志</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1.工作区（Working Directory）</span><br><span class="line">存放git版本仓库的目录就是工作区（放源代码的地方）</span><br><span class="line"></span><br><span class="line">2.暂存区：</span><br><span class="line">Git的版本库里存了很多东西，其中最重要的就是称为stage（或者叫index）的暂存区，（会将代码添加到缓存区，没有问题之后在提交到版本库）</span><br><span class="line"></span><br><span class="line">3.版本库（Repository）</span><br><span class="line">工作区有一个隐藏目录.git，这个不算工作区，而是Git的版本库。</span><br><span class="line"></span><br><span class="line">4.HEAD:指向你最近一次提交后的结果。（现在是哪个版本，头就会指向这个版本）</span><br></pre></td></tr></table></figure>

<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1565333052161.png#id=yxUDQ&originHeight=338&originWidth=609&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1570262838271.png#id=AJLkd&originHeight=328&originWidth=609&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p>1.添加文件到暂存区：</p>
<p>创建两个文件add到stage：<br>#git add  文件名<br>或者<br>#git add  *</p>
<p>从暂存区(stage)提交到当前master分支的HEAD：</p>
<p>git commit -m “版本描述信息”          #提交暂存区里的修改到版本库的分支</p>
<p>版本号：最核心用的是id号。每个版本都会有一个id号，也就是commit id，</p>
<p>查看版本号：<br>版本号可以通过版本日志查看</p>
<p>commit完成的功能类似快照，可以使用git log查看每次的commit记录</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@vm20 gittest]# git log</span><br><span class="line">commit fbecfa3d04ae5038aa11bf55942e46c840077ace                  //id号</span><br></pre></td></tr></table></figure>

<h3 id="二、git部署"><a href="#二、git部署" class="headerlink" title="二、git部署"></a>二、git部署</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">环境：</span><br><span class="line">    git-server    192.168.246.214  充当中心代码仓库服务器</span><br><span class="line">    client        192.168.246.213</span><br><span class="line"></span><br><span class="line">所有机器关闭防火墙和selinux</span><br><span class="line"></span><br><span class="line">安装：所有机器都安装</span><br><span class="line">   [root@git-server ~]# yum install -y git</span><br><span class="line">   [root@git-server ~]# git --version </span><br><span class="line">   git version 1.8.3.1</span><br><span class="line">   </span><br><span class="line">准备：</span><br><span class="line">    因为Git是分布式版本控制系统，所以，每个机器都必须注册：你的名字和Email地址。</span><br><span class="line">    注意git config命令的--global参数，用了这个参数，表示你这台机器上所有的Git仓库都会使用这个配置。</span><br><span class="line"></span><br><span class="line">所有的机器都添加，只要邮箱和用户不一样就可以。   </span><br><span class="line">    # git config --global user.email "soho@163.com"     ----设置邮箱</span><br><span class="line">    # git config --global user.name "soho"                   ----加添用户</span><br><span class="line">    # cat /root/.gitconfig</span><br><span class="line">    # git config --global color.ui true		#语法高亮</span><br><span class="line">    # git config --list			#查看全局配置</span><br></pre></td></tr></table></figure>

<h4 id="1、git使用"><a href="#1、git使用" class="headerlink" title="1、git使用"></a>1、git使用</h4><p><strong>创建版本库:</strong></p>
<p>1.创建一个空目录<strong>：</strong>在中心服务器上创建</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@git-server ~]# mkdir /git-test</span><br><span class="line">[root@git-server ~]# useradd git   #创建一个git用户用来运行git</span><br><span class="line">[root@git-server ~]# passwd git  #给用户设置密码git</span><br><span class="line">[root@git-server ~]# cd /git-test/</span><br></pre></td></tr></table></figure>

<p>2.通过git init命令把这个目录变成Git可以管理的仓库：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">第1种情况：可以改代码，还能上传到别人的机器，别人也能从你这里下载但是别人不能上传代码到你的机器上。</span><br><span class="line">第2种情况：只是为了上传代码用，别人从这台机器上下载代码也可以上传代码到这台机器上，经常用于核心代码库。</span><br></pre></td></tr></table></figure>

<p><strong>创建裸库</strong>：  适用于作为远程中心仓库使用<br>创建裸库才可以从别处push（传）代码过来，使用–bare参数——裸</p>
<h1 id="git-init-–bare-库名字"><a href="#git-init-–bare-库名字" class="headerlink" title="git init –bare  库名字"></a>git init –bare  库名字</h1><p><strong>创建一裸库</strong>：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@git-server git-test]# git init --bare testgit</span><br><span class="line">Initialized empty Git repository in /git-test/testgit/</span><br><span class="line">[root@git-server ~]# chown git.git /git-test -R  #修改权限</span><br><span class="line">2.仓库创建完成后查看库目录：</span><br><span class="line">[root@git-server git-test]# cd testgit/</span><br><span class="line">[root@git-server testgit]# ls</span><br><span class="line">branches  config  description  HEAD  hooks  info  objects  refs</span><br></pre></td></tr></table></figure>

<h4 id="1-客户端"><a href="#1-客户端" class="headerlink" title="1.客户端"></a>1.客户端</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1.配置免密登录</span><br><span class="line">[root@client ~]# ssh-keygen    #生成秘钥</span><br><span class="line">[root@client ~]# ssh-copy-id -i git@192.168.246.214   #将秘钥传输到git服务器中的git用户</span><br><span class="line">2.克隆git仓库</span><br><span class="line">[root@client ~]# yum install -y git</span><br><span class="line">[root@client ~]# git clone git@192.168.246.214:/git-test/testgit/</span><br><span class="line">Cloning into 'testgit'...</span><br><span class="line">warning: You appear to have cloned an empty repository.</span><br><span class="line">[root@client ~]# ls  #查看仓库已经克隆下来了</span><br><span class="line">anaconda-ks.cfg    testgit</span><br></pre></td></tr></table></figure>

<p>1.创建文件模拟代码提交到仓库</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">1.在testgit目录下创建一个测试文件test.txt</span><br><span class="line">[root@client ~]# cd testgit/</span><br><span class="line">[root@client testgit]# vim test.txt   #随便写点东西</span><br><span class="line"></span><br><span class="line">2.把文件添加到暂存区：使用 "git add" 建立跟踪</span><br><span class="line">[root@client testgit]# git add test.txt</span><br><span class="line">注: 这里可以使用 git add * 或者 git add -A</span><br><span class="line"></span><br><span class="line">3.提交文件到仓库分支：</span><br><span class="line">[root@client testgit]# git commit -m "test1"</span><br><span class="line">[master (root-commit) 2b51ff9] test1</span><br><span class="line"> 1 file changed, 2 insertions(+)</span><br><span class="line"> create mode 100644 test.txt</span><br><span class="line"> -m:描述</span><br><span class="line"> </span><br><span class="line"> 4.查看git状态：</span><br><span class="line">[root@client testgit]# git status </span><br><span class="line"><span class="meta">#</span><span class="bash"> On branch master   <span class="comment">#分支位于master</span></span></span><br><span class="line">5.修改文件后再此查看状态：</span><br><span class="line">[root@client testgit]# echo '1122334' &gt;&gt; test.txt</span><br><span class="line">[root@client testgit]# git status</span><br><span class="line"><span class="meta">#</span><span class="bash"> 位于分支 master</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 尚未暂存以备提交的变更：</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   （使用 <span class="string">"git add &lt;file&gt;..."</span> 更新要提交的内容）</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   （使用 <span class="string">"git checkout -- &lt;file&gt;..."</span> 丢弃工作区的改动）</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span><span class="bash">	修改：      readme.txt</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line">修改尚未加入提交（使用 "git add" 和/或 "git commit "</span><br><span class="line">6.先add</span><br><span class="line">[root@client testgit]# git add -A</span><br><span class="line">8.再次提交commit：</span><br><span class="line">[root@client testgit]# git commit  -m "add2"</span><br><span class="line">[master 73bf688] add2</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line"> [root@client testgit]# git status </span><br><span class="line"><span class="meta">#</span><span class="bash"> On branch master</span></span><br><span class="line">nothing to commit, working directory clean</span><br></pre></td></tr></table></figure>

<h4 id="2、版本回退"><a href="#2、版本回退" class="headerlink" title="2、版本回退"></a>2、版本回退</h4><p>已经提交了不合适的修改到版本库时，想要撤销本次提交，使用版本回退，不过前提是没有推送到远程库。</p>
<p><strong>查看现在的版本：</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@client testgit]# git log</span><br><span class="line">显示的哪个版本在第一个就是当前使用的版本。</span><br></pre></td></tr></table></figure>

<p><strong>版本回退(切换)：</strong><br>在Git中，上一个版本就是HEAD^，当然往上100个版本写100个比较容易数不过来，所以写成HEAD~100（一般使用id号来恢复）</p>
<p>回到上一个版本</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@client testgit]# git reset --hard HEAD^ </span><br><span class="line">HEAD is now at 0126755 test1</span><br><span class="line">2.回到指定的版本(根据版本号): </span><br><span class="line">[root@client testgit]# git reset --hard dd66ff</span><br><span class="line">HEAD is now at dd66ff9 add2</span><br><span class="line">==========================================================</span><br><span class="line">注：消失的ID号：</span><br><span class="line">回到早期的版本后再查看git log会发现最近的版本消失，可以使用reflog查看消失的版本ID，用于回退到消失的版本</span><br><span class="line">[root@vm20 gittest]# git reflog</span><br><span class="line">2a85982 HEAD@&#123;0&#125;: reset: moving to 2a859821a2385e136fe83f3a206b287eb0eb8c18</span><br><span class="line">f5bc8c1 HEAD@&#123;1&#125;: commit: test-version2</span><br><span class="line">2a85982 HEAD@&#123;2&#125;: commit (initial): test-version1</span><br><span class="line"></span><br><span class="line">[root@git-client testgit]# git reset --hard f5bc8c1</span><br></pre></td></tr></table></figure>

<h4 id="3、删除文件"><a href="#3、删除文件" class="headerlink" title="3、删除文件"></a>3、<strong>删除文件</strong></h4><p>从工作区删除test.txt，并且从版本库一起删除</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line">++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><br><span class="line">工作区：</span><br><span class="line">[root@client testgit]# touch test.txt</span><br><span class="line">[root@client testgit]# git status</span><br><span class="line"><span class="meta">#</span><span class="bash"> On branch master</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Untracked files:</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   (use <span class="string">"git add &lt;file&gt;..."</span> to include <span class="keyword">in</span> what will be committed)</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span><span class="bash">       qf.txt</span></span><br><span class="line">nothing added to commit but untracked files present (use "git add" to track)</span><br><span class="line">[root@client testgit]# rm -rf test.txt  未添加到暂存区，可直接删除</span><br><span class="line">[root@client testgit]# git status</span><br><span class="line"><span class="meta">#</span><span class="bash"> On branch master</span></span><br><span class="line">nothing to commit, working directory clean</span><br><span class="line"></span><br><span class="line">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><br><span class="line">已从工作区提交到暂存区：</span><br><span class="line">第一种方法</span><br><span class="line">[root@client testgit]# touch test.txt</span><br><span class="line">[root@client testgit]# git status</span><br><span class="line"><span class="meta">#</span><span class="bash"> On branch master</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Initial commit</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Untracked files:</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   (use <span class="string">"git add &lt;file&gt;..."</span> to include <span class="keyword">in</span> what will be committed)</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span><span class="bash">       test.txt</span></span><br><span class="line">nothing added to commit but untracked files present (use "git add" to track)</span><br><span class="line"></span><br><span class="line">[root@client testgit]# git add test.txt</span><br><span class="line">[root@client testgit]# git status</span><br><span class="line"><span class="meta">#</span><span class="bash"> On branch master</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Initial commit</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Changes to be committed:</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   (use <span class="string">"git rm --cached &lt;file&gt;..."</span> to unstage)</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span><span class="bash">       new file:   test.txt</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"></span><br><span class="line">[root@client testgit]#  git rm --cache test.txt #从暂存区移除</span><br><span class="line">rm 'test.txt'</span><br><span class="line">[root@client testgit]# ls</span><br><span class="line">test.txt</span><br><span class="line">[root@client testgit]# git status</span><br><span class="line"><span class="meta">#</span><span class="bash"> On branch master</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Initial commit</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Untracked files:</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   (use <span class="string">"git add &lt;file&gt;..."</span> to include <span class="keyword">in</span> what will be committed)</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span><span class="bash">       test.txt</span></span><br><span class="line">nothing added to commit but untracked files present (use "git add" to track)</span><br><span class="line">[root@client testgit]# rm -rf test.txt </span><br><span class="line">[root@client testgit]# git status</span><br><span class="line"><span class="meta">#</span><span class="bash"> On branch master</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Initial commit</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line">nothing to commit (create/copy files and use "git add" to track)</span><br><span class="line"></span><br><span class="line">第二种方法：</span><br><span class="line">[root@client testgit]# touch  b.txt</span><br><span class="line">[root@client testgit]# git add b.txt </span><br><span class="line">[root@client testgit]# git status</span><br><span class="line"><span class="meta">#</span><span class="bash"> On branch master</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Initial commit</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Changes to be committed:</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   (use <span class="string">"git rm --cached &lt;file&gt;..."</span> to unstage)</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span><span class="bash">       new file:   b.txt</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line">[root@client testgit]# git rm -f b.txt </span><br><span class="line">rm 'b.txt'</span><br><span class="line">[root@client testgit]# ls</span><br><span class="line">[root@client testgit]# git status</span><br><span class="line"><span class="meta">#</span><span class="bash"> On branch master</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Initial commit</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line">nothing to commit (create/copy files and use "git add" to track)</span><br><span class="line"></span><br><span class="line">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><br><span class="line">直接在暂存区rm掉文件，如何解决</span><br><span class="line">[root@client testgit]# touch c.txt</span><br><span class="line">[root@client testgit]# git add c.txt </span><br><span class="line">[root@client testgit]# ls</span><br><span class="line">c.txt</span><br><span class="line">[root@client testgit]# git status</span><br><span class="line"><span class="meta">#</span><span class="bash"> On branch master</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Initial commit</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Changes to be committed:</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   (use <span class="string">"git rm --cached &lt;file&gt;..."</span> to unstage)</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span><span class="bash">       new file:   c.txt</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line">[root@client testgit]# rm -rf c.txt </span><br><span class="line">[root@client testgit]# git status</span><br><span class="line"><span class="meta">#</span><span class="bash"> On branch master</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Initial commit</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Changes to be committed:</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   (use <span class="string">"git rm --cached &lt;file&gt;..."</span> to unstage)</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span><span class="bash">       new file:   c.txt</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Changes not staged <span class="keyword">for</span> commit:</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   (use <span class="string">"git add/rm &lt;file&gt;..."</span> to update what will be committed)</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   (use <span class="string">"git checkout -- &lt;file&gt;..."</span> to discard changes <span class="keyword">in</span> working directory)</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span><span class="bash">       deleted:    c.txt</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line">[root@client testgit]# git rm --cache c.txt</span><br><span class="line">rm 'c.txt'</span><br><span class="line">[root@client testgit]# ls</span><br><span class="line">[root@client testgit]# git status</span><br><span class="line"><span class="meta">#</span><span class="bash"> On branch master</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Initial commit</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line">nothing to commit (create/copy files and use "git add" to track)</span><br><span class="line">[root@client testgit]# </span><br><span class="line">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><br></pre></td></tr></table></figure>

<h4 id="4、修改文件"><a href="#4、修改文件" class="headerlink" title="4、修改文件"></a>4、修改文件</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">暂存区修改名称</span><br><span class="line">[root@client testgit]# touch  a.txt</span><br><span class="line">[root@client testgit]# git status</span><br><span class="line"><span class="meta">#</span><span class="bash"> On branch master</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Untracked files:</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   (use <span class="string">"git add &lt;file&gt;..."</span> to include <span class="keyword">in</span> what will be committed)</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span><span class="bash">       a.txt</span></span><br><span class="line">nothing added to commit but untracked files present (use "git add" to track)</span><br><span class="line">[root@client testgit]# git add a.txt </span><br><span class="line">[root@client testgit]# git status</span><br><span class="line"><span class="meta">#</span><span class="bash"> On branch master</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Changes to be committed:</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   (use <span class="string">"git reset HEAD &lt;file&gt;..."</span> to unstage)</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span><span class="bash">       new file:   a.txt</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line">[root@client testgit]# git mv a.txt  d.txt</span><br><span class="line">[root@client testgit]# git status</span><br><span class="line"><span class="meta">#</span><span class="bash"> On branch master</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Changes to be committed:</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   (use <span class="string">"git reset HEAD &lt;file&gt;..."</span> to unstage)</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span><span class="bash">       new file:   d.txt</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line">[root@client testgit]# ls</span><br><span class="line">d.txt  test.txt</span><br><span class="line">[root@client testgit]# git rm --cache d.txt</span><br><span class="line">[root@client testgit]# rm -rf d.txt</span><br></pre></td></tr></table></figure>

<h4 id="5、将代码上传到仓库的master分支"><a href="#5、将代码上传到仓库的master分支" class="headerlink" title="5、将代码上传到仓库的master分支"></a>5、将代码上传到仓库的master分支</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@client testgit]# vi a.txt   #创建一个新文件</span><br><span class="line">hello world</span><br><span class="line">[root@client testgit]# git add a.txt </span><br><span class="line">[root@client testgit]# git commit -m "add"</span><br><span class="line">[root@client testgit]# git push origin master   #上传到中心仓库master分支</span><br><span class="line">Counting objects: 11, done.</span><br><span class="line">Compressing objects: 100% (4/4), done.</span><br><span class="line">Writing objects: 100% (11/11), 828 bytes | 0 bytes/s, done.</span><br><span class="line">Total 11 (delta 0), reused 0 (delta 0)</span><br><span class="line">To git@192.168.246.214:/git-test/testgit/</span><br><span class="line"> * [new branch]      master -&gt; master</span><br></pre></td></tr></table></figure>

<p>测试:</p>
<p>在客户端将仓库删除掉然后在克隆下来查看仓库中是否有文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@client testgit]# cd</span><br><span class="line">[root@client ~]# rm -rf testgit/</span><br><span class="line">[root@client ~]# git clone git@192.168.246.214:/git-test/testgit/</span><br><span class="line">Cloning into 'testgit'...</span><br><span class="line">remote: Counting objects: 11, done.</span><br><span class="line">remote: Compressing objects: 100% (4/4), done.</span><br><span class="line">remote: Total 11 (delta 0), reused 0 (delta 0)</span><br><span class="line">Receiving objects: 100% (11/11), done.</span><br><span class="line">[root@client ~]# cd testgit/</span><br><span class="line">[root@client testgit]# ls</span><br><span class="line">a.txt</span><br><span class="line">[root@client testgit]# cat a.txt </span><br><span class="line">hello world</span><br></pre></td></tr></table></figure>

<h3 id="三、创建分支并合并分支"><a href="#三、创建分支并合并分支" class="headerlink" title="三、创建分支并合并分支"></a>三、创建分支并合并分支</h3><p>每次提交，Git都把它们串成一条时间线，这条时间线就是一个分支。截止到目前，只有一条时间线，在Git里，这个分支叫主分支，即<code>master</code>分支。<code>HEAD</code>严格来说不是指向提交，而是指向<code>master</code>，<code>master</code>才是指向提交的，所以，<code>HEAD</code>指向的就是当前分支。</p>
<p>在客户端操作：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">[root@client ~]# git clone git@192.168.246.214:/git-test/testgit/</span><br><span class="line">[root@client testgit]# git status </span><br><span class="line"><span class="meta">#</span><span class="bash"> On branch master   <span class="comment">#当前所在为master分支</span></span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Initial commit</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line">nothing to commit (create/copy files and use "git add" to track)</span><br><span class="line">注意：刚创建的git仓库默认的master分支要在第一次commit之后才会真正建立。然后先git add .添加所有项目文件到本地仓库缓存，再git commit -m "init commit"提交到本地仓库，之后就可以随心所欲地创建或切换分支了。</span><br><span class="line">创建分支:</span><br><span class="line">[root@client testgit]# git branch dev   #创建分支。</span><br><span class="line">[root@client testgit]# git branch    #查看分支。*在哪里就表示当前是哪个分支</span><br><span class="line">  dev</span><br><span class="line">* master</span><br><span class="line">切换分支:</span><br><span class="line">[root@client testgit]# git checkout dev</span><br><span class="line">Switched to branch 'dev'</span><br><span class="line">[root@client testgit]# git branch </span><br><span class="line">* dev</span><br><span class="line">  master</span><br><span class="line">在dev分支创建一个文件；</span><br><span class="line">[root@client testgit]# vi test.txt</span><br><span class="line">[root@client testgit]# git add test.txt </span><br><span class="line">[root@client testgit]# git commit -m "add dev"</span><br><span class="line">[dev f855bdf] add dev</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line"> create mode 100644 test.txt</span><br><span class="line">现在，dev分支的工作完成，我们就可以切换回master分支：</span><br><span class="line"> [root@client testgit]# git checkout master</span><br><span class="line">Switched to branch 'master'</span><br></pre></td></tr></table></figure>

<p>切换回<code>master</code>分支后，再查看一个<code>test.txt</code>文件，刚才添加的内容不见了！因为那个提交是在<code>dev</code>分支上，而<code>master</code>分支此刻的提交点并没有变：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@client testgit]# ls</span><br><span class="line">a.txt</span><br></pre></td></tr></table></figure>

<p>现在，我们把<code>dev</code>分支的工作成果合并到<code>master</code>分支上：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@client testgit]# git merge dev</span><br><span class="line">Updating 40833e0..f855bdf</span><br><span class="line">Fast-forward</span><br><span class="line"> test.txt | 1 +</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line"> create mode 100644 test.txt</span><br><span class="line">[root@client testgit]# ls</span><br><span class="line">a.txt  test.txt</span><br><span class="line">现在已经将dev分支的内容合并到master上。确认没有问题上传到远程仓库:</span><br><span class="line">[root@client testgit]# git push origin master</span><br></pre></td></tr></table></figure>

<p><code>git merge</code>命令用于合并指定分支到当前分支。合并后，再查看<code>test.txt</code>的内容，就可以看到，和<code>dev</code>分支的最新提交是完全一样的。</p>
<p>合并完成后，就可以放心地删除<code>dev</code>分支了：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@client testgit]# git branch -d dev</span><br><span class="line">Deleted branch dev (was f855bdf).</span><br></pre></td></tr></table></figure>

<p>删除后，查看<code>branch</code>，就只剩下<code>master</code>分支了：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@client testgit]# git branch </span><br><span class="line">* master</span><br></pre></td></tr></table></figure>

<h2 id="部署gitlab服务"><a href="#部署gitlab服务" class="headerlink" title="部署gitlab服务"></a>部署gitlab服务</h2><p>准备环境:  关闭防火墙和selinux</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">192.168.246.214  #gitlab服务器</span><br></pre></td></tr></table></figure>

<p>1.配置yum源</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@git-server ~]# cd /etc/yum.repos.d/</span><br><span class="line">[root@git-server yum.repos.d]# vi gitlab-ce.repo</span><br><span class="line">[gitlab-ce]</span><br><span class="line">name=Gitlab CE Repository</span><br><span class="line">baseurl=https://mirrors.tuna.tsinghua.edu.cn/gitlab-ce/yum/el$releasever</span><br><span class="line">gpgcheck=0</span><br><span class="line">enabled=1</span><br><span class="line">安装相关依赖</span><br><span class="line">[root@git-server yum.repos.d]# yum install -y postfix curl policycoreutils-python openssh-server</span><br><span class="line">[root@git-server yum.repos.d]# systemctl enable sshd</span><br><span class="line">[root@git-server yum.repos.d]# systemctl start sshd</span><br><span class="line">安装postfix</span><br><span class="line">[root@git-server yum.repos.d]# yum install postfix  -y   #安装邮箱</span><br><span class="line">[root@git-server yum.repos.d]# systemctl enable postfix</span><br><span class="line">[root@git-server yum.repos.d]# systemctl start postfix</span><br><span class="line">[root@git-server yum.repos.d]# yum install -y gitlab-ce  #将会安装gitlab最新版本</span><br></pre></td></tr></table></figure>

<p>配置gitlab登录链接</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@git-server ~]# vim /etc/gitlab/gitlab.rb</span><br><span class="line">1.# 添加对外的域名（gitlab.papamk.com请添加A记录指向本服务器的公网IP）：将原来的修改为</span><br><span class="line">external_url 'http://192.168.246.214'</span><br><span class="line">2.设置地区</span><br><span class="line">gitlab_rails['time_zone'] = 'Asia/Shanghai'</span><br></pre></td></tr></table></figure>

<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1565608710245.png#id=MrREw&originHeight=97&originWidth=757&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p>将数据路径的注释去掉，可以更改</p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1569160187589.png#id=tgyur&originHeight=197&originWidth=448&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p>开启ssh服务:</p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1569160284570.png#id=Wo9Z4&originHeight=126&originWidth=517&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p>初始化Gitlab:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@git-server ~]# gitlab-ctl reconfigure   #重新加载，需要等很长时间</span><br></pre></td></tr></table></figure>

<p>…</p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1565609606025.png#id=uJbWU&originHeight=231&originWidth=1201&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/23214851/1678269039108-af471574-abf7-4a49-9676-eeb975ed8634.png#averageHue=%230e0b0a&clientId=ud1472ba6-6034-4&from=paste&height=387&id=u0f1a19c2&originHeight=484&originWidth=1584&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=48664&status=done&style=none&taskId=u25a89faa-be67-4eb9-82f5-5b374c470e2&title=&width=1267.2" alt="image.png"></p>
<p>…</p>
<p>启动Gitlab服务:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@git-server ~]# gitlab-ctl start  #启动</span><br></pre></td></tr></table></figure>

<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1565611373574.png#id=ZIbLl&originHeight=381&originWidth=500&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt><br>在gitlab14版本以上，会有默认的root用户，密码存在/etc/gitlab/initial_root_password<br><img src="https://cdn.nlark.com/yuque/0/2022/png/23214851/1665390163318-ce29218e-37b4-4695-a286-2cef61b68341.png#averageHue=%23110e0c&clientId=u82105d95-bd8a-4&from=paste&height=354&id=u2c2c9e2d&originHeight=443&originWidth=1907&originalType=binary&ratio=1&rotation=0&showTitle=false&size=58561&status=done&style=none&taskId=u0ac06ada-87ba-4a97-b67b-e492b1d679e&title=&width=1525.6" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2022/png/23214851/1665390227373-c2bbb9a1-ed2f-4d17-80aa-b5ebd7ae164a.png#averageHue=%23faf7f7&clientId=u82105d95-bd8a-4&from=paste&height=526&id=udf93211e&originHeight=658&originWidth=1813&originalType=binary&ratio=1&rotation=0&showTitle=false&size=96180&status=done&style=none&taskId=u908e38df-4de9-4b29-9430-cb57e565e5a&title=&width=1450.4" alt="image.png"><br>Gitlab 设置 HTTPS 方式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">如果想要以上的 https 方式正常生效使用，则需要把 letsencrypt 自动生成证书的配置打开，这样在执行重</span><br><span class="line">新让配置生效命令 (gitlab-ctl reconfigure) 的时候会自动给域名生成免费的证书并自动在 gitlab 自带的</span><br><span class="line"> nginx 中加上相关的跳转配置，都是全自动的，非常方便。</span><br><span class="line">letsencrypt[&#39;enable&#39;] &#x3D; true </span><br><span class="line">letsencrypt[&#39;contact_emails&#39;] &#x3D; [&#39;caryyu@qq.com&#39;]     # 这应该是一组要添加为联系人的电子邮件地址</span><br></pre></td></tr></table></figure>

<p>测试访问:<a href="http://192.168.246.214/" target="_blank" rel="noopener">http://192.168.246.214</a></p>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/23214851/1678269170036-612a9b24-029a-441c-9384-11aee58f67f7.png#averageHue=%23fcfcfb&clientId=ud1472ba6-6034-4&from=paste&height=572&id=ua837e710&originHeight=715&originWidth=1590&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=78787&status=done&style=none&taskId=u8e0b076d-49a1-4653-9244-cbdba4f1d3f&title=&width=1272" alt="image.png"></p>
<p>用户为:root<br>密码:本人设置的密码是12345678</p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1565623375752.png#id=P1HyY&originHeight=739&originWidth=1610&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1565623426334.png#id=BTnCa&originHeight=813&originWidth=1656&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1565623540821.png#id=WdE33&originHeight=899&originWidth=1913&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1565624343965.png#id=tXl0W&originHeight=571&originWidth=1349&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1565623653858.png#id=ENgtQ&originHeight=998&originWidth=1864&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p>需要创建秘钥</p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1570975815122.png#id=kysbb&originHeight=312&originWidth=390&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1565623702669.png#id=hsigP&originHeight=931&originWidth=1828&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@client ~]# ssh-keygen</span><br><span class="line">[root@client ~]# cd .ssh/</span><br><span class="line">[root@client .ssh]# ls </span><br><span class="line">[root@client .ssh]# cat id_rsa.pub </span><br><span class="line">ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC0HeO8gaua13h9HCJK5RXVc/cjet9DpLYq2dqmQ0LXfP0Vwj6YjKxu7lE1i/4Y2cmu5lDe8bG22aikyaW38Fnz0bkGfEurdVZii/KCiHBz2lXS1ocuAdloJT4wnc2MUjh/gwc4FuNkWdYvpbMLXSSHIVjv8vB9YbHlPMTMy5N89kMwMmta5C87/8fBO5VtGijgGOueywM+xAzovlfoJbprV/ZBKkhiskSKz4fHyoGFGwllX3kMkNR/soGF5XXA+/99iO3UqSaloF0UzfUCgqfMfMVB5zDHGIB6uTrMe6ccfKp9gnVyD7m4Zmk7MwouBwAfMLIiHmvekBGXqb1YCTgJ root@client</span><br></pre></td></tr></table></figure>

<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1565624058819.png#id=og8Do&originHeight=866&originWidth=1549&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1565624178664.png#id=IZJRq&originHeight=462&originWidth=1508&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1565624224328.png#id=yxhRp&originHeight=931&originWidth=1832&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1565624437658.png#id=TOWHA&originHeight=304&originWidth=846&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1570328552487.png#id=W0GUn&originHeight=496&originWidth=991&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1570328571506.png#id=iRfIF&originHeight=407&originWidth=863&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1570328591422.png#id=fM1rq&originHeight=566&originWidth=816&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1588670878842.png#id=ZGpsw&originHeight=512&originWidth=561&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p>创建一个文件:</p>
<p>1.newfile:先新建一个文件。<br>2.uploadfile:再上传即可。</p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1565625483341.png#id=bYJwo&originHeight=567&originWidth=1483&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1565625592468.png#id=lkxMU&originHeight=855&originWidth=1387&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1565625640933.png#id=pUF3G&originHeight=377&originWidth=1363&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p>上传一个文件：</p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1588748354679.png#id=G0dDX&originHeight=308&originWidth=916&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1565625920395.png#id=zsUGh&originHeight=577&originWidth=1202&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1565625940144.png#id=JorMq&originHeight=495&originWidth=796&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1565625991547.png#id=cYMGZ&originHeight=681&originWidth=1326&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1565626014378.png#id=w3Zet&originHeight=508&originWidth=792&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1565626038365.png#id=d0Dt8&originHeight=576&originWidth=1356&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1565626050705.png#id=Hby47&originHeight=378&originWidth=1083&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1565626301515.png#id=dXH33&originHeight=535&originWidth=1175&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1565626323048.png#id=Fsu3d&originHeight=361&originWidth=1179&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1565626346960.png#id=F9kL7&originHeight=338&originWidth=1332&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1565626357793.png#id=Vsr1C&originHeight=260&originWidth=375&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1565626486555.png#id=xFWvT&originHeight=308&originWidth=472&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<h3 id="新建普通用户"><a href="#新建普通用户" class="headerlink" title="新建普通用户"></a>新建普通用户</h3><p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1569165847777.png#id=oHScK&originHeight=698&originWidth=1085&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt><br><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1569165939543.png#id=ntAdf&originHeight=721&originWidth=1080&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1569165986396.png#id=fq8rR&originHeight=542&originWidth=1092&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1569166002625.png#id=urQwc&originHeight=592&originWidth=1065&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p>新添加的用户创建成功！</p>
<h3 id="Gitlab新建文件"><a href="#Gitlab新建文件" class="headerlink" title="Gitlab新建文件"></a>Gitlab新建文件</h3><p><img src="https://cdn.nlark.com/yuque/0/2023/png/23214851/1678326499013-e554c294-34d3-43bc-884b-f0ec27dc7232.png#averageHue=%23f9f9f9&clientId=u5ded4a05-c9b7-4&from=paste&height=543&id=uf9cc6e7e&originHeight=679&originWidth=1304&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=68613&status=done&style=none&taskId=u7ec73b03-40d5-4533-8259-8d37c8f97e6&title=&width=1043.2" alt="image.png"></p>
<h3 id="在git客户端"><a href="#在git客户端" class="headerlink" title="在git客户端"></a>在git客户端</h3><p>ssh方式拉取代码<br><img src="https://cdn.nlark.com/yuque/0/2023/png/23214851/1678326190924-eddccf49-a2f8-4bef-b4ec-8c08a4ae0b0f.png#averageHue=%2392bd7b&clientId=u5ded4a05-c9b7-4&from=paste&height=322&id=u59766616&originHeight=403&originWidth=1842&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=65780&status=done&style=none&taskId=u4fa26fd5-148a-4960-8534-782b21251e9&title=&width=1473.6" alt="image.png"><br>查看客户端的公钥</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@client ~]# cat /root/.ssh/id_rsa.pub </span><br><span class="line">ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCodOD/MhqMO9VQAXlZ/dpZ9dsgwKfE8HBY4aA3z+GTyKbgGDWtSg/VFPyOlwcqxzUXhUf7zVCXHAQ0OKwsVpmaQTyOSyd1eqOjb+WBIt3OA8TjWIwkcb98rob0lKy73P0GYEWUyKP8rdzH/Gxkb6adbk+NhC/rm44xOwLs+3FEV5jCtAMHgCm3u6dRXz6gwWYxASYJE2MrQpqzz/fp9ZvkCo+BL+zAj4ly2IQLKjoUz2wjHaKjHhW2MbiDL68aqJXnuEqBVcwP45m6xkO4sFP2UH8N4KQervLhIxP0enANKC2VvmqSXLLU/qWNtB0Y1urYpdKkPUYHsTUFoD9WVXvn root@redis-3</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/23214851/1678326233806-32ccff1e-090a-4f7d-9b65-c1fe0936ca3d.png#averageHue=%23faf8f7&clientId=u5ded4a05-c9b7-4&from=paste&height=608&id=u8d114754&originHeight=760&originWidth=1854&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=120365&status=done&style=none&taskId=ua17f10c7-c028-4eae-ae99-f2d1b8907c8&title=&width=1483.2" alt="image.png"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@client ~]# git clone git@192.168.246.214:root/testapp.git</span><br><span class="line">Cloning into 'testapp'...</span><br><span class="line">remote: Enumerating objects: 6, done.</span><br><span class="line">remote: Counting objects: 100% (6/6), done.</span><br><span class="line">remote: Compressing objects: 100% (4/4), done.</span><br><span class="line">remote: Total 6 (delta 0), reused 0 (delta 0)</span><br><span class="line">Receiving objects: 100% (6/6), done.</span><br><span class="line">[root@client ~]# ls</span><br><span class="line">testapp</span><br><span class="line">[root@client ~]# cd testapp/</span><br><span class="line">[root@client testapp]# ls</span><br><span class="line">test.txt  同步时间.txt</span><br><span class="line">[root@client testapp]#</span><br></pre></td></tr></table></figure>
<p>http方式拉取代码</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[root@client ~]# rm -rf testgit/</span><br><span class="line">[root@client ~]# git clone http://192.168.246.214/root/testapp.git</span><br><span class="line">Cloning into 'testapp'...</span><br><span class="line">Username for 'http://192.168.246.214': root</span><br><span class="line">Password for 'http://root@192.168.246.214':12345678  #为自己设置的密码</span><br><span class="line">remote: Enumerating objects: 6, done.</span><br><span class="line">remote: Counting objects: 100% (6/6), done.</span><br><span class="line">remote: Compressing objects: 100% (4/4), done.</span><br><span class="line">remote: Total 6 (delta 0), reused 0 (delta 0)</span><br><span class="line">Unpacking objects: 100% (6/6), done.</span><br><span class="line">[root@client ~]# ls</span><br><span class="line">testapp</span><br></pre></td></tr></table></figure>
<h3 id="提交代码到gitlab仓库"><a href="#提交代码到gitlab仓库" class="headerlink" title="提交代码到gitlab仓库"></a>提交代码到gitlab仓库</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@client testapp]# vim update.txt</span><br><span class="line">1000phone</span><br><span class="line">[root@client testapp]# git add .</span><br><span class="line">[root@client testapp]# git commit -m "update_version1"</span><br><span class="line">[master 091798d] update_version1</span><br><span class="line"> 1 file changed, 2 insertions(+)</span><br><span class="line"> create mode 100644 update.txt</span><br><span class="line"></span><br><span class="line">[root@nginx-server testapp2]# git push origin main</span><br><span class="line">Username for 'http://192.168.62.166': root</span><br><span class="line">Password for 'http://root@192.168.62.166': </span><br><span class="line">Counting objects: 4, done.</span><br><span class="line">Compressing objects: 100% (2/2), done.</span><br><span class="line">Writing objects: 100% (3/3), 307 bytes | 0 bytes/s, done.</span><br><span class="line">Total 3 (delta 0), reused 0 (delta 0)</span><br><span class="line">To http://192.168.62.166/root/testapp2.git</span><br><span class="line">   201f479..091798d  master -&gt; master</span><br></pre></td></tr></table></figure>

<h3 id="调整上传文件的大小"><a href="#调整上传文件的大小" class="headerlink" title="调整上传文件的大小"></a>调整上传文件的大小</h3><p><img src="https://cdn.nlark.com/yuque/0/2023/png/23214851/1678327355423-26c31a72-8ec7-493e-9dc5-a6e70d7bd076.png#averageHue=%23f2e9e5&clientId=u5ded4a05-c9b7-4&from=paste&height=689&id=ufad65cd5&originHeight=861&originWidth=1839&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=122844&status=done&style=none&taskId=ub24bc53d-0f03-4da9-ba96-f6dea9466e6&title=&width=1471.2" alt="image.png"></p>
<p>默认是10M，可根据情况调整<br><img src="https://cdn.nlark.com/yuque/0/2023/png/23214851/1678327395712-6918de21-86a7-495c-bf93-2a94bb20a67c.png#averageHue=%23f3f3f3&clientId=u5ded4a05-c9b7-4&from=paste&height=352&id=u2c85a853&originHeight=440&originWidth=1230&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=36058&status=done&style=none&taskId=ud3154564-7347-41dd-9c7f-bfa3bf869d3&title=&width=984" alt="image.png"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">拓展：</span><br><span class="line">1.cat /proc/swaps 查看swap分区是否启动（无）</span><br><span class="line">2.创建 ：</span><br><span class="line">dd if=/dev/zero of=/data/swap bs=512 count=8388616</span><br><span class="line">创建swap大小为bs*count=4294971392(4G)；</span><br><span class="line">/data/swap目录若无则找/mnt/swap</span><br><span class="line">3.通过mkswap命令将上述空间制作成swap分区：</span><br><span class="line">mkswap /data/swap</span><br><span class="line">4.查看内核参数vm.swappiness中的数值是否为0，如果为0则根据实际需要调		 整成60：</span><br><span class="line">查看： cat /proc/sys/vm/swappiness</span><br><span class="line">设置： sysctl -w vm.swappiness=60</span><br><span class="line">若想永久修改，则编辑/etc/sysctl.conf文件，改文件中有vm.swappiness变量配置，默认为0</span><br><span class="line">5.启用分区：</span><br><span class="line">swapon /data/swap</span><br><span class="line">echo “/data/swap swap swap defaults 0 0” &gt;&gt; /etc/fstab</span><br><span class="line">6.再次使用cat /proc/swaps 查看swap分区是否启动</span><br></pre></td></tr></table></figure>
<h3 id="tag版本推送"><a href="#tag版本推送" class="headerlink" title="tag版本推送"></a>tag版本推送</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@git-client testweb]# vim e.txt</span><br><span class="line">hello eee</span><br><span class="line">[root@git-client testweb]# git add *</span><br><span class="line">[root@git-client testweb]# git commit -m "new e.txt"</span><br><span class="line">[root@git-client testweb]# git tag -a "v1.1" -m "new e.txt"</span><br><span class="line">[root@git-client testweb]# git push origin v1.1</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.nlark.com/yuque/0/2022/png/23214851/1670832397607-c05eb909-672c-473f-bfa3-fe1e648d1eb4.png#averageHue=%23fbfbfa&clientId=udc9ff9b1-e17f-4&from=paste&height=407&id=ue0f8000f&originHeight=509&originWidth=1262&originalType=binary&ratio=1&rotation=0&showTitle=false&size=41843&status=done&style=none&taskId=ud75dcea7-9074-4564-ba0e-f70d1e6ca44&title=&width=1009.6" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2022/png/23214851/1670832377022-43ca2fb5-9493-4f5c-ac92-24b469333621.png#averageHue=%23fcfbfb&clientId=udc9ff9b1-e17f-4&from=paste&height=174&id=u94e1fe07&originHeight=217&originWidth=1534&originalType=binary&ratio=1&rotation=0&showTitle=false&size=18867&status=done&style=none&taskId=ua3dd1e22-c80a-4b8a-999c-6a7d1581e0a&title=&width=1227.2" alt="image.png"></p>
<h3 id="分支版本推送"><a href="#分支版本推送" class="headerlink" title="分支版本推送"></a>分支版本推送</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@git-client testweb]# git branch dev</span><br><span class="line">[root@git-client testweb]# git branch</span><br><span class="line">  dev</span><br><span class="line">* master</span><br><span class="line">[root@git-client testweb]# git checkout dev</span><br><span class="line">Switched to branch 'dev'</span><br><span class="line">[root@git-client testweb]# ls</span><br><span class="line">b.txt  c.txt  d.txt</span><br><span class="line">[root@git-client testweb]# vim dev.txt</span><br><span class="line">[root@git-client testweb]# git add *</span><br><span class="line">[root@git-client testweb]# git commit -m "new dev branch"</span><br><span class="line">[dev 6c3fea1] new dev branch</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line"> create mode 100644 dev.txt</span><br><span class="line">[root@git-client testweb]# git push origin dev</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.nlark.com/yuque/0/2022/png/23214851/1670832570010-d048e08b-d954-498e-a26e-1d8302749129.png#averageHue=%23fcfbfb&clientId=udc9ff9b1-e17f-4&from=paste&height=497&id=u5ea3a29b&originHeight=621&originWidth=1387&originalType=binary&ratio=1&rotation=0&showTitle=false&size=40338&status=done&style=none&taskId=u9f0789bc-059a-4cc5-a4b6-7150ff37b33&title=&width=1109.6" alt="image.png"></p>
<h2 id="Gitlab-备份与恢复"><a href="#Gitlab-备份与恢复" class="headerlink" title="Gitlab 备份与恢复"></a>Gitlab 备份与恢复</h2><h3 id="1、查看系统版本和软件版本"><a href="#1、查看系统版本和软件版本" class="headerlink" title="1、查看系统版本和软件版本"></a>1、查看系统版本和软件版本</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@git-server ~]# cat /etc/redhat-release </span><br><span class="line">CentOS Linux release 7.4.1708 (Core)</span><br><span class="line"></span><br><span class="line">[root@git-server ~]# cat /opt/gitlab/embedded/service/gitlab-rails/VERSION</span><br><span class="line">8.15.4</span><br></pre></td></tr></table></figure>
<h3 id="2、数据备份"><a href="#2、数据备份" class="headerlink" title="2、数据备份"></a>2、数据备份</h3><p>打开/etc/gitlab/gitlab.rb配置文件，查看一个和备份相关的配置项：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@git-server backups]# vim /etc/gitlab/gitlab.rb</span><br><span class="line">gitlab_rails['backup_path'] = "/var/opt/gitlab/backups"	#备份的路径</span><br><span class="line">gitlab_rails['backup_archive_permissions'] = 0644		#备份文件的默认权限</span><br><span class="line">gitlab_rails['backup_keep_time'] = 604800				#保留时长，秒为单位</span><br></pre></td></tr></table></figure>

<p>设置备份保留时长，防止每天执行备份，肯定有目录被爆满的风险，打开/etc/gitlab/gitlab.rb配置文件，找到如下配置</p>
<p>该项定义了默认备份出文件的路径，可以通过修改该配置，并执行 <strong>gitlab-ctl reconfigure 或者 gitlab-ctl  restart</strong> 重启服务生效。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@git-server backups]# gitlab-ctl reconfigure</span><br><span class="line">或者</span><br><span class="line">[root@git-server backups]# gitlab-ctl  restart</span><br></pre></td></tr></table></figure>

<p>执行备份命令进行备份</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@git-server backups]# /opt/gitlab/bin/gitlab-rake gitlab:backup:create</span><br></pre></td></tr></table></figure>

<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1588671804467.png#id=fYw8E&originHeight=355&originWidth=762&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p>也可以添加到 crontab 中定时执行：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 2 * * * /opt/gitlab/bin/gitlab-rake gitlab:backup:create</span><br></pre></td></tr></table></figure>

<p>可以到/var/opt/gitlab/backups找到备份包，解压查看，会发现备份的还是比较全面的，数据库、repositories、build、upload等分类还是比较清晰的。</p>
<p>备份完成，会在备份目录中生成一个当天日期的tar包。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@git-server ~]# ll /var/opt/gitlab/backups/</span><br></pre></td></tr></table></figure>

<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1588674873071.png#id=xzBBf&originHeight=59&originWidth=751&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<h3 id="3、数据恢复"><a href="#3、数据恢复" class="headerlink" title="3、数据恢复"></a>3、数据恢复</h3><p>特别注意：</p>
<ul>
<li>备份目录和gitlab.rb中定义的备份目录必须一致</li>
<li>GitLab的版本和备份文件中的版本必须一致，否则还原时会报错。</li>
</ul>
<p><strong>在恢复之前，可以删除一个文件，以便查看效果</strong></p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1588671953485.png#id=FUTgJ&originHeight=287&originWidth=1128&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p>执行恢复操作：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@git-server ~]# cd /var/opt/gitlab/backups</span><br><span class="line">[root@git-server  backups]# /opt/gitlab/bin/gitlab-rake gitlab:backup:restore BACKUP=/var/opt/gitlab/backups/1678342140_2023_03_09_15.1.0</span><br><span class="line">注意恢复文件的名称</span><br></pre></td></tr></table></figure>

<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1588672033757.png#id=Gw1sC&originHeight=166&originWidth=812&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1588672066970.png#id=ceRYj&originHeight=336&originWidth=660&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1588672081738.png#id=K9Ysn&originHeight=237&originWidth=731&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p>恢复完成后，启动刚刚的两个服务，或者重启所有服务，再打开浏览器进行访问，发现数据和之前的一致：</p>
<p><strong>注意：通过备份文件恢复gitlab必须保证两台主机的gitlab版本一致，否则会提示版本不匹配</strong></p>
<p>查看gitlab端，可以看到数据恢复成功</p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1588754052558.png#id=fDWQC&originHeight=480&originWidth=1274&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<h2 id="Gitlab配置邮箱"><a href="#Gitlab配置邮箱" class="headerlink" title="Gitlab配置邮箱"></a>Gitlab配置邮箱</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@gitlab-server ~]# vim /etc/gitlab/gitlab.rb</span><br><span class="line">QOOJRFWGOZBHQMSQ</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.nlark.com/yuque/0/2022/png/32511478/1665561059297-e52d0714-33f2-44ed-aca2-020d4d2cc248.png#averageHue=%231a0703&from=url&id=iI99U&originHeight=297&originWidth=882&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@gitlab-server ~]# gitlab-ctl reconfigure</span><br><span class="line">或者</span><br><span class="line">[root@gitlab-server ~]# gitlab-ctl restart</span><br><span class="line"></span><br><span class="line">[root@gitlab ~]# gitlab-rails console</span><br><span class="line">irb(main):001:0&gt; Notify.test_email('XXXXXX@gmail.com','test Gitlab Email','Test').deliver_now			#输入收件人的邮箱</span><br><span class="line">Delivered mail 610835daa71d5_21d35a645978a@sage.novalocal.mail (40062.2ms)=&gt; #&lt;Mail::Message:173540, Multipart: false, Headers: &lt;Date: Mon, 02 Aug 2021 18:13:46 +0000&gt;, &lt;From: GitLab &lt;xxxxxx@qq.com&gt;&gt;, &lt;Reply-To: GitLab &lt;noreply@xx.xx.4.62&gt;&gt;, &lt;To: xxxxxxx@gmail.com&gt;, &lt;Message-ID: &lt;610835daa71d5_21d35a645978a@sage.novalocal.mail&gt;&gt;, &lt;Subject: test Gitlab Email&gt;, &lt;Mime-Version: 1.0&gt;, &lt;Content-Type: text/html; charset=UTF-8&gt;, &lt;Content-Transfer-Encoding: 7bit&gt;, &lt;Auto-Submitted: auto-generated&gt;, &lt;X-Auto-Response-Suppress: All&gt;&gt;		#出现这段报文就说明配置成功</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2022/png/23214851/1666248151784-63df5c13-bae6-43fc-9717-0b4b5eff4b79.png#averageHue=%2314110f&clientId=u6d9fcd4d-2bdd-4&from=paste&height=518&id=u0d6de7b8&originHeight=648&originWidth=1911&originalType=binary&ratio=1&rotation=0&showTitle=false&size=130113&status=done&style=none&taskId=u2aabbffb-822e-440c-af83-f8d076559cc&title=&width=1528.8" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2022/png/23214851/1666248195382-6f169cf5-8944-47f4-a64b-0d1392f95a58.png#averageHue=%23d7c888&clientId=u6d9fcd4d-2bdd-4&from=paste&height=298&id=u387b636e&originHeight=372&originWidth=723&originalType=binary&ratio=1&rotation=0&showTitle=false&size=28763&status=done&style=none&taskId=u69d2645c-e432-4b6c-8c8a-00415a517db&title=&width=578.4" alt="image.png"></p>
<h2 id="Gitlab配置https方式访问"><a href="#Gitlab配置https方式访问" class="headerlink" title="Gitlab配置https方式访问"></a>Gitlab配置https方式访问</h2><h3 id="配置ssl证书"><a href="#配置ssl证书" class="headerlink" title="配置ssl证书"></a>配置ssl证书</h3><p>我们可以配置私有CA，也可以在阿里云官网上面购买域名之后获取SSL证书</p>
<h3 id="创建私有CA证书"><a href="#创建私有CA证书" class="headerlink" title="创建私有CA证书"></a>创建私有CA证书</h3><p>首先在一台服务器上安装一些需要用到的应用</p>
<h4 id="1、检查安装openssl"><a href="#1、检查安装openssl" class="headerlink" title="1、检查安装openssl"></a>1、检查安装openssl</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# rpm -qa|grep openssl</span><br><span class="line">openssl098e-0.9.8e-29.el7.centos.3.x86_64</span><br><span class="line">openssl-libs-1.0.2k-25.el7_9.x86_64</span><br><span class="line">xmlsec1-openssl-1.2.20-7.el7_4.x86_64</span><br><span class="line">openssl-devel-1.0.2k-25.el7_9.x86_64</span><br><span class="line">openssl-1.0.2k-25.el7_9.x86_64</span><br></pre></td></tr></table></figure>
<p>如果未安装</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]#yum install openssl openssl-devel -y</span><br><span class="line">创建所需要的文件</span><br><span class="line">根CA服务器：因为只有 CA 服务器的角色，所以用到的目录只有/etc/pki/CA</span><br><span class="line">网站服务器：只是证书申请者的角色，所以用到的目录只有/etc/pki/tls</span><br><span class="line">[root@www ~]#cd /etc/pki/CA/</span><br><span class="line">[root@www CA]# ls</span><br><span class="line">certs  crl  newcerts  private</span><br><span class="line">[root@www CA]# touch index.txt   #创建生成证书索引数据库文件</span><br><span class="line">[root@www CA]# ls</span><br><span class="line">certs  crl  index.txt  newcerts  private</span><br><span class="line">[root@www CA]# echo 01 &gt; serial   #指定第一个颁发证书的序列号</span><br><span class="line">[root@www CA]# ls</span><br><span class="line">certs  crl  index.txt  newcerts  private  serial</span><br><span class="line">[root@www CA]#</span><br></pre></td></tr></table></figure>
<h4 id="2、创建密钥"><a href="#2、创建密钥" class="headerlink" title="2、创建密钥"></a>2、创建密钥</h4><p>在根CA服务器上创建密钥，密钥的位置必须为<code>/etc/pki/CA/private/cakey.pem</code>，这个是openssl.cnf中中指定的路径，只要与配置文件中指定的匹配即可。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@www CA]# (umask 066; openssl genrsa -out private/cakey.pem 2048)</span><br><span class="line">Generating RSA private key, 2048 bit long modulus</span><br><span class="line">...........+++</span><br><span class="line">...............+++	</span><br><span class="line">e is 65537 (0x10001)</span><br></pre></td></tr></table></figure>
<h4 id="3、生成自签名证书"><a href="#3、生成自签名证书" class="headerlink" title="3、生成自签名证书"></a>3、生成自签名证书</h4><p>根CA自签名证书，根CA是最顶级的认证机构，没有人能够认证他，所以只能自己认证自己生成自签名证书。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@www CA]# openssl req -new -x509 -key /etc/pki/CA/private/cakey.pem -days 7300 -out /etc/pki/CA/cacert.pem -days 7300</span><br><span class="line">You are about to be asked to enter information that will be incorporated</span><br><span class="line">into your certificate request.</span><br><span class="line">What you are about to enter is what is called a Distinguished Name or a DN.</span><br><span class="line">There are quite a few fields but you can leave some blank</span><br><span class="line">For some fields there will be a default value,</span><br><span class="line">If you enter '.', the field will be left blank.</span><br><span class="line">-----</span><br><span class="line">Country Name (2 letter code) [XX]:CN</span><br><span class="line">State or Province Name (full name) []:BEIJING</span><br><span class="line">Locality Name (eg, city) [Default City]:BEIJING</span><br><span class="line">Organization Name (eg, company) [Default Company Ltd]:CA</span><br><span class="line">Organizational Unit Name (eg, section) []:OPT</span><br><span class="line">Common Name (eg, your name or your server's hostname) []:ca.qf.com</span><br><span class="line">Email Address []:</span><br><span class="line">[root@www CA]# ls</span><br><span class="line">cacert.pem  certs  crl  index.txt  newcerts  private  serial</span><br></pre></td></tr></table></figure>
<h3 id="客户端（gitlab服务器）CA证书申请域名"><a href="#客户端（gitlab服务器）CA证书申请域名" class="headerlink" title="客户端（gitlab服务器）CA证书申请域名"></a>客户端（gitlab服务器）CA证书申请域名</h3><h4 id="1、安装openssl"><a href="#1、安装openssl" class="headerlink" title="1、安装openssl"></a>1、安装openssl</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@gitlab ~]# yum install openssl openssl-devel  -y</span><br></pre></td></tr></table></figure>
<h4 id="2、客户端生成密钥文件"><a href="#2、客户端生成密钥文件" class="headerlink" title="2、客户端生成密钥文件"></a>2、客户端生成密钥文件</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@gitlab ~]# (umask 066; openssl genrsa -out /etc/pki/tls/private/www.git123.com.key 2048)</span><br><span class="line">Generating RSA private key, 2048 bit long modulus</span><br><span class="line">..............................+++</span><br><span class="line">..........+++</span><br><span class="line">e is 65537 (0x10001)</span><br><span class="line">[root@gitlab ~]# cd /etc/pki/tls/private/</span><br><span class="line">[root@gitlab private]# ls</span><br><span class="line">www.git123.com.key</span><br><span class="line">[root@gitlab private]#</span><br></pre></td></tr></table></figure>
<h4 id="3、客户端用私钥加密生成证书请求"><a href="#3、客户端用私钥加密生成证书请求" class="headerlink" title="3、客户端用私钥加密生成证书请求"></a>3、客户端用私钥加密生成证书请求</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">[root@gitlab private]# ls ../</span><br><span class="line">cert.pem  certs  misc  openssl.cnf  private</span><br><span class="line">[root@gitlab private]# openssl req -new -key /etc/pki/tls/private/www.qf.com.key -days 365 -out /etc/pki/tls/www.qf.com.csr</span><br><span class="line">You are about to be asked to enter information that will be incorporated</span><br><span class="line">into your certificate request.</span><br><span class="line">What you are about to enter is what is called a Distinguished Name or a DN.</span><br><span class="line">There are quite a few fields but you can leave some blank</span><br><span class="line">For some fields there will be a default value,</span><br><span class="line">If you enter '.', the field will be left blank.</span><br><span class="line">-----</span><br><span class="line">Country Name (2 letter code) [XX]:CN</span><br><span class="line">State or Province Name (full name) []:BEIJING</span><br><span class="line">Locality Name (eg, city) [Default City]:BEIJING</span><br><span class="line">Organization Name (eg, company) [Default Company Ltd]:QF</span><br><span class="line">Organizational Unit Name (eg, section) []:OPT</span><br><span class="line">Common Name (eg, your name or your server's hostname) []:www.git123.com</span><br><span class="line">Email Address []:</span><br><span class="line"></span><br><span class="line">Please enter the following 'extra' attributes</span><br><span class="line">to be sent with your certificate request</span><br><span class="line">A challenge password []:</span><br><span class="line">An optional company name []:</span><br><span class="line">[root@gitlab private]# ls ../</span><br><span class="line">cert.pem  certs  misc  openssl.cnf  private  www.git123.com.csr</span><br><span class="line">[root@gitlab private]#</span><br></pre></td></tr></table></figure>
<p><strong>4、CA 签署证书</strong>（在ca服务器上面操作）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# vim /etc/pki/tls/openssl.cnf</span><br><span class="line">policy          = policy_match</span><br><span class="line"> 82 </span><br><span class="line"> 83 # For the CA policy</span><br><span class="line"> 84 [ policy_match ]</span><br><span class="line"> 85 countryName             = match</span><br><span class="line"> 86 stateOrProvinceName     = match</span><br><span class="line"> 87 organizationName        = supplied</span><br><span class="line"> 88 organizationalUnitName  = optional</span><br><span class="line"> 89 commonName              = supplied</span><br><span class="line"> 90 emailAddress            = optional</span><br></pre></td></tr></table></figure>
<p>CA签署证书</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# openssl ca -in /etc/pki/CA/private/www.git123.com.csr -out /etc/pki/CA/certs/www.git123.com.crt -days 365</span><br><span class="line">Using configuration from /etc/pki/tls/openssl.cnf</span><br><span class="line">Check that the request matches the signature</span><br><span class="line">Signature ok</span><br><span class="line">Certificate Details:</span><br><span class="line">        Serial Number: 1 (0x1)</span><br><span class="line">        Validity</span><br><span class="line">            Not Before: Jul  3 10:12:23 2019 GMT</span><br><span class="line">            Not After : Jul  2 10:12:23 2020 GMT</span><br><span class="line">        Subject:</span><br><span class="line">            countryName               = CN</span><br><span class="line">            stateOrProvinceName       = BEIJING</span><br><span class="line">            organizationName          = QF</span><br><span class="line">            organizationalUnitName    = OPT</span><br><span class="line">            commonName                = www.qf.com</span><br><span class="line">        X509v3 extensions:</span><br><span class="line">            X509v3 Basic Constraints: </span><br><span class="line">                CA:FALSE</span><br><span class="line">            Netscape Comment: </span><br><span class="line">                OpenSSL Generated Certificate</span><br><span class="line">            X509v3 Subject Key Identifier: </span><br><span class="line">                E3:AC:1A:55:2B:28:B9:80:DC:9C:C2:13:70:53:27:AD:3D:44:8F:D3</span><br><span class="line">            X509v3 Authority Key Identifier: </span><br><span class="line">                keyid:5D:2A:81:B2:E7:8D:D8:88:E5:7B:94:CA:75:65:9C:82:2B:A9:B2:3C</span><br><span class="line"></span><br><span class="line">Certificate is to be certified until Jul  2 10:12:23 2020 GMT (365 days)</span><br><span class="line">Sign the certificate? [y/n]:y</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">1 out of 1 certificate requests certified, commit? [y/n]y</span><br><span class="line">Write out database with 1 new entries</span><br><span class="line">Data Base Updated</span><br></pre></td></tr></table></figure>
<h4 id="查看证书的信息"><a href="#查看证书的信息" class="headerlink" title="查看证书的信息"></a>查看证书的信息</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# openssl x509 -in /etc/pki/CA/certs/www.qf.com.crt -noout -subject</span><br><span class="line">subject= /C=CN/ST=BEIJING/O=QF/OU=OPT/CN=www.git123.com</span><br></pre></td></tr></table></figure>
<h4 id="将生成的证书发放给请求客户端（Gitlab服务器）"><a href="#将生成的证书发放给请求客户端（Gitlab服务器）" class="headerlink" title="将生成的证书发放给请求客户端（Gitlab服务器）"></a>将生成的证书发放给请求客户端（Gitlab服务器）</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# cd /etc/pki/CA/certs/</span><br><span class="line">[root@www certs]# scp www.git123.com.ctr 10.8.156.42:/etc/pki/CA/certs/</span><br></pre></td></tr></table></figure>
<h3 id="Gitlab中修改配置"><a href="#Gitlab中修改配置" class="headerlink" title="Gitlab中修改配置"></a>Gitlab中修改配置</h3><p><img src="https://cdn.nlark.com/yuque/0/2022/png/32511478/1665561337459-46a564b8-e095-4597-8b2a-8fa43d1bbdf2.png#averageHue=%230e0201&clientId=ua3f70022-3104-4&errorMessage=unknown%20error&from=paste&height=126&id=RpXNY&originHeight=147&originWidth=723&originalType=binary&ratio=1&rotation=0&showTitle=false&size=24917&status=error&style=none&taskId=u685df66a-197d-4d1f-b1ff-8b03a0940bc&title=&width=617.9487406149427" alt="image.png">)<img src="https://cdn.nlark.com/yuque/0/2022/png/32511478/1665561451361-121a4d5b-0f29-441e-8c44-408c73a23b97.png#averageHue=%230b0101&clientId=ua3f70022-3104-4&errorMessage=unknown%20error&from=paste&height=214&id=KmI48&originHeight=250&originWidth=624&originalType=binary&ratio=1&rotation=0&showTitle=false&size=24609&status=error&style=none&taskId=u3d46a275-43f1-4727-a961-10bc9fa20a5&title=&width=533.3333528958841" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2022/png/32511478/1665561225403-cbd2e780-5301-41ae-b2d0-900d220e8f66.png#averageHue=%230a0101&clientId=ua3f70022-3104-4&errorMessage=unknown%20error&from=paste&height=124&id=ufwA0&originHeight=145&originWidth=768&originalType=binary&ratio=1&rotation=0&showTitle=false&size=20146&status=error&style=none&taskId=u39906c6b-980b-4425-8a32-8c2fead5c29&title=&width=656.4102804872421" alt="image.png"></p>
<h3 id="在gitlab前面配置Nginx做转发"><a href="#在gitlab前面配置Nginx做转发" class="headerlink" title="在gitlab前面配置Nginx做转发"></a>在gitlab前面配置Nginx做转发</h3><p>首先把gitlab内部nginx的端口修改一下<br><img src="https://cdn.nlark.com/yuque/0/2022/png/32511478/1665561613131-04053ee8-7c53-40f5-b511-b58a6f96ca9b.png#averageHue=%230f0201&clientId=ua3f70022-3104-4&errorMessage=unknown%20error&from=paste&height=154&id=gQL38&originHeight=180&originWidth=489&originalType=binary&ratio=1&rotation=0&showTitle=false&size=27179&status=error&style=none&taskId=udee6f51a-ba2a-4d97-9c70-87b57df483a&title=&width=417.94873327898614" alt="image.png"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim	/etc/nginx/conf.d/default.conf</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">upstream  git&#123;</span><br><span class="line">        server  127.0.0.1:8888;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">    listen 443 ssl;</span><br><span class="line">    server_name www.git123.com;</span><br><span class="line">    ssl_certificate                                 /etc/pki/CA/certs/www.git123.com.crt;</span><br><span class="line">    ssl_certificate_key                            /etc/pki/tls/private/www.git123.com.key;</span><br><span class="line">    ssl_session_timeout 5m;</span><br><span class="line">    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;</span><br><span class="line">    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;</span><br><span class="line">    ssl_prefer_server_ciphers on;</span><br><span class="line"></span><br><span class="line">    location / &#123;</span><br><span class="line"></span><br><span class="line">            client_max_body_size 50m;</span><br><span class="line">            proxy_redirect off;</span><br><span class="line">            proxy_set_header Host $host;</span><br><span class="line">            proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">            proxy_pass http://git;</span><br><span class="line">            index index.html index.htm;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">server&#123;</span><br><span class="line">        listen 80;</span><br><span class="line">        server_name www.git123.com;</span><br><span class="line"></span><br><span class="line">        rewrite ^(.*)$ https://$host$1 permanent;</span><br><span class="line"></span><br><span class="line">        location / &#123;</span><br><span class="line">        return 301 https://www.git123.com:443$request_uri;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.nlark.com/yuque/0/2022/png/32511478/1665581764306-e04d398a-3689-4d2b-b8b8-0ae39b69e012.png#averageHue=%23fbfbfa&clientId=ua3f70022-3104-4&errorMessage=unknown%20error&from=paste&height=889&id=udcd7febb&originHeight=1040&originWidth=1920&originalType=binary&ratio=1&rotation=0&showTitle=false&size=103307&status=error&style=none&taskId=ub186537d-9662-4482-88b9-7f835500a41&title=&width=1641.025701218105" alt="image.png"></p>
<h2 id="Github-远程仓库"><a href="#Github-远程仓库" class="headerlink" title="Github 远程仓库"></a>Github 远程仓库</h2><p>1、github.com 注册账户<br>2、在github上创建仓库<br>本人账户：<br>用户名：youngfityu<br>邮箱：   <a href="mailto:908367919@qq.com">908367919@qq.com</a><br>密码：   ***<br><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1588673609788.png#id=rBMCe&originHeight=342&originWidth=1004&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1588673721676.png#id=m6bVu&originHeight=550&originWidth=864&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p>3、客户端生成本地ssh key</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# ssh-keygen -t rsa -C 'meteor@163.com' # 邮箱要与github上注册的相同</span><br><span class="line">Generating public/private rsa key pair.</span><br><span class="line">Enter file in which to save the key (/root/.ssh/id_rsa): </span><br><span class="line">Enter passphrase (empty for no passphrase): </span><br><span class="line">Enter same passphrase again: </span><br><span class="line">Your identification has been saved in /root/.ssh/id_rsa.</span><br><span class="line">Your public key has been saved in /root/.ssh/id_rsa.pub.</span><br><span class="line">The key fingerprint is:</span><br><span class="line">SHA256:RiE6UR1BtzV5avyE2uz6TNPsVHa2D2eHprghrJEkd/g meteor@163.com</span><br><span class="line">The key's randomart image is:</span><br><span class="line">+---[RSA 2048]----+</span><br><span class="line">|    ..oo=o. o.   |</span><br><span class="line">|     o ..o o...  |</span><br><span class="line">|    o   . .. +   |</span><br><span class="line">|     . o    = .  |</span><br><span class="line">|    . + S  = o  =|</span><br><span class="line">|     + *  . oo.=o|</span><br><span class="line">|      o E ..o B.+|</span><br><span class="line">|       o . =.* +o|</span><br><span class="line">|      .   +++ . .|</span><br><span class="line">+----[SHA256]-----+</span><br><span class="line">[root@localhost ~]#</span><br><span class="line">[root@localhost ~]# cat .ssh/id_rsa.pub </span><br><span class="line">ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDVThfq4brrlsPGtAknVB0TLPx+7Dd3qlxTbSIrUOsGC5Y8JuNqVTlIntZB4oNj8cSQrWvec9CKm0a8o7WwaJIiqpxurz+YpQHP2KbapftKIxsX4hPf/z+p0El1U6arQa35/xmNsq+cJLH/bDdRG+EMDhuCBmjVZOlLj/hEdeIT6s56AnnCkaWoF+sq58KCF7Tk54jRbs/YiyE4SN7FuA70r+07sA/uj0+lmuk4E190KtQUELhjX/E9stivlqiRhxnKvVUqXDywsjfM8Rtvbi4Fg9R8Wt9fpd4QwnWksYUoR5qZJFYXO4hSZrUnSMruPK14xXjDJcFDcP2eHIzKgLD1 meteor@163.com</span><br></pre></td></tr></table></figure>

<p>4、复制以上的公钥，在github 中添加ssh key</p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1588673639512.png#id=NvduQ&originHeight=444&originWidth=517&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1588673667402.png#id=YFvgK&originHeight=468&originWidth=1032&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p>创建好库之后，在库里创建几个文件，方便测试</p>
<p>5、测试：拉取github仓库</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# yum install git</span><br><span class="line">[root@localhost ~]# git config --global user.name 'meteor_by'</span><br><span class="line">[root@localhost ~]# git config --global user.email 'meteor@163.com'</span><br><span class="line">[root@localhost tmp]# cd /tmp</span><br><span class="line"></span><br><span class="line">[root@localhost tmp]# git clone git@github.com:youngfit/youngfit.git</span><br></pre></td></tr></table></figure>

<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1588673833960.png#id=tqykj&originHeight=272&originWidth=721&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p>7、在本地添加远程仓库，并推送至github仓库</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost tmp]# cd /tmp/youngfit/</span><br><span class="line">[root@localhost youngfit]# ls</span><br><span class="line">qf.txt  README.md</span><br><span class="line">[root@localhost youngfit]# cat qf.txt </span><br><span class="line">this is 2002 test file</span><br><span class="line">[root@client youngfit]# ls</span><br><span class="line">qf.txt  README.md</span><br><span class="line">[root@localhost youngfit]# vim a.txt</span><br><span class="line">[root@localhost youngfit]# git add .</span><br><span class="line">[root@localhost youngfit]# git commit -m "yufei"</span><br><span class="line">[master 0f6a3de] yufei</span><br><span class="line"> 1 file changed, 2 insertions(+)</span><br><span class="line"> create mode 100644 a.txt</span><br><span class="line">[root@client youngfit]# git push origin master</span><br><span class="line">Counting objects: 4, done.</span><br><span class="line">Compressing objects: 100% (2/2), done.</span><br><span class="line">Writing objects: 100% (3/3), 288 bytes | 0 bytes/s, done.</span><br><span class="line">Total 3 (delta 0), reused 0 (delta 0)</span><br><span class="line">To git@github.com:youngfit/youngfit.git</span><br><span class="line">   ba8225d..0f6a3de  master -&gt; master</span><br></pre></td></tr></table></figure>

<p>去github界面查看</p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1588674573283.png#id=iNWl5&originHeight=550&originWidth=1097&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
<p>8、连接远程仓库方法</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">[root@localhost testapp]<span class="comment"># git remote -v </span></span></span><br><span class="line"><span class="meta">#</span><span class="bash">origin	git@github.com:meteor/python1804.git (fetch)</span></span><br><span class="line"><span class="meta">#</span><span class="bash">origin	git@github.com:meteor/python1804.git (push)</span></span><br><span class="line"><span class="meta">#</span><span class="bash">[root@localhost python1804]<span class="comment">#</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash">[root@localhost python1804]<span class="comment">#  git remote rm origin  (如果连接远程的方式不是ssh,可以删除重新添加)</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash">[root@localhost ~]<span class="comment"># git remote add origin git@github.com:meteor/python1804.git</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash">或</span></span><br><span class="line"><span class="meta">#</span><span class="bash">git remote add origin https://github.com/meteor/python1804.git</span></span><br><span class="line"><span class="meta">#</span><span class="bash">git push -u origin master</span></span><br><span class="line"></span><br><span class="line">[root@client youngfit]# git remote -v</span><br><span class="line">origin  git@github.com:youngfit/youngfit.git (fetch)</span><br><span class="line">origin  git@github.com:youngfit/youngfit.git (push)</span><br><span class="line">[root@client youngfit]# git remote rm origin</span><br><span class="line">[root@client youngfit]# git remote add origin git@192.168.62.131:root/testapp.git</span><br><span class="line">[root@client youngfit]# ls</span><br><span class="line">a.txt  qf.txt  README.md</span><br><span class="line">[root@client youngfit]# pwd</span><br><span class="line"></span><br><span class="line">[root@client ~]# cd /root/testapp/</span><br><span class="line">[root@client testapp]# ls</span><br><span class="line">test.sql  test.txt  update.txt</span><br><span class="line">[root@client testapp]# vim modify.txt</span><br><span class="line">[root@client testapp]# git add .</span><br><span class="line">[root@client testapp]# git commit -m "modify gitlab from github"</span><br><span class="line">[master fde12c2] modify gitlab from github</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line"> create mode 100644 modify.txt</span><br><span class="line"></span><br><span class="line">[root@client testapp]# git push origin master</span><br><span class="line">Username for 'http://192.168.62.131': root</span><br><span class="line">Password for 'http://root@192.168.62.131': </span><br><span class="line">Counting objects: 4, done.</span><br><span class="line">Compressing objects: 100% (2/2), done.</span><br><span class="line">Writing objects: 100% (3/3), 337 bytes | 0 bytes/s, done.</span><br><span class="line">Total 3 (delta 0), reused 0 (delta 0)</span><br><span class="line">To http://192.168.62.131/root/testapp.git</span><br><span class="line">   23bae45..fde12c2  master -&gt; master</span><br></pre></td></tr></table></figure>

<p>去自己部署的gitlab上查看</p>
<p><img src="https://youngfitfei.oss-cn-beijing.aliyuncs.com/img/1588674319140.png#id=oEkTm&originHeight=612&originWidth=1074&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=" alt></p>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">L66</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://l66stbz.github.io/2024/09/03/Git%E5%B7%A5%E5%85%B7/Git%E5%B7%A5%E5%85%B7%E4%B8%8Egitee%E3%80%81gitlab%E5%92%8Cgithub/">https://l66stbz.github.io/2024/09/03/Git%E5%B7%A5%E5%85%B7/Git%E5%B7%A5%E5%85%B7%E4%B8%8Egitee%E3%80%81gitlab%E5%92%8Cgithub/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://l66stbz.github.io" target="_blank">L66</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Linux/">Linux</a><a class="post-meta__tags" href="/tags/Git/">Git</a></div><div class="post_share"><div class="social-share" data-image="https://l66stbz.github.io/2024/09/07/Jenkins_webhooks自动触发/Jenkins_webhooks自动触发/1.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="post-qr-code__img" src="/img/wechat.jpg" alt="微信"/><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="post-qr-code__img" src="/img/alipay.jpg" alt="支付寶"/><div class="post-qr-code__desc">支付寶</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2024/09/03/study/test/"><img class="prev_cover" src="https://l66stbz.github.io/2024/09/03/study/test/1.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">study</div></div></a></div><div class="next-post pull_right"><a href="/2024/09/02/IPtables/iptables/"><img class="next_cover" src="https://l66stbz.github.io/2024/09/02/IPtables/iptables/1.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">IPtables</div></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2024/05/16/修改root密码/" title="修改root密码"><img class="relatedPosts_cover" src="https://l66stbz.github.io/2024/05/16/修改root密码/1.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2024-05-16</div><div class="relatedPosts_title">修改root密码</div></div></a></div><div class="relatedPosts_item"><a href="/2024/05/15/2024.05随记/" title="2024.05随记"><img class="relatedPosts_cover" src="https://l66stbz.github.io/2024/05/15/2024.05随记/66.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2024-05-15</div><div class="relatedPosts_title">2024.05随记</div></div></a></div><div class="relatedPosts_item"><a href="/2024/07/31/Linux内核升级/" title="Linux内核升级"><img class="relatedPosts_cover" src="https://l66stbz.github.io/2024/07/31/Linux内核升级/1.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2024-07-31</div><div class="relatedPosts_title">Linux内核升级</div></div></a></div><div class="relatedPosts_item"><a href="/2024/07/27/Mysql高可用-MHA/" title="Mysql高可用-MHA"><img class="relatedPosts_cover" src="https://l66stbz.github.io/2024/07/27/Mysql高可用-MHA/1.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2024-07-27</div><div class="relatedPosts_title">Mysql高可用-MHA</div></div></a></div><div class="relatedPosts_item"><a href="/2024/08/16/RabbitMQ消息队列/" title="RabbitMQ消息队列"><img class="relatedPosts_cover" src="https://l66stbz.github.io/2024/08/16/RabbitMQ消息队列/1.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2024-08-16</div><div class="relatedPosts_title">RabbitMQ消息队列</div></div></a></div><div class="relatedPosts_item"><a href="/2024/05/21/Keepalived/" title="Keepalived"><img class="relatedPosts_cover" src="https://l66stbz.github.io/2024/05/21/Keepalived/1.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2024-05-21</div><div class="relatedPosts_title">Keepalived</div></div></a></div></div><div class="clear_both"></div></div></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By L66</div><div class="framework-info"><span>驱动 </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@3/instantpage.min.js" type="module"></script><script src="/js/third-party/click_heart.js"></script></body></html>