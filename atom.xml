<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>L66</title>
  
  <subtitle>èƒœå¤©åŠå­</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://l66stbz.github.io/"/>
  <updated>2024-06-22T07:30:31.849Z</updated>
  <id>https://l66stbz.github.io/</id>
  
  <author>
    <name>L66</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Zabbixç›‘æ§NginxæŒ‡æ ‡</title>
    <link href="https://l66stbz.github.io/2024/05/18/Zabbix%E7%9B%91%E6%8E%A7Nginx%E6%8C%87%E6%A0%87/"/>
    <id>https://l66stbz.github.io/2024/05/18/Zabbix%E7%9B%91%E6%8E%A7Nginx%E6%8C%87%E6%A0%87/</id>
    <published>2024-05-18T01:56:37.000Z</published>
    <updated>2024-06-22T07:30:31.849Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="ç›‘æ§Nginxæ€§èƒ½çŠ¶æ€"><a href="#ç›‘æ§Nginxæ€§èƒ½çŠ¶æ€" class="headerlink" title="ç›‘æ§Nginxæ€§èƒ½çŠ¶æ€"></a>ç›‘æ§Nginxæ€§èƒ½çŠ¶æ€</h2><p>Nginxåœ¨ç”Ÿäº§ç¯å¢ƒä¸­çš„åº”ç”¨è¶Šæ¥è¶Šå¹¿æ³›ï¼Œæ‰€ä»¥éœ€è¦å¯¹Nginxçš„æ€§èƒ½çŠ¶æ€åšä¸€äº›ç›‘æ§ï¼Œä»è€Œå‘ç°æ•…éšœéšæ‚£ï¼ŒNgnxçš„ç›‘æ§æŒ‡æ ‡å¯åˆ†ä¸ºï¼šåŸºæœ¬æ´»åŠ¨æŒ‡æ ‡ï¼Œé”™è¯¯æŒ‡æ ‡ï¼Œæ€§èƒ½æŒ‡æ ‡</p><p><strong><img src="/2024/05/18/Zabbix%E7%9B%91%E6%8E%A7Nginx%E6%8C%87%E6%A0%87/1.png" class></strong></p><p>ç›‘æ§Nginxæ€è·¯ï¼š<br>1ï¼‰é¦–å…ˆï¼Œè¦æƒ³ç›‘æ§Nginxï¼Œéœ€è¦çŠ¶æ€æ¨¡å—çš„æ”¯æŒï¼Œä¹Ÿå°±æ˜¯-with-http_stub_status_moduleï¼›éšååœ¨nginx.confé…ç½®å¼€å¯statusçŠ¶æ€<br>2ï¼‰é€šè¿‡awkå–statusçš„å„ä¸ªçŠ¶æ€æ•°å€¼<br>3ï¼‰è‡ªå®šä¹‰æ¨¡æ¿å°†å–å€¼statusçš„çŠ¶æ€å†™æˆè„šæœ¬ï¼Œæ”¾åœ¨UserParmeteråé¢ï¼Œæœ€åé€šè¿‡zabbix_getæµ‹è¯•Â·agentç«¯æ˜¯å¦å¾—åˆ°çŠ¶æ€å€¼<br>Acceptsï¼šæ¥å—çš„å®¢æˆ·ç«¯è¯·æ±‚æ•°<br>Activeï¼šå½“å‰æ´»è·ƒçš„è¿æ¥æ•°<br>Handledï¼šå¤„ç†çš„è¯·æ±‚æ•°ï¼ˆæ­£å¸¸æœåŠ¡å™¨å“åº”ï¼‰<br>Requestsï¼šå®¢æˆ·ç«¯å¤„ç†çš„è¯·æ±‚å‡ºï¼ˆååé‡)<br>Reading:å½“æ¥æ”¶åˆ°çš„è¯·æ±‚æ—¶ï¼Œè¿æ¥ç¦»å¼€waitingçŠ¶æ€ï¼Œå¹¶ä¸”è¯¥è¯·æ±‚æœ¬èº«ä½¿ReadingçŠ¶æ€ç»Ÿè®¡æ•°å¢åŠ ï¼Œè¿™ç§çŠ¶æ€ä¸‹ï¼Œnginxä¼šè¯»å–å®¢æˆ·ç«¯è¯·æ±‚é¦–éƒ¨ï¼Œè¯·æ±‚é¦–éƒ¨æ˜¯æ¯”è¾ƒå°çš„ï¼Œå› æ­¤è¿™é€šå¸¸æ˜¯ä¸€ç§å¿«æ·çš„æ“ä½œ<br>Writingï¼šè¯·æ±‚è¢«è¯»å–ä¹‹åï¼Œä½¿å¾—WritingçŠ¶æ€è®¡æ•°å¢åŠ ï¼Œå¹¶ä¿æŒåœ¨è¯¥çŠ¶æ€ï¼Œç›´åˆ°å“åº”è¿”å›ç»™å®¢æˆ·ç«¯ï¼Œè¿™ä¾¿æ„å‘³ç€ï¼Œè¯¥è¯·æ±‚åœ¨writingçŠ¶æ€æ—¶ï¼Œä¸€æ–¹é¢NGINX</p><h3 id="å®‰è£…nginx"><a href="#å®‰è£…nginx" class="headerlink" title="å®‰è£…nginx"></a>å®‰è£…nginx</h3><p>è¢«ç›‘æ§åšä»¥ä¸‹æ“ä½œï¼Œå¦‚æœæ˜¯è‡ªå·±ç›‘æ§è‡ªå·±å°±åœ¨æœ¬æœºä¸Šæ“ä½œã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@zabbix-agent-node1 ~]# vim /etc/yum.repos.d/nginx.repo </span><br><span class="line">[nginx-stable]</span><br><span class="line">name=nginx stable repo</span><br><span class="line">baseurl=http://nginx.org/packages/centos/$releasever/$basearch/</span><br><span class="line">gpgcheck=1</span><br><span class="line">enabled=1</span><br><span class="line">gpgkey=https://nginx.org/keys/nginx_signing.key</span><br><span class="line">module_hotfixes=true</span><br><span class="line">[root@zabbix-agent-node1 ~]# yum -y install nginx</span><br><span class="line"></span><br><span class="line">[root@zabbix-agent-node1 ~]# vim /etc/nginx/conf.d/default.conf</span><br><span class="line">åœ¨é…ç½®çš„serveræ¨¡å—ä¸­ï¼ŒåŠ å…¥ä»¥ä¸‹å‡ è¡Œï¼›</span><br><span class="line">    location /status &#123;</span><br><span class="line">        stub_status on;</span><br><span class="line">      access_log off;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p><strong><img src="/2024/05/18/Zabbix%E7%9B%91%E6%8E%A7Nginx%E6%8C%87%E6%A0%87/2.png" class></strong></p><p>æ“ä½œå®Œåé‡å¯nginxæœåŠ¡</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@zabbix-agent-node1 ~]# systemctl restart nginx</span><br></pre></td></tr></table></figure><p>æµè§ˆå™¨è®¿é—®ï¼š<strong><img src="/2024/05/18/Zabbix%E7%9B%91%E6%8E%A7Nginx%E6%8C%87%E6%A0%87/3.png" class></strong></p><p>Linuxå‘½ä»¤è®¿é—®ï¼š<strong><img src="/2024/05/18/Zabbix%E7%9B%91%E6%8E%A7Nginx%E6%8C%87%E6%A0%87/4.png" class></strong></p><p>ç”±äºï¼Œè¿™äº›æŒ‡æ ‡ï¼ŒZabbixè‡ªå¸¦çš„ç›‘æ§é¡¹ï¼Œä¸èƒ½æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰ç›‘æ§é¡¹ï¼Œèƒ½æå–åˆ°ç²¾ç¡®çš„æ•°å€¼ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬åªèƒ½è‡ªå®šä¹‰ç›‘æ§é¡¹ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è‡ªå·±å†™ç›‘æ§é¡¹ï¼Œéœ€è¦åœ¨è¢«ç›‘æ§ç«¯çš„/etc/zabbix/zabbix_agentd.d/ç›®å½•ä¸‹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@zabbix-agent-node1 ~]# cd /etc/zabbix/zabbix_agentd.d/</span><br><span class="line">[root@youngfit zabbix_agentd.d]# vim nginx_status.conf</span><br><span class="line">UserParameter=nginx_active_cons,curl -s localhost/status|awk 'NR==1&#123;print $3&#125;'</span><br><span class="line">[root@youngfit zabbix_agentd.d]# systemctl restart zabbix-agent</span><br></pre></td></tr></table></figure><p>awkå‘½ä»¤ç›¸å½“äºæ˜¯ä»æŸä¸ªä¸œè¥¿é‡Œæ‰£ä¸œè¥¿ã€‚é»˜è®¤ä»¥ç©ºæ ¼ä½œä¸ºåˆ†éš”ç¬¦ï¼Œä¹Ÿå¯ä»¥ ä½¿ç”¨å‚æ•° -F ç¬¦å·æ¥æŒ‡å®šåˆ†éš”ç¬¦ï¼Œå¦‚awk -F :   å°±æ˜¯ä»¥å†’å·ä½œä¸ºåˆ†éš”ç¬¦ã€‚NR==1ä»£è¡¨æ˜¯ç¬¬ä¸€è¡Œï¼Œä¸å†™çš„è¯é»˜è®¤ä»£è¡¨æ‰€æœ‰è¡Œï¼Œ{print $3}ä»£è¡¨ç¬¬ä¸‰åˆ—ã€‚ä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@zabbix-server ~]# free -m | awk 'NR==2&#123;printf $3/$2*100&#125;'</span><br><span class="line">68.6214[root@zabbix-server ~]# free -m | awk 'NR==2&#123;printf  $3/$2*100&#125;'|awk -F . '&#123;printf $1&#125;'</span><br><span class="line">68</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ç¬¬äºŒæ¬¡ä»¥.ä½œä¸ºåˆ†éš”ç¬¦ååªè¾“å‡ºäº†68ï¼Œå› ä¸ºåªæœ‰ä¸€è¡Œæ‰€ä»¥å†™ä¸å†™NRéƒ½æ— æ‰€è°“ã€‚</p><h3 id="åœ¨ç›‘æ§ç«¯zabbix-getæµ‹è¯•"><a href="#åœ¨ç›‘æ§ç«¯zabbix-getæµ‹è¯•" class="headerlink" title="åœ¨ç›‘æ§ç«¯zabbix_getæµ‹è¯•"></a>åœ¨ç›‘æ§ç«¯zabbix_getæµ‹è¯•</h3><p>å¦‚æœæ˜¯æœ¬æœºç›‘æ§æœ¬æœºå°±åœ¨æœ¬æœºå®‰è£…å³å¯ï¼</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@zabbix-server ~]# yum -y install zabbix-get   #zabbix-getæ˜¯è·å–è¢«ç›‘æ§ç«¯æ•°æ®çš„ä¸€ä¸ªå·¥å…·</span><br></pre></td></tr></table></figure><p>ç›‘æ§ç«¯æµ‹è¯•å¦‚ä¸‹ï¼Œipå†™è¢«ç›‘æ§ç«¯ipå³å¯</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@feige ~]# zabbix_get -s 192.168.100.20 -p 10050 -k "nginx_active_cons"</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> -s æŒ‡å®šè¢«ç›‘æ§ç«¯çš„ipåœ°å€</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> -p æŒ‡å®šè¢«ç›‘æ§ç«¯çš„zabbix-agentæœåŠ¡ç›‘å¬çš„ç«¯å£</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> -k æŒ‡å®škeyå€¼</span></span><br></pre></td></tr></table></figure><p>æ¥åˆ°ç›‘æ§ç«¯ï¼Œåˆ›å»ºå¯¹åº”çš„ç›‘æ§é¡¹</p><p><strong><img src="/2024/05/18/Zabbix%E7%9B%91%E6%8E%A7Nginx%E6%8C%87%E6%A0%87/5.png" class></strong></p><p>åˆ›å»ºå¯¹åº”è§¦å‘å™¨</p><p><strong><img src="/2024/05/18/Zabbix%E7%9B%91%E6%8E%A7Nginx%E6%8C%87%E6%A0%87/6.png" class></strong></p><p>æµ‹è¯•è§¦å‘å™¨</p><p>ä¸æ–­åœ°å»è®¿é—®nginxçš„é¡µé¢ï¼Œå®ƒçš„æ´»è·ƒè¿æ¥æ•°å°±ä¼šå¢åŠ ï¼Œå¤§äº1ï¼Œè§¦å‘å™¨å°±ä¼šè§¦å‘ï¼Œå¦‚ä¸‹å›¾</p><p><strong><img src="/2024/05/18/Zabbix%E7%9B%91%E6%8E%A7Nginx%E6%8C%87%E6%A0%87/7.png" class></strong></p><p>åˆ›å»ºåŠ¨ä½œ</p><p><strong><img src="/2024/05/18/Zabbix%E7%9B%91%E6%8E%A7Nginx%E6%8C%87%E6%A0%87/8.png" class></strong></p><p><strong><img src="/2024/05/18/Zabbix%E7%9B%91%E6%8E%A7Nginx%E6%8C%87%E6%A0%87/9.png" class></strong></p><p><strong><img src="/2024/05/18/Zabbix%E7%9B%91%E6%8E%A7Nginx%E6%8C%87%E6%A0%87/10.png" class></strong></p><p><strong><img src="/2024/05/18/Zabbix%E7%9B%91%E6%8E%A7Nginx%E6%8C%87%E6%A0%87/11.png" class></strong></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="Linux" scheme="https://l66stbz.github.io/tags/Linux/"/>
    
      <category term="Zabbix" scheme="https://l66stbz.github.io/tags/Zabbix/"/>
    
      <category term="Nginx" scheme="https://l66stbz.github.io/tags/Nginx/"/>
    
  </entry>
  
  <entry>
    <title>ä½œä¸š_zabbixç›‘æ§å†…å­˜</title>
    <link href="https://l66stbz.github.io/2024/05/18/%E4%BD%9C%E4%B8%9A_zabbix%E7%9B%91%E6%8E%A7%E5%86%85%E5%AD%98/"/>
    <id>https://l66stbz.github.io/2024/05/18/%E4%BD%9C%E4%B8%9A_zabbix%E7%9B%91%E6%8E%A7%E5%86%85%E5%AD%98/</id>
    <published>2024-05-18T01:56:37.000Z</published>
    <updated>2024-06-22T07:30:05.828Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="ã€ä½œä¸šã€‘"><a href="#ã€ä½œä¸šã€‘" class="headerlink" title="ã€ä½œä¸šã€‘"></a>ã€ä½œä¸šã€‘</h2><p>è‡ªå®šä¹‰ç›‘æ§é¡¹ï¼Œä½¿zabbix-serverå¯ä»¥å¯¹è¢«ç›‘æ§ç«¯çš„å†…å­˜è¿›è¡Œæ£€æµ‹ï¼Œå¦‚æœè¢«ç›‘æ§ç«¯çš„å†…å­˜ä½¿ç”¨è¶…è¿‡90%åˆ™æŠ¥è­¦ï¼Œå¹¶å‘é€é‚®ä»¶</p><p>æ–°å»ºæ–‡ä»¶ï¼Œè‡ªå®šä¹‰ç›‘æ§é¡¹ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è‡ªå·±å†™ç›‘æ§é¡¹ï¼Œéœ€è¦åœ¨è¢«ç›‘æ§ç«¯çš„/etc/zabbix/zabbix_agentd.d/ç›®å½•ä¸‹ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@zabbix-server ~]# vi /etc/zabbix/zabbix_agentd.d/userparameter_mem.conf</span><br></pre></td></tr></table></figure><p><strong><img src="/2024/05/18/%E4%BD%9C%E4%B8%9A_zabbix%E7%9B%91%E6%8E%A7%E5%86%85%E5%AD%98/1.png" class></strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UserParameter=mem_status,free -m | awk <span class="string">'NR==2&#123;printf $3/$2*100&#125;'</span>|awk -F . <span class="string">'&#123;printf $1&#125;'</span></span><br></pre></td></tr></table></figure><p>å…¶ä¸­UserParameter=mem_statusæ˜¯ç»™è‡ªå®šä¹‰çš„ç›‘æ§é¡¹èµ·ä¸ªåå­—ï¼Œé”å˜éƒ½å¯ä»¥ã€‚ååŠæ®µå…¶å®å°±æ˜¯æŠŠfree -må¾—åˆ°çš„ç»“æœç®¡é“ç»™åè¾¹ï¼Œç„¶ååˆ©ç”¨awkæ‰£å‡ºæˆ‘ä»¬æƒ³è¦çš„ä¸œè¥¿ï¼Œç¬¬äºŒè¡Œçš„ç¬¬ä¸‰åˆ—æ˜¯å·²ä½¿ç”¨å†…å­˜ï¼Œç¬¬äºŒè¡Œç¬¬äºŒåˆ—æ˜¯æ€»å†…å­˜ï¼Œå‰è€…é™¤ä»¥åè€…*100%å³å¯å¾—å‡ºå†…å­˜ä½¿ç”¨ç‡ã€‚è¿™é‡Œæ˜¯ *100ã€‚ç„¶åä¼šå¾—åˆ°ç»“æœã€‚å¦‚æœè§‰å¾—å°æ•°çœ‹çš„ä¸ç¾è§‚å¯ä»¥å†æ¬¡ç®¡é“ï¼Œä½¿ç”¨awk -Fä»¥.ä½œä¸ºåˆ†éš”ç¬¦æœ€ç»ˆè¾“å‡ºæ•´æ•°ã€‚å½“ç„¶ä¹Ÿå¯ä»¥ä¿ç•™ä¸¤ä½å°æ•°ï¼Œå…·ä½“å®ç°å¦‚ä¸‹ã€‚</p><p><strong><img src="/2024/05/18/%E4%BD%9C%E4%B8%9A_zabbix%E7%9B%91%E6%8E%A7%E5%86%85%E5%AD%98/2.png" class></strong></p><p><strong><img src="/2024/05/18/%E4%BD%9C%E4%B8%9A_zabbix%E7%9B%91%E6%8E%A7%E5%86%85%E5%AD%98/3.png" class></strong></p><p><strong><img src="/2024/05/18/%E4%BD%9C%E4%B8%9A_zabbix%E7%9B%91%E6%8E%A7%E5%86%85%E5%AD%98/4.png" class></strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">free -m| awk <span class="string">'NR==2&#123;print $3/$2*100&#125;'</span><span class="comment">#æ­£å¸¸è¾“å‡º</span></span><br><span class="line">free -m| awk <span class="string">'NR==2&#123;printf ("%.2f"), $3/$2*100&#125;'</span><span class="comment">#ä¿ç•™ä¸¤ä½å°æ•°</span></span><br><span class="line">free -m | awk <span class="string">'NR==2&#123;printf $3/$2*100&#125;'</span>|awk -F . <span class="string">'&#123;printf $1&#125;'</span><span class="comment">#ä¿ç•™æ•´æ•°éƒ¨åˆ†</span></span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨zabbixåˆ›å»ºå¯¹åº”ç›‘æ§é¡¹å’Œè§¦å‘å™¨å³å¯ï¼Œç›‘æ§é¡¹åç§°è¦ä¸æ–‡ä»¶ä¸­çš„è‡ªå®šä¹‰ç›‘æ§é¡¹çš„åå­—ä¸€è‡´ã€‚éœ€è¦é‚®ä»¶æŠ¥è­¦çš„è¯å°±ç»§ç»­åˆ›å»ºåŠ¨ä½œè¿›è¡Œä¸€ç³»åˆ—è®¾ç½®å³å¯ï¼Œæ­¤å¤„ä¸å†èµ˜è¿°ï¼</p><p>å‹æƒ…æç¤ºï¼šè®°å¾—å…³é—­é˜²ç«å¢™ï¼Œè¿˜æœ‰å°±æ˜¯ç¡®è®¤å¥½è¢«ç›‘æ§æœºå™¨æ˜¯å“ªä¸€å°ï¼Œæ˜¯è‡ªå·±ç›‘æ§è‡ªå·±è¿˜æ˜¯ç›‘æ§åˆ«äººã€‚ç„¶åå»ä¿®æ”¹å¯¹åº”çš„è¢«ç›‘æ§èŠ‚ç‚¹çš„é…ç½®æ–‡ä»¶ï¼Œå¦‚æœå¯¹é…ç½®æ–‡ä»¶è¿›è¡Œäº†ä¿®æ”¹è®°å¾—é‡å¯zabbix-agentæœåŠ¡ã€‚</p><p>é…ç½®æ–‡ä»¶å³å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@zabbix-agent-node1 ~]# cd /etc/zabbix/</span><br><span class="line">[root@zabbix-agent-node1 zabbix]# vim zabbix_agentd.conf   ----ä¿®æ”¹å¦‚ä¸‹</span><br><span class="line">Server=192.168.153.147 zabbixç›‘æ§ç«¯çš„åœ°å€ </span><br><span class="line">ServerActive=192.168.153.147 ä¸»åŠ¨æ¨¡å¼ zabbix-server-ip</span><br><span class="line">Hostname=zabbix-agent-none1 </span><br><span class="line">UnsafeUserParameters=1 æ˜¯å¦é™åˆ¶ç”¨æˆ·è‡ªå®šä¹‰ keys ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦ 1æ˜¯å¯ä»¥å¯ç”¨ç‰¹æ®Šå­—ç¬¦ 0æ˜¯ä¸å¯ä»¥å¯ç”¨ç‰¹æ®Šå­—ç¬¦</span><br><span class="line">EnableRemoteCommands=1 æ˜¯å¦å…è®¸åˆ«äººæ‰§è¡Œè¿œç¨‹æ“ä½œå‘½ä»¤ï¼Œé»˜è®¤æ˜¯ç¦ç”¨çš„ï¼Œæ‰“å¼€çš„è¯ä¼šæœ‰å®‰å…¨é£é™©.</span><br></pre></td></tr></table></figure><p>é‡å¯zabbix-agentæœåŠ¡ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@zabbix-agent-node1 ~]# systemctl restart zabbix-agent</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="Linux" scheme="https://l66stbz.github.io/tags/Linux/"/>
    
      <category term="Zabbix" scheme="https://l66stbz.github.io/tags/Zabbix/"/>
    
  </entry>
  
  <entry>
    <title>zabbixéƒ¨ç½²</title>
    <link href="https://l66stbz.github.io/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/"/>
    <id>https://l66stbz.github.io/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/</id>
    <published>2024-05-17T01:56:37.000Z</published>
    <updated>2024-06-22T07:07:22.759Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="å®‰è£…å’Œé…ç½®Zabbix-ServeræœåŠ¡"><a href="#å®‰è£…å’Œé…ç½®Zabbix-ServeræœåŠ¡" class="headerlink" title="å®‰è£…å’Œé…ç½®Zabbix-ServeræœåŠ¡"></a>å®‰è£…å’Œé…ç½®Zabbix-ServeræœåŠ¡</h2><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/1.png" class></strong></p><h3 id="å®éªŒå‡†å¤‡"><a href="#å®éªŒå‡†å¤‡" class="headerlink" title="å®éªŒå‡†å¤‡"></a>å®éªŒå‡†å¤‡</h3><p>Centos7.4 ç³»ç»ŸæœåŠ¡å™¨3å°ã€ ä¸€å°ä½œä¸ºç›‘æ§æœåŠ¡å™¨ï¼Œ ä¸¤å°å°ä½œä¸ºè¢«ç›‘æ§èŠ‚ç‚¹ï¼Œ é…ç½®å¥½yumæºã€ é˜²ç«å¢™å…³é—­ã€ å„èŠ‚ç‚¹æ—¶é’ŸæœåŠ¡åŒæ­¥ã€ å„èŠ‚ç‚¹ä¹‹é—´å¯ä»¥é€šè¿‡ä¸»æœºåäº’ç›¸é€šä¿¡ã€‚</p><p><strong>1ï¼‰æ‰€æœ‰æœºå™¨å…³é—­é˜²ç«å¢™å’Œselinux</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">setenforce 0 ï¼ˆä¿®æ”¹é…ç½®æ–‡ä»¶å…³é—­ï¼‰</span><br><span class="line">sed -i 's/SELINUX=enforcing/SELINUX=disabled/' /etc/selinux/config </span><br><span class="line">systemctl stop firewalld.service</span><br></pre></td></tr></table></figure><p><strong>2ï¼‰æ ¹æ®æ¶æ„å›¾ï¼Œå®éªŒåŸºæœ¬è®¾ç½®å¦‚ä¸‹ï¼š</strong></p><table><thead><tr><th>æœºå™¨åç§°</th><th>IPé…ç½®</th><th>æœåŠ¡è§’è‰²</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>server</td><td>192.168.200.130</td><td>zabbix-server</td><td>å¼€å¯</td></tr><tr><td>node1</td><td>192.168.200.128</td><td>zabbix-agent-node1</td><td>å¼€å¯</td></tr><tr><td>node2</td><td>192.168.200.129</td><td>zabbix-agent-node2</td><td>å¼€å¯</td></tr></tbody></table><h3 id="1-å®‰è£…-Zabbix-å­˜å‚¨åº“"><a href="#1-å®‰è£…-Zabbix-å­˜å‚¨åº“" class="headerlink" title="1. å®‰è£… Zabbix å­˜å‚¨åº“"></a>1. å®‰è£… Zabbix å­˜å‚¨åº“</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@zabbix-server ~]# rpm -Uvh https://repo.zabbix.com/zabbix/5.0/rhel/7/x86_64/zabbix-release-5.0-1.el7.noarch.rpm</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¦‚æœå®‰è£…å¤±è´¥ï¼Œæ–­å¼€æ— çº¿ç½‘ï¼Œç”¨æ‰‹æœºçƒ­ç‚¹è¿›è¡Œå°è¯•</span></span><br><span class="line"></span><br><span class="line">æˆ–è€…æ‰§è¡Œï¼ˆå»ºè®®ï¼‰</span><br><span class="line">rpm -Uvh https://mirrors.aliyun.com/zabbix/zabbix/5.0/rhel/7/x86_64/zabbix-release-5.0-1.el7.noarch.rpm</span><br></pre></td></tr></table></figure><h5 id="æ›¿æ¢å›½å†…é˜¿é‡Œäº‘yumæº"><a href="#æ›¿æ¢å›½å†…é˜¿é‡Œäº‘yumæº" class="headerlink" title="æ›¿æ¢å›½å†…é˜¿é‡Œäº‘yumæº"></a>æ›¿æ¢å›½å†…é˜¿é‡Œäº‘yumæº</h5><p>ç”±äºç”¨zabbixå®˜ç½‘ç½‘ç»œYumæºä¸‹è½½é€Ÿåº¦æ¯”è¾ƒæ…¢ï¼Œæˆ‘è¿™é‡Œæ›¿æ¢ä¸ºé˜¿é‡Œäº‘æº</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@zabbix-server ~]# sed -i 's#http://repo.zabbix.com#https://mirrors.aliyun.com/zabbix#' /etc/yum.repos.d/zabbix.repo</span><br></pre></td></tr></table></figure><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/2.png" class></strong></p><h3 id="2-å®‰è£…-Zabbix-æœåŠ¡å™¨å’Œè¢«ç›‘æ§ç«¯"><a href="#2-å®‰è£…-Zabbix-æœåŠ¡å™¨å’Œè¢«ç›‘æ§ç«¯" class="headerlink" title="2. å®‰è£… Zabbix æœåŠ¡å™¨å’Œè¢«ç›‘æ§ç«¯"></a>2. å®‰è£… Zabbix æœåŠ¡å™¨å’Œè¢«ç›‘æ§ç«¯</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@zabbix-server ~]# yum install zabbix-server-mysql zabbix-agent -y</span><br></pre></td></tr></table></figure><h3 id="3-å®‰è£…-Zabbix-å‰ç«¯"><a href="#3-å®‰è£…-Zabbix-å‰ç«¯" class="headerlink" title="3. å®‰è£… Zabbix å‰ç«¯"></a>3. å®‰è£… Zabbix å‰ç«¯</h3><p>å¯ç”¨çº¢å¸½è½¯ä»¶é›†åˆ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@zabbix-server ~]# yum install centos-release-scl -y</span><br><span class="line">è¿™é‡Œä¸‹è½½çš„æ˜¯ä¸ªzabbixç›¸å…³çš„yumæºï¼Œæ‰èƒ½ç»§ç»­ä¸‹è½½å…¶ä»–çš„è½¯ä»¶åŒ…</span><br></pre></td></tr></table></figure><p>ç¼–è¾‘æ–‡ä»¶ /etc/yum.repos.d/zabbix.repoï¼Œå°†enabledåçš„0æ”¹æˆ1ã€‚å¹¶å¯ç”¨ zabbix-frontend å­˜å‚¨åº“ã€‚</p><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/3.png" class></strong></p><p>å®‰è£… Zabbix å‰ç«¯åŒ…</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@zabbix-server ~]# yum -y install zabbix-web-mysql-scl zabbix-apache-conf-scl</span><br></pre></td></tr></table></figure><h3 id="4-åˆ›å»ºåˆå§‹æ•°æ®åº“"><a href="#4-åˆ›å»ºåˆå§‹æ•°æ®åº“" class="headerlink" title="4. åˆ›å»ºåˆå§‹æ•°æ®åº“"></a>4. åˆ›å»ºåˆå§‹æ•°æ®åº“</h3><p>ç¡®ä¿æ‚¨å·²å¯åŠ¨å¹¶è¿è¡Œæ•°æ®åº“æœåŠ¡å™¨ã€‚è¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯Mysql5.7ç‰ˆæœ¬</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@zabbix-server ~]# wget https://dev.mysql.com/get/mysql80-community-release-el7-3.noarch.rpm</span><br><span class="line">[root@zabbix-server ~]# rpm -ivh mysql80-community-release-el7-3.noarch.rpm</span><br></pre></td></tr></table></figure><p>æ‰“å¼€/etc/yum.repos.dçš„mysql-community.repo</p><p>æ‰“å¼€5.7æºåœ°å€ï¼Œå…³é—­8.0æºåœ°å€ï¼Œç¡®ä¿ä¸‹è½½çš„æ•°æ®åº“æ˜¯mysql5.7ï¼›ä¿®æ”¹ç»“æœå¦‚å›¾æ‰€ç¤º.è¿™é‡Œæ¢mariadbä¹Ÿå¯ä»¥</p><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/4.png" class></strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@zabbix-server ~]# yum -y install mysql-community-server</span><br></pre></td></tr></table></figure><p>å› ä¸ºmysql5.7å¯åŠ¨ï¼Œrootç”¨æˆ·ä¼šç”Ÿæˆéšæœºå¯†ç ï¼Œå¯ä»¥è¿›è¡Œä¿®æ”¹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@zabbix-server ~]# systemctl start mysqld</span><br><span class="line">[root@zabbix-server ~]# grep 'password' /var/log/mysqld.log</span><br></pre></td></tr></table></figure><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/5.png" class></strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@zabbix-server ~]# mysqladmin -uroot -p'U84zCRrlt0=c' password 'Alan@2024'</span><br></pre></td></tr></table></figure><p>åœ¨æ‚¨çš„æ•°æ®åº“ä¸»æœºä¸Šè¿è¡Œä»¥ä¸‹å‘½ä»¤ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@zabbix-server ~]# mysql -uroot -p'Alan@2024'</span><br><span class="line"><span class="meta">mysql&gt;</span><span class="bash"> create database zabbix character <span class="built_in">set</span> utf8 collate utf8_bin;</span></span><br><span class="line"><span class="meta">mysql&gt;</span><span class="bash"> grant all on zabbix.* to zabbix@localhost identified by <span class="string">'Zabbix@2024'</span>;</span></span><br><span class="line"><span class="meta">mysql&gt;</span><span class="bash"> flush privileges;</span></span><br><span class="line"><span class="meta">mysql&gt;</span><span class="bash"> quit;</span></span><br></pre></td></tr></table></figure><p>åœ¨ Zabbix æœåŠ¡å™¨ä¸»æœºä¸Šå¯¼å…¥åˆå§‹æ¨¡å¼å’Œæ•°æ®ã€‚ç³»ç»Ÿå°†æç¤ºæ‚¨è¾“å…¥æ–°åˆ›å»ºçš„å¯†ç ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@zabbix-server ~]# zcat /usr/share/doc/zabbix-server-mysql*/create.sql.gz | mysql -uzabbix -p zabbix</span><br><span class="line">Enter password: //æ­¤å¤„è¾“å…¥ä¸Šé¢åˆ›å»ºç”¨æˆ·æ—¶ï¼Œè®¾ç½®çš„å¯†ç ï¼Œå›è½¦å¯¼å…¥æ•°æ®ï¼›</span><br></pre></td></tr></table></figure><p>å¯å†æ¬¡è¿›å»åˆ°æ•°æ®åº“ï¼Œç¡®è®¤zabbixåº“ä¸­æœ‰æ•°æ®ç”Ÿæˆï¼›</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">mysql&gt;</span><span class="bash"> show databases;</span></span><br><span class="line">+--------------------+</span><br><span class="line">| Database           |</span><br><span class="line">+--------------------+</span><br><span class="line">| information_schema |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sys                |</span><br><span class="line">| zabbix             |</span><br><span class="line">+--------------------+</span><br><span class="line"><span class="meta">mysql&gt;</span><span class="bash"> use zabbix</span></span><br></pre></td></tr></table></figure><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/6.png" class></strong></p><h3 id="5-ä¸º-Zabbix-æœåŠ¡å™¨é…ç½®æ•°æ®åº“"><a href="#5-ä¸º-Zabbix-æœåŠ¡å™¨é…ç½®æ•°æ®åº“" class="headerlink" title="5. ä¸º Zabbix æœåŠ¡å™¨é…ç½®æ•°æ®åº“"></a>5. ä¸º Zabbix æœåŠ¡å™¨é…ç½®æ•°æ®åº“</h3><p>ç¼–è¾‘æ–‡ä»¶ /etc/zabbix/zabbix_server.conf</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">DBHost=localhost</span><br><span class="line">DBName=zabbix</span><br><span class="line">DBUser=zabbix</span><br><span class="line">DBPassword=Zabbix@2024</span><br></pre></td></tr></table></figure><h3 id="6-ä¸º-Zabbix-å‰ç«¯é…ç½®-PHP"><a href="#6-ä¸º-Zabbix-å‰ç«¯é…ç½®-PHP" class="headerlink" title="6. ä¸º Zabbix å‰ç«¯é…ç½® PHP"></a>6. ä¸º Zabbix å‰ç«¯é…ç½® PHP</h3><p>ç¼–è¾‘æ–‡ä»¶/etc/opt/rh/rh-php72/php-fpm.d/zabbix.confï¼Œå–æ¶ˆæ³¨é‡Šå¹¶ä¸ºæ‚¨è®¾ç½®æ­£ç¡®çš„æ—¶åŒºã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php_value[date.timezone] = Asia/Shanghai</span><br></pre></td></tr></table></figure><h3 id="7-å¯åŠ¨-Zabbix-æœåŠ¡å™¨å’Œä»£ç†è¿›ç¨‹"><a href="#7-å¯åŠ¨-Zabbix-æœåŠ¡å™¨å’Œä»£ç†è¿›ç¨‹" class="headerlink" title="7. å¯åŠ¨ Zabbix æœåŠ¡å™¨å’Œä»£ç†è¿›ç¨‹"></a>7. å¯åŠ¨ Zabbix æœåŠ¡å™¨å’Œä»£ç†è¿›ç¨‹</h3><p>å¯åŠ¨ Zabbix æœåŠ¡å™¨å’Œagentä»£ç†è¿›ç¨‹å¹¶ä½¿å…¶åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶å¯åŠ¨ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@zabbix-server ~]# systemctl restart zabbix-server zabbix-agent httpd rh-php72-php-fpm</span><br><span class="line">[root@zabbix-server ~]# systemctl enable zabbix-server zabbix-agent httpd rh-php72-php-fpm</span><br></pre></td></tr></table></figure><h3 id="8-é…ç½®-Zabbix-å‰ç«¯"><a href="#8-é…ç½®-Zabbix-å‰ç«¯" class="headerlink" title="8. é…ç½® Zabbix å‰ç«¯"></a>8. é…ç½® Zabbix å‰ç«¯</h3><p>è¿æ¥åˆ°æ‚¨æ–°å®‰è£…çš„ Zabbix å‰ç«¯ï¼šhttp:// 192.168.200.130/zabbix</p><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/7.png" class></strong></p><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/8.png" class></strong></p><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/9.png" class></strong></p><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/10.png" class></strong></p><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/11.png" class></strong></p><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/12.png" class></strong></p><p>å‡ºç°ä»¥ä¸‹ç™»å½•ç•Œé¢</p><p>Zabbixç›‘æ§å¹³å°æœ‰é»˜è®¤ç®¡ç†å‘˜ç”¨æˆ·ï¼›</p><p>é»˜è®¤ç”¨æˆ·åAdminï¼Œå¯†ç ä¸ºzabbixï¼›</p><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/13.png" class></strong></p><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/14.png" class></strong></p><p>é¡µé¢æ˜¾ç¤ºä¸ºè‹±æ–‡ï¼Œå¯ä»¥è®¾ç½®ä¸ºä¸­æ–‡</p><p>Adminç”¨æˆ·ï¼Œå¯ä»¥è®¾ç½®ä»»ä½•ç”¨æˆ·çš„è¯­è¨€</p><p>è®¾ç½®è‡ªå·±çš„è¯­è¨€å¦‚ä¸‹å›¾<strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/15.png" class></strong></p><p>è®¾ç½®å…¶ä»–ç”¨æˆ·çš„è¯­è¨€å¦‚ä¸‹å›¾ï¼š</p><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/16.png" class></strong></p><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/17.png" class></strong></p><p>ä¿®æ”¹ä¸ºå¦‚ä¸‹ï¼Œå³å¯ï¼š</p><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/18.png" class></strong></p><h2 id="é…ç½®è¢«ç›‘æ§zabbix-agentï¼ˆ2ä¸ªå®¢æˆ·ç«¯èŠ‚ç‚¹ï¼‰"><a href="#é…ç½®è¢«ç›‘æ§zabbix-agentï¼ˆ2ä¸ªå®¢æˆ·ç«¯èŠ‚ç‚¹ï¼‰" class="headerlink" title="é…ç½®è¢«ç›‘æ§zabbix-agentï¼ˆ2ä¸ªå®¢æˆ·ç«¯èŠ‚ç‚¹ï¼‰"></a>é…ç½®è¢«ç›‘æ§zabbix-agentï¼ˆ2ä¸ªå®¢æˆ·ç«¯èŠ‚ç‚¹ï¼‰</h2><p>å½“æˆ‘ä»¬æŠŠç›‘æ§ç«¯é…ç½®å¯åŠ¨ä»¥åï¼Œæˆ‘ä»¬éœ€è¦æ¥è®¾ç½®ä¸€ä¸‹æˆ‘ä»¬çš„è¢«ç›‘æ§ç«¯ï¼Œæˆ‘ä»¬åœ¨è¢«ç›‘æ§çš„ä¸»æœºå®‰è£…å¥½zabbix-agentï¼Œè®¾ç½®å¥½ä»–çš„æ‰€å±çš„ç›‘æ§ç«¯serverï¼Œå¹¶æŠŠä»–æ·»åŠ åˆ°serverç«¯ï¼Œå°±èƒ½å°†å…¶çº³å…¥æˆ‘ä»¬çš„ç›‘æ§ç³»ç»Ÿä¸­å»äº†ã€‚</p><h3 id="1-å®‰è£…-zabbix-æº"><a href="#1-å®‰è£…-zabbix-æº" class="headerlink" title="1.å®‰è£… zabbix æº"></a>1.å®‰è£… zabbix æº</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@zabbix-agent-node1 ~]<span class="comment"># rpm -Uvh https://repo.zabbix.com/zabbix/5.0/rhel/7/x86_64/zabbix-release-5.0-1.el7.noarch.rpm</span></span><br><span class="line">æˆ–è€…ï¼ˆé€Ÿåº¦å¿«ï¼‰<span class="comment">#rpm -Uvh https://mirrors.aliyun.com/zabbix/zabbix/5.0/rhel/7/x86_64/zabbix-release-5.0-1.el7.noarch.rpm</span></span><br><span class="line">[root@zabbix-agent-node1 ~]<span class="comment"># sed -i 's#http://repo.zabbix.com#https://mirrors.aliyun.com/zabbix#' /etc/yum.repos.d/zabbix.repo</span></span><br><span class="line">[root@zabbix-agent-node1 ~]<span class="comment"># yum install zabbix-agent zabbix-sender -y</span></span><br></pre></td></tr></table></figure><h3 id="2-ä¿®æ”¹é…ç½®æ–‡ä»¶"><a href="#2-ä¿®æ”¹é…ç½®æ–‡ä»¶" class="headerlink" title="2.ä¿®æ”¹é…ç½®æ–‡ä»¶"></a>2.ä¿®æ”¹é…ç½®æ–‡ä»¶</h3><p>å»ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@zabbix-agent-node1 ~]<span class="comment"># cd /etc/zabbix/</span></span><br><span class="line">[root@zabbix-agent-node1 zabbix]<span class="comment"># vim zabbix_agentd.conf   ----ä¿®æ”¹å¦‚ä¸‹</span></span><br><span class="line">Server=192.168.200.130 zabbixç›‘æ§ç«¯çš„åœ°å€ </span><br><span class="line">ServerActive=192.168.200.130 ä¸»åŠ¨æ¨¡å¼ zabbix-server-ip</span><br><span class="line">Hostname=zabbix-agent-none1 </span><br><span class="line">UnsafeUserParameters=1 æ˜¯å¦é™åˆ¶ç”¨æˆ·è‡ªå®šä¹‰ keys ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦ 1æ˜¯å¯ä»¥å¯ç”¨ç‰¹æ®Šå­—ç¬¦ 0æ˜¯ä¸å¯ä»¥å¯ç”¨ç‰¹æ®Šå­—ç¬¦</span><br><span class="line">EnableRemoteCommands=1 æ˜¯å¦å…è®¸åˆ«äººæ‰§è¡Œè¿œç¨‹æ“ä½œå‘½ä»¤ï¼Œé»˜è®¤æ˜¯ç¦ç”¨çš„ï¼Œæ‰“å¼€çš„è¯ä¼šæœ‰å®‰å…¨é£é™©.</span><br></pre></td></tr></table></figure><p>æ˜¯å¦å…è®¸åˆ«äººæ‰§è¡Œè¿œç¨‹æ“ä½œå‘½ä»¤ï¼Œé»˜è®¤æ˜¯ç¦ç”¨çš„ï¼Œæ‰“å¼€çš„è¯ä¼šæœ‰å®‰å…¨é£é™©.ä¿®æ”¹å®Œæˆä¹‹åï¼Œæˆ‘ä»¬ä¿å­˜é€€å‡ºã€‚ç„¶åå°±å¯ä»¥å¯åŠ¨æœåŠ¡äº†ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@zabbix-agent-node1 zabbix]# systemctl start zabbix-agent</span><br><span class="line">[root@zabbix-agent-node1 zabbix]# systemctl enable zabbix-agent</span><br></pre></td></tr></table></figure><h3 id="3-åˆ›å»ºä¸»æœºç¾¤ç»„ï¼ˆç›‘æ§ç«¯WEBæ“ä½œï¼‰"><a href="#3-åˆ›å»ºä¸»æœºç¾¤ç»„ï¼ˆç›‘æ§ç«¯WEBæ“ä½œï¼‰" class="headerlink" title="3.åˆ›å»ºä¸»æœºç¾¤ç»„ï¼ˆç›‘æ§ç«¯WEBæ“ä½œï¼‰"></a>3.åˆ›å»ºä¸»æœºç¾¤ç»„ï¼ˆç›‘æ§ç«¯WEBæ“ä½œï¼‰</h3><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/19.png" class></strong></p><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/20.png" class></strong></p><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/21.png" class></strong></p><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/22.png" class></strong></p><p>å¦‚æœåˆ›å»ºäº†çœ‹ä¸åˆ°è‡ªå·±åˆ›å»ºçš„ä¸»æœºç¾¤ç»„ï¼Œå†æ¬¡ç‚¹å‡»ä¸€ä¸‹å·¦è¾¹çš„ä¸»æœºç¾¤ç»„å³å¯çœ‹åˆ°ï¼å¯ä»¥çœ‹åˆ°Zabbixæœ¬èº«å°±æœ‰å¾ˆå¤šé»˜è®¤çš„ä¸»æœºç¾¤ç»„ã€‚æš‚æ—¶ä¸ç”¨ç†ä¼š</p><h3 id="4-åˆ›å»ºä¸»æœº"><a href="#4-åˆ›å»ºä¸»æœº" class="headerlink" title="4.åˆ›å»ºä¸»æœº"></a>4.åˆ›å»ºä¸»æœº</h3><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/23.png" class></strong></p><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/24.png" class></strong>ä¸‹æ–¹çš„ç»¿è‰²â€œZBXâ€éœ€è¦æ·»åŠ äº†ç›‘æ§é¡¹æ‰å›äº®èµ·</p><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/25.png" class></strong></p><h3 id="5-åˆ›å»ºåº”ç”¨é›†"><a href="#5-åˆ›å»ºåº”ç”¨é›†" class="headerlink" title="5.åˆ›å»ºåº”ç”¨é›†"></a>5.åˆ›å»ºåº”ç”¨é›†</h3><p>åº”ç”¨é›†ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯ç›‘æ§é¡¹çš„åˆ†ç±»</p><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/26.png" class></strong></p><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/27.png" class></strong></p><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/28.png" class></strong></p><p>åº”ç”¨é›†å¯ä»¥æœ‰å¤šä¸ªï¼Œæˆ‘ä»¬å†åˆ›å»º2ä¸ªï¼Œè¿™é‡Œä¸å†ç»™äºˆåˆ›å»ºè¿‡ç¨‹ï¼›</p><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/29.png" class></strong></p><h3 id="6-åˆ›å»ºç›‘æ§é¡¹"><a href="#6-åˆ›å»ºç›‘æ§é¡¹" class="headerlink" title="6.åˆ›å»ºç›‘æ§é¡¹"></a>6.åˆ›å»ºç›‘æ§é¡¹</h3><p>è¦åœ¨Zabbixç®¡ç†é¡µé¢åˆ›å»ºä¸€ä¸ªç›‘æ§é¡¹ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p><ul><li><p>è¿›å…¥åˆ°: <em>é…ç½®</em> â†’ <em>ä¸»æœº</em></p></li><li><p>åœ¨ä¸»æœºæ‰€åœ¨çš„è¡Œå•å‡» <em>ç›‘æ§é¡¹</em></p></li><li><p>ç‚¹å‡»å±å¹•å³ä¸Šè§’çš„<em>åˆ›å»ºç›‘æ§é¡¹</em></p></li><li><p>è¾“å…¥è¡¨å•ä¸­ç›‘æ§é¡¹çš„å‚æ•°</p></li></ul><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/30.png" class></strong></p><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/31.png" class></strong></p><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/311.png" class></strong></p><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/32.png" class></strong></p><h3 id="7-åˆ›å»ºè§¦å‘å™¨"><a href="#7-åˆ›å»ºè§¦å‘å™¨" class="headerlink" title="7.åˆ›å»ºè§¦å‘å™¨"></a>7.åˆ›å»ºè§¦å‘å™¨</h3><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/33.png" class></strong></p><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/34.png" class></strong></p><h3 id="8-é‚®ç®±æŠ¥è­¦"><a href="#8-é‚®ç®±æŠ¥è­¦" class="headerlink" title="8.é‚®ç®±æŠ¥è­¦"></a>8.é‚®ç®±æŠ¥è­¦</h3><p>æ³¨å†Œä¸€ä¸ªé‚®ç®±ï¼ŒQQé‚®ç®±æˆ–è€…163é‚®ç®±éƒ½å¯ä»¥ï¼Œä¸‹é¢ä»¥163é‚®ç®±ä¸ºä¾‹ã€‚è¦è®°å¾—å¼€å¯ä»¥ä¸‹è¿™ä¸ªåŠŸèƒ½ã€‚</p><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/35.png" class></strong></p><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/36.png" class></strong></p><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/37.png" class></strong></p><h5 id="ï¼ˆ1ï¼‰æŠ¥è­¦-æ¢å¤æ¶ˆæ¯æ¨¡ç‰ˆè®¾ç½®"><a href="#ï¼ˆ1ï¼‰æŠ¥è­¦-æ¢å¤æ¶ˆæ¯æ¨¡ç‰ˆè®¾ç½®" class="headerlink" title="ï¼ˆ1ï¼‰æŠ¥è­¦/æ¢å¤æ¶ˆæ¯æ¨¡ç‰ˆè®¾ç½®"></a>ï¼ˆ1ï¼‰æŠ¥è­¦/æ¢å¤æ¶ˆæ¯æ¨¡ç‰ˆè®¾ç½®</h5><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/38.png" class></strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">é—®é¢˜ä¸»æœº: &#123;HOST.NAME1&#125;</span><br><span class="line">é—®é¢˜æ—¶é—´: &#123;EVENT.DATE&#125; &#123;EVENT.TIME&#125;</span><br><span class="line">é—®é¢˜çº§åˆ«: &#123;TRIGGER.SEVERITY&#125;</span><br><span class="line">é—®é¢˜è§¦å‘: &#123;TRIGGER.NAME&#125;</span><br><span class="line">é—®é¢˜è¯¦æƒ…: &#123;ITEM.NAME1&#125;:&#123;ITEM.KEY1&#125;:&#123;ITEM.VALUE1&#125;</span><br><span class="line">é—®é¢˜çŠ¶æ€: &#123;TRIGGER.STATUS&#125;</span><br><span class="line">é—®é¢˜é¡¹ç›®ï¼š&#123;TRIGGER.KEY1&#125;</span><br><span class="line">äº‹ä»¶IDï¼š&#123;EVENT.ID&#125;</span><br></pre></td></tr></table></figure><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/39.png" class></strong></p><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/40.png" class></strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">æ¢å¤ä¸»æœº: &#123;HOST.NAME1&#125;</span><br><span class="line">æ¢å¤æ—¶é—´: &#123;EVENT.DATE&#125; &#123;EVENT.TIME&#125;</span><br><span class="line">æ¢å¤çº§åˆ«: &#123;TRIGGER.SEVERITY&#125;</span><br><span class="line">æ¢å¤è§¦å‘: &#123;TRIGGER.NAME&#125;</span><br><span class="line">æ¢å¤è¯¦æƒ…: &#123;ITEM.NAME1&#125;:&#123;ITEM.KEY1&#125;:&#123;ITEM.VALUE1&#125;</span><br><span class="line">æ¢å¤çŠ¶æ€: &#123;TRIGGER.STATUS&#125;</span><br><span class="line">æ¢å¤é¡¹ç›®ï¼š&#123;TRIGGER.KEY1&#125;</span><br><span class="line">äº‹ä»¶IDï¼š&#123;EVENT.ID&#125;</span><br></pre></td></tr></table></figure><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/41.png" class></strong></p><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/42.png" class></strong></p><h5 id="ï¼ˆ2ï¼‰é‚®ç®±æµ‹è¯•"><a href="#ï¼ˆ2ï¼‰é‚®ç®±æµ‹è¯•" class="headerlink" title="ï¼ˆ2ï¼‰é‚®ç®±æµ‹è¯•"></a>ï¼ˆ2ï¼‰é‚®ç®±æµ‹è¯•</h5><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/43.png" class></strong></p><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/44.png" class></strong></p><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/45.png" class></strong></p><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/46.png" class></strong></p><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/47.png" class></strong></p><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/48.png" class></strong></p><h5 id="ï¼ˆ3ï¼‰åŠ¨ä½œ"><a href="#ï¼ˆ3ï¼‰åŠ¨ä½œ" class="headerlink" title="ï¼ˆ3ï¼‰åŠ¨ä½œ"></a>ï¼ˆ3ï¼‰åŠ¨ä½œ</h5><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/49.png" class></strong></p><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/50.png" class></strong></p><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/51.png" class></strong></p><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/52.png" class></strong></p><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/53.png" class></strong></p><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/54.png" class></strong></p><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/55.png" class></strong></p><h5 id="æŠ¥è­¦æµ‹è¯•"><a href="#æŠ¥è­¦æµ‹è¯•" class="headerlink" title="æŠ¥è­¦æµ‹è¯•"></a>æŠ¥è­¦æµ‹è¯•</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@zabbix-agent1 ~]# systemctl stop httpd  #å°†è¢«ç›‘æ§ç«¯çš„httpdæœåŠ¡å…³é—­</span><br></pre></td></tr></table></figure><p>æ¥å—åˆ°é—®é¢˜å‘ç”Ÿé‚®ä»¶ï¼š<strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/56.png" class></strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@zabbix-agent1 ~]# systemctl start httpd</span><br></pre></td></tr></table></figure><p>æ¥å—åˆ°é—®é¢˜æ¢å¤é‚®ä»¶ï¼š</p><p><strong><img src="/2024/05/17/zabbix%E9%83%A8%E7%BD%B2/57.png" class></strong></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="Linux" scheme="https://l66stbz.github.io/tags/Linux/"/>
    
      <category term="Zabbix" scheme="https://l66stbz.github.io/tags/Zabbix/"/>
    
  </entry>
  
  <entry>
    <title>å®‰è£…zabbixå‰ç«¯åŒ…é—®é¢˜</title>
    <link href="https://l66stbz.github.io/2024/05/17/%E5%AE%89%E8%A3%85zabbix%E5%89%8D%E7%AB%AF%E5%8C%85%E9%97%AE%E9%A2%98/"/>
    <id>https://l66stbz.github.io/2024/05/17/%E5%AE%89%E8%A3%85zabbix%E5%89%8D%E7%AB%AF%E5%8C%85%E9%97%AE%E9%A2%98/</id>
    <published>2024-05-17T01:56:37.000Z</published>
    <updated>2024-06-22T07:29:20.592Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>Centos7ä¸­å®‰è£…zabbixå‡ºç°æŠ¥é”™ï¼Œåœ¨å®‰è£… Zabbix å‰ç«¯åŒ…æ—¶æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ—¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@zabbix-server ~]# yum -y install zabbix-web-mysql-scl zabbix-apache-conf-scl</span><br></pre></td></tr></table></figure><p><strong><img src="/2024/05/17/%E5%AE%89%E8%A3%85zabbix%E5%89%8D%E7%AB%AF%E5%8C%85%E9%97%AE%E9%A2%98/1.png" class></strong></p><p>è§£å†³æ–¹æ³•ï¼šyum install <a href="https://so.csdn.net/so/search?q=httpd&spm=1001.2101.3001.7020" target="_blank" rel="noopener">httpd</a> -yå®‰è£…æç¤ºæ²¡æœ‰å¯ç”¨è½¯ä»¶åŒ…ï¼Œ<br>æ‰§è¡Œvim /etc/yum.confï¼Œå°†æœ€åä¸€è¡Œæ³¨é‡Šæ‰<br>#exclude=httpd nginx php mysql mairadb python-psutil python2-psutil</p><p><strong><img src="/2024/05/17/%E5%AE%89%E8%A3%85zabbix%E5%89%8D%E7%AB%AF%E5%8C%85%E9%97%AE%E9%A2%98/2.png" class></strong></p><p>æ³¨é‡Šæ‰åå°±å¯ä»¥è£…httpdäº†ï¼Œæ‰§è¡Œ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install httpd</span><br></pre></td></tr></table></figure><p>ç„¶åå°±å¯ä»¥ç»§ç»­å®‰è£…æœ€å¼€å§‹çš„zabbixå‰ç«¯åŒ…äº†ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="Linux" scheme="https://l66stbz.github.io/tags/Linux/"/>
    
      <category term="Zabbix" scheme="https://l66stbz.github.io/tags/Zabbix/"/>
    
  </entry>
  
  <entry>
    <title>ä¿®æ”¹rootå¯†ç </title>
    <link href="https://l66stbz.github.io/2024/05/16/%E4%BF%AE%E6%94%B9root%E5%AF%86%E7%A0%81/"/>
    <id>https://l66stbz.github.io/2024/05/16/%E4%BF%AE%E6%94%B9root%E5%AF%86%E7%A0%81/</id>
    <published>2024-05-16T01:56:37.000Z</published>
    <updated>2024-06-22T06:16:17.294Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><img src="/2024/05/16/%E4%BF%AE%E6%94%B9root%E5%AF%86%E7%A0%81/1715595231223-36117e62-f836-4d2f-9f1a-11e9dcd5cad8-17190367083772.png" alt="img"></p><p>æ­¤ç•Œé¢æŒ‰eè¿›å…¥ç¼–è¾‘å†…æ ¸å‚æ•°</p><p><strong><img src="/2024/05/16/%E4%BF%AE%E6%94%B9root%E5%AF%86%E7%A0%81/1.jpg" class></strong></p><p><strong><img src="/2024/05/16/%E4%BF%AE%E6%94%B9root%E5%AF%86%E7%A0%81/2.jpg" class></strong></p><p>é‡å¯å‘½ä»¤ reboot ç°åœ¨å·²ç»ä¸ç”Ÿæ•ˆäº†, ç›´æ¥ä½¿ç”¨ç»å¯¹è·¯å¾„å»æ‰§è¡Œ :</p><p> <strong>exec /sbin/init</strong> æˆ– <strong>exec /sbin/reboot</strong></p><p>â›…ä¸ºäº†è®© SELinux ç”Ÿæ•ˆ<br>â›…SELinux å®ƒæ˜¯ä¸€ä¸ªå®‰å…¨å¢å¼ºç³»ç»Ÿ, å…¶å†…éƒ¨æœ‰è®¸å¤šå®‰å…¨ç­–ç•¥<br>â›…é’ˆå¯¹ä¸€äº›æ“ä½œ, å¦‚æœä½ åšäº†è¿™äº›æ“ä½œ, æ²¡æœ‰å¾—åˆ°ç­–ç•¥çš„æ”¾è¡Œ, å®ƒä¼šç»™ä½ ç¦æ­¢æ‰<br>â›…æ¯”å¦‚ä½ ä½¿ç”¨å•ç”¨ä¿®æ”¹rootå¯†ç æ˜¯ä¸è¢«ç­–ç•¥æ”¾è¡Œçš„<br>â›…æ€ä¹ˆè®© SELinux ç­–ç•¥æ”¾è¡Œå‘¢?<br>      ğŸ”µâ€touch /.autorelabelâ€ åˆ›å»ºè¿™æ ·ä¸€ä¸ªæ–‡ä»¶å…¶å®å°±æ˜¯åœ¨å‘Šè¯‰SELinuxæ”¾è¡Œè¿™ä¸ªç­–ç•¥,å°±æ˜¯é€šçŸ¥ä¸€ä¸‹<br>      ğŸ”µç›´æ¥å…³é—­æ‰ SELinux</p><p>ä¿®æ”¹selinuxé…ç½®ä¿¡æ¯ï¼švi /etc/syconfig/selinuxæˆ–è€…vi /etc/selinux/config</p><p>å‰åä¸¤è€…è·¯å¾„æ–‡ä»¶æ˜¯ä¸€æ ·çš„ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="Linux" scheme="https://l66stbz.github.io/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>2024.05éšè®°</title>
    <link href="https://l66stbz.github.io/2024/05/15/2024.05%E9%9A%8F%E8%AE%B0/"/>
    <id>https://l66stbz.github.io/2024/05/15/2024.05%E9%9A%8F%E8%AE%B0/</id>
    <published>2024-05-15T01:56:37.000Z</published>
    <updated>2024-06-22T05:55:19.861Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="è§£å†³centos-é”™è¯¯-curl-6-Could-not-resolve-host"><a href="#è§£å†³centos-é”™è¯¯-curl-6-Could-not-resolve-host" class="headerlink" title="è§£å†³centos é”™è¯¯ curl: (6) Could not resolve host"></a><a href="https://www.cnblogs.com/emunshe/p/13722744.html" target="_blank" rel="noopener">è§£å†³centos é”™è¯¯ curl: (6) Could not resolve host</a></h2><p>æœ¬æœºIPå’Œè™šæ‹ŸæœºIPä¸èƒ½æ˜¯åŒä¸€ä¸ªç½‘æ®µï¼ŒVMwareè™šæ‹Ÿç½‘ç»œç®¡ç†ä¸­ä¿®æ”¹è™šæ‹ŸæœºIPç½‘æ®µã€‚</p><h2 id="è¿½åŠ é‡å®šå‘-gt-gt"><a href="#è¿½åŠ é‡å®šå‘-gt-gt" class="headerlink" title="è¿½åŠ é‡å®šå‘&gt;&gt;"></a>è¿½åŠ é‡å®šå‘&gt;&gt;</h2><p>åœ¨æ–‡ä»¶åŸæ¥å†…å®¹åŸºç¡€ä¸Šè¿½åŠ ä¸Šæ–°çš„å†…å®¹</p><p><strong><img src="/2024/05/15/2024.05%E9%9A%8F%E8%AE%B0/1.png" class></strong></p><h2 id="è¦†ç›–é‡å®šå‘-gt"><a href="#è¦†ç›–é‡å®šå‘-gt" class="headerlink" title="è¦†ç›–é‡å®šå‘&gt;"></a>è¦†ç›–é‡å®šå‘&gt;</h2><p>å¯ä»¥å‘ç°ä¹‹å‰çš„123456è¢«789ç»™è¦†ç›–æ‰äº†</p><p><strong><img src="/2024/05/15/2024.05%E9%9A%8F%E8%AE%B0/2.png" class></strong></p><h2 id="lt-å’Œ-lt-lt"><a href="#lt-å’Œ-lt-lt" class="headerlink" title="&lt;å’Œ&lt;&lt;"></a>&lt;å’Œ&lt;&lt;</h2><p>åœ¨å±å¹•ä¸Šè¾“å‡ºEOFä¹‹é—´ä½ æ‰€è¾“å…¥çš„å†…å®¹ã€‚ï¼ˆEOFå¯ä»¥è¢«æ›¿æ¢ä¸ºä»»æ„å­—ç¬¦ï¼Œåªè¦å‰åå¼€å¤´ç»“å°¾ä¸€è‡´å³å¯ï¼‰</p><p><strong><img src="/2024/05/15/2024.05%E9%9A%8F%E8%AE%B0/3.png" class></strong></p><p>å°†æ–‡ä»¶ä¸­çš„wobuhaoè¦†ç›–æˆäº†wohenhao</p><p><strong><img src="/2024/05/15/2024.05%E9%9A%8F%E8%AE%B0/4.png" class></strong></p><p>åœ¨æ–‡ä»¶ä¸­çš„wobuhaoçš„åŸºç¡€ä¸Šè¿½åŠ äº†wohenhaoã€‚</p><p><strong><img src="/2024/05/15/2024.05%E9%9A%8F%E8%AE%B0/5.png" class></strong></p><h2 id="shellè„šæœ¬"><a href="#shellè„šæœ¬" class="headerlink" title="shellè„šæœ¬"></a>shellè„šæœ¬</h2><p>å»ºç«‹/åˆ é™¤user1â€¦user100ä¸ªç”¨æˆ·</p><p><strong><img src="/2024/05/15/2024.05%E9%9A%8F%E8%AE%B0/6.png" class></strong></p><p>å»ºç«‹/root/A/a.shå¹¶å†™å…¥å†…å®¹â€œæµ‹è¯•â€</p><p><strong><img src="/2024/05/15/2024.05%E9%9A%8F%E8%AE%B0/7.png" class></strong></p><h1 id="è„šæœ¬çš„æ‰§è¡Œ"><a href="#è„šæœ¬çš„æ‰§è¡Œ" class="headerlink" title="è„šæœ¬çš„æ‰§è¡Œ"></a>è„šæœ¬çš„æ‰§è¡Œ</h1><p>1ä½¿ç”¨æŒ‡å®šçš„shellè§£é‡Šå™¨ï¼šï¼ˆä¸éœ€è¦è„šæœ¬æœ‰æ‰§è¡Œæƒé™ï¼‰ï¼Œä¼šé‡æ–°åŠ è½½ä¸€ä¸ªå­bashç¯å¢ƒå»æ‰§è¡Œï¼Œä¸ä¼šå½±å“å½“å‰bashç¯å¢ƒå˜é‡å€¼ï¼Œå¸¸ä½¿ç”¨ã€‚</p><p>2ä½¿ç”¨è·¯å¾„çš„æ–¹å¼ï¼šï¼ˆéœ€è¦è„šæœ¬æœ‰æ‰§è¡Œæƒé™ï¼‰</p><p>3ä½¿ç”¨sourceå’Œâ€œ.â€æ‰§è¡Œè„šæœ¬ï¼šï¼ˆéœ€è¦è„šæœ¬æœ‰æ‰§è¡Œæƒé™ï¼‰ï¼Œä¼šåœ¨å½“å‰æ‰§è¡Œå‘½ä»¤çš„ç»ˆç«¯å»æ‰§è¡Œè„šæœ¬ï¼Œæ•ˆæœç›´æ¥å½±å“å½“å‰ç»ˆç«¯ã€‚</p><p>1å’Œ2éƒ½æ˜¯åœ¨å­ç»ˆç«¯å†…æ‰§è¡Œè„šæœ¬ï¼Œåªæœ‰3æ˜¯åœ¨å½“å‰ç»ˆç«¯æ‰§è¡Œã€‚</p><p>test1æ–‡ä»¶å†…å®¹ï¼šecho $x</p><p><strong><img src="/2024/05/15/2024.05%E9%9A%8F%E8%AE%B0/8.png" class></strong></p><p>æ‰€ä»¥ç”¨1å’Œ2çš„æ–¹å¼å»æ‰§è¡Œtest1.shè„šæœ¬æ—¶å¹¶ä¸ä¼šæ˜¾ç¤º10ï¼Œå› ä¸ºéƒ½ä¸æ˜¯åœ¨å½“å‰ç»ˆç«¯æ‰§è¡Œçš„ã€‚åªæœ‰3æ˜¯åœ¨å½“å‰ç»ˆç«¯æ‰§è¡Œï¼Œæ‰€ä»¥åªæœ‰3æ‰ä¼šæ˜¾ç¤º10</p><h2 id="å¸¸è§çš„æ¯”è¾ƒè¿ç®—ç¬¦å·-gâ‰ˆå¤§äºã€lâ‰ˆå°äºã€eâ‰ˆç­‰äº"><a href="#å¸¸è§çš„æ¯”è¾ƒè¿ç®—ç¬¦å·-gâ‰ˆå¤§äºã€lâ‰ˆå°äºã€eâ‰ˆç­‰äº" class="headerlink" title="å¸¸è§çš„æ¯”è¾ƒè¿ç®—ç¬¦å·           (gâ‰ˆå¤§äºã€lâ‰ˆå°äºã€eâ‰ˆç­‰äº)"></a>å¸¸è§çš„æ¯”è¾ƒè¿ç®—ç¬¦å·           (gâ‰ˆå¤§äºã€lâ‰ˆå°äºã€eâ‰ˆç­‰äº)</h2><p><strong><img src="/2024/05/15/2024.05%E9%9A%8F%E8%AE%B0/9.png" class></strong></p><p>å­—ç¬¦ä¸²ç±»å‹æ¯”è¾ƒç”¨ç¬¦å·ï¼Œæ•°å­—æ¯”è¾ƒç”¨å­—æ¯</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">read -p "è¯·è¾“å…¥ä½ çš„æˆç»©:" grade</span><br><span class="line">if [ $grade = 100 ]</span><br><span class="line">then</span><br><span class="line">        echo "æ»¡åˆ†"</span><br><span class="line">elif [ $grade -lt 100 -a $grade -gt 80 ]</span><br><span class="line">then</span><br><span class="line">        echo "ä¼˜ç§€"</span><br><span class="line">elif [ $grade -lt 80 -a $grade -gt 60 ]</span><br><span class="line">then</span><br><span class="line">        echo "åŠæ ¼"</span><br><span class="line">else</span><br><span class="line">        echo "ä¸åŠæ ¼"</span><br><span class="line">fi</span><br></pre></td></tr></table></figure><h2 id="ã€whileå¾ªç¯ã€‘"><a href="#ã€whileå¾ªç¯ã€‘" class="headerlink" title="ã€whileå¾ªç¯ã€‘"></a>ã€whileå¾ªç¯ã€‘</h2><p>#########################</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">while  [ åˆ¤æ–­æ¡ä»¶  ]</span><br><span class="line">â€‹do</span><br><span class="line">â€‹å¾ªç¯ä½“</span><br><span class="line">â€‹è®¡æ•°å™¨ï¼ˆå¦åˆ™æ­»å¾ªç¯ï¼‰</span><br><span class="line">â€‹done</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">###########ã€shellè„šæœ¬å†…whileçš„æ­»å¾ªç¯å†™æ³•æŠ€å·§ã€‘#############</span></span></span><br><span class="line"></span><br><span class="line">while  :</span><br><span class="line">do</span><br><span class="line">    å¾ªç¯ä½“</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">###########ã€whileå¾ªç¯+readè¯»å–æ–‡ä»¶ã€‘##############</span></span></span><br><span class="line"></span><br><span class="line">while  read  å˜é‡</span><br><span class="line">do</span><br><span class="line">    å¾ªç¯ä½“</span><br><span class="line">done  &lt;æ–‡ä»¶è·¯å¾„</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">#########################</span></span></span><br></pre></td></tr></table></figure><h2 id="ç»ƒä¹ "><a href="#ç»ƒä¹ " class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h2><p>forå¾ªç¯æ±‚å’Œ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sum=0</span><br><span class="line">for i in &#123;1..100&#125;</span><br><span class="line">do</span><br><span class="line">        let sum=$sum+$i</span><br><span class="line">done</span><br><span class="line">        echo $sum</span><br></pre></td></tr></table></figure><p>è¾“å…¥ä¸€ä¸ªç”¨æˆ·æŸ¥çœ‹æ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨çš„è¯æ˜¾ç¤ºè¯¥ç”¨æˆ·å­˜åœ¨ï¼Œå¹¶è¯¢é—®æ˜¯å¦éœ€è¦ä¿®æ”¹å¯†ç ã€‚ä¸å­˜åœ¨çš„è¯æ˜¾ç¤ºè¯¥ç”¨æˆ·ä¸å­˜åœ¨ç„¶ååˆ›å»ºè¯¥ç”¨æˆ·ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">read -p "è¯·è¾“å…¥ç”¨æˆ·å:" user</span><br><span class="line">id $user &amp;&gt;/dev/null</span><br><span class="line">if [ $? -eq 0 ]</span><br><span class="line">then</span><br><span class="line">        echo "è¯¥ç”¨æˆ·å­˜åœ¨"</span><br><span class="line">read -p "æ˜¯å¦éœ€è¦ä¿®æ”¹å¯†ç ã€Y/æ˜¯|N/å¦ã€‘" x</span><br><span class="line">        if [ $x = "Y" ]</span><br><span class="line">        then</span><br><span class="line">        read -p "è¯·è¾“å…¥ä½ è¦ä¿®æ”¹çš„å¯†ç ï¼š" pass</span><br><span class="line">        echo "$pass" | passwd --stdin $user</span><br><span class="line"><span class="meta"> #</span><span class="bash"><span class="built_in">echo</span>å‘½ä»¤ä¼šå°†<span class="string">"pass"</span>å­—ç¬¦ä¸²è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºï¼Œç„¶åé€šè¿‡ç®¡é“(|)å°†å…¶ä¼ é€’ç»™passwdå‘½ä»¤çš„--stdiné€‰é¡¹ã€‚passwdå‘½ä»¤æ¥æ”¶åˆ°æ ‡å‡†è¾“å…¥ä¸­çš„å¯†ç åï¼Œå°†å…¶ä½œä¸ºæ–°å¯†ç è®¾ç½®ç»™ç”¨æˆ·<span class="string">"pass"</span>ã€‚</span></span><br><span class="line"><span class="meta"> #</span><span class="bash">å‘½ä»¤ï¼š|</span></span><br><span class="line"><span class="meta">#</span><span class="bash">è¡¨ç¤ºç®¡é“ï¼Œä¸Šä¸€æ¡å‘½ä»¤çš„è¾“å‡ºï¼Œä½œä¸ºä¸‹ä¸€æ¡å‘½ä»¤å‚æ•°è¿›è¡Œä¼ é€’ï¼Œå¦‚ï¼šls | grep â€œaaâ€ï¼Œåœ¨lsçš„è¾“å‡ºä¸­æŸ¥æ‰¾aaå­—ç¬¦ä¸²</span></span><br><span class="line">        fi</span><br><span class="line">else</span><br><span class="line">        echo "è¯¥ç”¨æˆ·ä¸å­˜åœ¨"</span><br><span class="line">        useradd $user</span><br><span class="line">        echo "$useråˆ›å»ºæˆåŠŸ"</span><br><span class="line">fi</span><br></pre></td></tr></table></figure><p>echo $? å¯ä»¥æŸ¥çœ‹ä¸Šä¸€æ¡å‘½ä»¤æ‰§è¡Œæ˜¯å¦æ­£ç¡®ï¼Œæ­£ç¡®åˆ™è¿”å›0ï¼Œä¸å¯¹åˆ™è¿”å›é0.    2&gt;/dev/null æ˜¯å°†é”™è¯¯ç»“æœä¸¢è¿›åƒåœ¾ç®±ã€‚å°†2æ”¹æˆ&amp;åˆ™æ˜¯ä¸ç®¡ç»“æœæ˜¯æ­£ç¡®è¿˜æ˜¯é”™è¯¯éƒ½ä¸¢è¿›åƒåœ¾ç®±ã€‚</p><h2 id="ã€ä½œä¸šåŠç­”æ¡ˆã€‘"><a href="#ã€ä½œä¸šåŠç­”æ¡ˆã€‘" class="headerlink" title="ã€ä½œä¸šåŠç­”æ¡ˆã€‘"></a>ã€ä½œä¸šåŠç­”æ¡ˆã€‘</h2><p>ä¸‹è¿°ç¬¬ä¸€ç§ä¸ºæ ‡å‡†ç­”æ¡ˆï¼Œç¬¬äºŒç§ä¸ºè‡ªå·±æ‰€å†™ã€‚</p><p>1ã€æç¤ºç”¨æˆ·è¾“å…¥æ•°å­—ï¼Œå¹¶è®¡ç®—ä»ä½•1å¼€å§‹åˆ°è¿™ä¸ªæ•°å­—çš„ç›¸åŠ æ€»å’Œï¼›</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">ç­”æ¡ˆ</span></span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">sum=0</span><br><span class="line">read -p  "è¯·è¾“å…¥æ­£æ•´æ•°ï¼š " num</span><br><span class="line">for i in  `seq $num`</span><br><span class="line">do</span><br><span class="line">        sum=`echo "$sum + $i"|bc`</span><br><span class="line">done</span><br><span class="line">echo "æ€»å’Œï¼š$sum"</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">sum=0</span><br><span class="line">i=1</span><br><span class="line">read -p "è¯·è¾“å…¥ä¸€ä¸ªæ•°:" A</span><br><span class="line">for i in `seq 1 $A`</span><br><span class="line">do</span><br><span class="line">        let sum=$sum+$i</span><br><span class="line">done</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="keyword">while</span> [ <span class="variable">$i</span> -le <span class="variable">$A</span> ]</span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="keyword">do</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash">       <span class="built_in">let</span> sum=<span class="variable">$sum</span>+<span class="variable">$i</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash">       <span class="built_in">let</span> i++</span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="keyword">done</span></span></span><br><span class="line">        echo    $sum</span><br></pre></td></tr></table></figure><p>2ã€å°†ç”¨æˆ·åæ”¾åœ¨/root/username.txtæ–‡ä»¶ä¸­ï¼ˆæ¯è¡Œä¸€ä¸ªç”¨æˆ·åï¼‰ï¼Œä¹¦å†™è„šæœ¬åˆ¤æ–­username.txtä¸­çš„ç”¨æˆ·æ˜¯å¦å­˜åœ¨ï¼Œ<br>å­˜åœ¨åˆ™åˆ é™¤ï¼Œç”¨æˆ·ä¸å­˜åœ¨åˆ™åˆ›å»ºï¼›</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">ç­”æ¡ˆ</span></span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">while read user</span><br><span class="line">do</span><br><span class="line">        id $user &amp;&gt;/dev/null</span><br><span class="line">        if [ $? -eq 0 ]</span><br><span class="line">        then</span><br><span class="line">                userdel -r $user</span><br><span class="line">        else</span><br><span class="line">                useradd $user</span><br><span class="line">        fi</span><br><span class="line"></span><br><span class="line">done  &lt;/root/user.txt</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">while read user</span><br><span class="line">do</span><br><span class="line">id $user &amp;&gt;/dev/null</span><br><span class="line">if [ $? -eq 0 ]</span><br><span class="line">then</span><br><span class="line">        userdel -r $user</span><br><span class="line">else</span><br><span class="line">        useradd $user</span><br><span class="line">fi</span><br><span class="line">done &lt;/root/username.txt</span><br></pre></td></tr></table></figure><p>3ã€ä½¿ç”¨è„šæœ¬æ¨¡æ‹Ÿè·å¾—ç”¨æˆ·å¯†ç ç™»é™†ï¼Œåˆ¤æ–­ç”¨æˆ·å¯†ç æ˜¯å¦æ­£ç¡®ï¼ˆç”¨æˆ·å¯†ç ä¸º123ï¼‰ï¼Œå¦‚æœè¿ç»­3æ¬¡è¾“å…¥é”™è¯¯ï¼Œåˆ™é€€å‡ºè„šæœ¬ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">ç­”æ¡ˆ</span></span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">while :</span><br><span class="line">do</span><br><span class="line">read -p "è¯·è¾“å…¥ä½ çš„ç”¨æˆ·åï¼š  " name</span><br><span class="line">if [ "$name" == "Alan" ] || [ "$name" == "alan" ]</span><br><span class="line">then</span><br><span class="line">for i in &#123;1..3&#125;</span><br><span class="line">do</span><br><span class="line">read -p "è¯·è¾“å…¥å¯†ç ï¼š " pass</span><br><span class="line">if [ $pass -eq 123 ]</span><br><span class="line">then</span><br><span class="line">echo "ç™»é™†æˆåŠŸã€‚"</span><br><span class="line">exit 0</span><br><span class="line">else</span><br><span class="line">echo "å¯†ç éªŒè¯é”™è¯¯ï¼šè¯·é‡æ–°è¾“å…¥ã€‚"</span><br><span class="line">fi</span><br><span class="line">done</span><br><span class="line">echo "====== è¶…è¿‡å°è¯•æ¬¡æ•°ï¼Œè¢«å¼ºåˆ¶é€€å‡ºã€‚======"</span><br><span class="line">exit 1</span><br><span class="line">else</span><br><span class="line">echo "*****æ²¡æœ‰è¿™ä¸ªè´¦å·ï¼Œè¯·é‡æ–°è¾“å…¥ã€‚*****"</span><br><span class="line">echo</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">done</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">while :</span><br><span class="line">do</span><br><span class="line">read -p "è¯·è¾“å…¥ç”¨æˆ·åï¼š" name</span><br><span class="line">if [ $name = "ldq" ] || [ $name = "Ldq" ]</span><br><span class="line">then</span><br><span class="line">i=0</span><br><span class="line">while [ $i -lt 3 ]</span><br><span class="line">do</span><br><span class="line">read -p "è¯·è¾“å…¥ç™»é™†å¯†ç " p</span><br><span class="line">if [ $p -eq 123 ]</span><br><span class="line">then</span><br><span class="line">        echo "ç™»é™†æˆåŠŸ"</span><br><span class="line">        exit</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">else</span><br><span class="line">        echo "å¯†ç é”™è¯¯ï¼Œè¯·å†æ¬¡è¾“å…¥"</span><br><span class="line">fi</span><br><span class="line">        let i++</span><br><span class="line">done</span><br><span class="line">        exit</span><br><span class="line">fi</span><br><span class="line">done</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="built_in">exit</span>åè·Ÿæ•°å­—å¯ä»¥æ§åˆ¶è¿”å›å€¼ï¼Œå³$?å¾—åˆ°çš„å€¼</span></span><br></pre></td></tr></table></figure><p>4ã€ä½¿ç”¨è„šæœ¬è·å–ç”¨æˆ·æ³¨å†Œè´¦å·å¹¶ç”Ÿæˆä¸€ä¸ª8ä½éšæœºå¯†ç ï¼Œè¦æ±‚å¯†ç å¼€å¤´å¿…é¡»åŒ…å«ç”¨æˆ·åã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">ç­”æ¡ˆ</span></span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">read -p "è¯·è¾“å…¥ä½ çš„è´¦å·ï¼š "  user</span><br><span class="line"></span><br><span class="line">num=`echo $user|wc -L`</span><br><span class="line">n1=$(($RANDOM % 10 + 0 ))</span><br><span class="line">n2=$(($RANDOM % 10 + 0 ))</span><br><span class="line">n3=$(($RANDOM % 10 + 0 ))</span><br><span class="line">n4=$(($RANDOM % 10 + 0 ))</span><br><span class="line">n5=$(($RANDOM % 10 + 0 ))</span><br><span class="line">n6=$(($RANDOM % 10 + 0 ))</span><br><span class="line">n7=$(($RANDOM % 10 + 0 ))</span><br><span class="line"></span><br><span class="line">if [ $num -ge 8 ]</span><br><span class="line">then</span><br><span class="line">        echo "ç”¨æˆ·åè¿‡é•¿ï¼Œæ— æ³•ç”Ÿæˆå¯†ç ã€‚"</span><br><span class="line">else</span><br><span class="line">        if [ $num -eq 7 ]</span><br><span class="line">        then</span><br><span class="line">                passwd=$user$n1</span><br><span class="line">                echo "è¯·ç‰¢è®°ä½ çš„å¯†ç ï¼š$passwd"</span><br><span class="line">        elif [ $num -eq 6 ]</span><br><span class="line">        then</span><br><span class="line">                passwd=$user$n1$n2</span><br><span class="line">                echo "è¯·ç‰¢è®°ä½ çš„å¯†ç ï¼š$passwd"</span><br><span class="line">        elif [ $num -eq 5 ]</span><br><span class="line">        then</span><br><span class="line">                passwd=$user$n1$n2$n3</span><br><span class="line">                echo "è¯·ç‰¢è®°ä½ çš„å¯†ç ï¼š$passwd"</span><br><span class="line">        elif [ $num -eq 4 ]</span><br><span class="line">        then</span><br><span class="line">                passwd=$user$n1$n2$n3$n4</span><br><span class="line">                echo "è¯·ç‰¢è®°ä½ çš„å¯†ç ï¼š$passwd"</span><br><span class="line">        elif [ $num -eq 3 ]</span><br><span class="line">        then</span><br><span class="line">                passwd=$user$n1$n2$n3$n4$n5</span><br><span class="line">                echo "è¯·ç‰¢è®°ä½ çš„å¯†ç ï¼š$passwd"</span><br><span class="line">        elif [ $num -eq 2 ]</span><br><span class="line">        then</span><br><span class="line">                passwd=$user$n1$n2$n3$n4$n5$n6</span><br><span class="line">                echo "è¯·ç‰¢è®°ä½ çš„å¯†ç ï¼š$passwd"</span><br><span class="line">        elif [ $num -eq 1 ]</span><br><span class="line">        then</span><br><span class="line">                passwd=$user$n1$n2$n3$n4$n5$n6$n7</span><br><span class="line">                echo "è¯·ç‰¢è®°ä½ çš„å¯†ç ï¼š$passwd"</span><br><span class="line">        else</span><br><span class="line">                echo "è´¦å·ä¸èƒ½ä¸ºç©ºï¼"</span><br><span class="line">        fi</span><br><span class="line">fi</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">read -p "è¯·è¾“å…¥æ³¨å†Œè´¦å·ï¼š"  user</span><br><span class="line">num=`echo $user|wc -L`</span><br><span class="line">n1=$(($RANDOM% 10 + 0))</span><br><span class="line">n2=$(($RANDOM% 10 + 0))</span><br><span class="line">n3=$(($RANDOM% 10 + 0))</span><br><span class="line">n4=$(($RANDOM% 10 + 0))</span><br><span class="line">n5=$(($RANDOM% 10 + 0))</span><br><span class="line">n6=$(($RANDOM% 10 + 0))</span><br><span class="line">n7=$(($RANDOM% 10 + 0))</span><br><span class="line">if [ $num -ge 8 ]</span><br><span class="line">then</span><br><span class="line">        echo "è´¦å·è¿‡é•¿"</span><br><span class="line">elif [ $num -eq 7 ]</span><br><span class="line">then</span><br><span class="line">        p=$user$n1</span><br><span class="line">        echo "ä½ çš„å¯†ç ä¸ºï¼š$p"</span><br><span class="line">elif [ $num -eq 6 ]</span><br><span class="line">then</span><br><span class="line">        p=$user$n1$n2</span><br><span class="line">        echo "ä½ çš„å¯†ç ä¸ºï¼š$p"</span><br><span class="line">elif [ $num -eq 5 ]</span><br><span class="line">then</span><br><span class="line">        p=$user$n1$n2$n3</span><br><span class="line">        echo "ä½ çš„å¯†ç ä¸ºï¼š$p"</span><br><span class="line">elif [ $num -eq 4 ]</span><br><span class="line">then</span><br><span class="line">        p=$user$n1$n2$n3$n4</span><br><span class="line">        echo "ä½ çš„å¯†ç ä¸ºï¼š$p"</span><br><span class="line">elif [ $num -eq 3 ]</span><br><span class="line">then</span><br><span class="line">        p=$user$n1$n2$n3$n4$n5</span><br><span class="line">        echo "ä½ çš„å¯†ç ä¸ºï¼š$p"</span><br><span class="line">elif [ $num -eq 2 ]</span><br><span class="line">then</span><br><span class="line">        p=$user$n1$n2$n3$n4$n5$n6</span><br><span class="line"></span><br><span class="line">        echo "ä½ çš„å¯†ç ä¸ºï¼š$p"</span><br><span class="line"></span><br><span class="line">elif [ $num -eq 1 ]</span><br><span class="line">then</span><br><span class="line">        p=$user$n1$n2$n3$n4$n5$n6$n7</span><br><span class="line">        echo "ä½ çš„å¯†ç ä¸ºï¼š$p"</span><br><span class="line">else</span><br><span class="line">        echo "è´¦å·ä¸èƒ½ä¸ºç©ºï¼"</span><br><span class="line">fi</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">å‘½ä»¤è¡Œ</span></span><br><span class="line">wc -l /filepath</span><br><span class="line"><span class="meta">#</span><span class="bash">å‚æ•°è¯´æ˜</span></span><br><span class="line">-c, --bytesï¼šç»Ÿè®¡å­—èŠ‚æ•°ã€‚</span><br><span class="line"></span><br><span class="line">-m, --charsï¼šç»Ÿè®¡å­—ç¬¦æ•°ã€‚</span><br><span class="line"></span><br><span class="line">-w, --wordsï¼šç»Ÿè®¡å­—æ•°ã€‚</span><br><span class="line"></span><br><span class="line">-l, --linesï¼šç»Ÿè®¡è¡Œæ•°ã€‚</span><br><span class="line"></span><br><span class="line">-L, --max-line-lengthï¼šç»Ÿè®¡æœ€é•¿è¡Œçš„é•¿åº¦ã€‚</span><br></pre></td></tr></table></figure><h1 id="æ—¶é—´å‘½ä»¤"><a href="#æ—¶é—´å‘½ä»¤" class="headerlink" title="æ—¶é—´å‘½ä»¤"></a>æ—¶é—´å‘½ä»¤</h1><h2 id="1-Linuxç³»ç»Ÿæ—¶é—´"><a href="#1-Linuxç³»ç»Ÿæ—¶é—´" class="headerlink" title="1.Linuxç³»ç»Ÿæ—¶é—´"></a>1.Linuxç³»ç»Ÿæ—¶é—´</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ğŸ•§æŸ¥çœ‹æ—¶é—´</span><br><span class="line"><span class="meta">#</span><span class="bash"> date</span></span><br><span class="line">ğŸ•ä»¥è‡ªå·±æƒ³è¦çš„æ ¼å¼æŸ¥çœ‹æ—¶é—´</span><br><span class="line"><span class="meta">#</span><span class="bash"> date <span class="string">"+%Y__%m__%d %H::%M::%S"</span>  </span></span><br><span class="line">ğŸ•”è‡ªå·±è®¾ç½®ç³»ç»Ÿæ—¶é—´</span><br><span class="line"><span class="meta">#</span><span class="bash"> date -s <span class="string">"2050-12-25 12:25:41"</span></span></span><br></pre></td></tr></table></figure><h2 id="2-ç¡¬ä»¶æ—¶é—´"><a href="#2-ç¡¬ä»¶æ—¶é—´" class="headerlink" title="2.ç¡¬ä»¶æ—¶é—´"></a>2.ç¡¬ä»¶æ—¶é—´</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ğŸ•˜æŸ¥çœ‹ç¡¬ä»¶æ—¶é—´</span><br><span class="line"><span class="meta">#</span><span class="bash"> hwclock</span></span><br><span class="line">ğŸ•¤å¼ºåˆ¶æŠŠç³»ç»Ÿæ—¶é—´å†™å…¥ç¡¬ä»¶(cmos)ä¸­</span><br><span class="line"><span class="meta">#</span><span class="bash"> hwclock -w</span></span><br><span class="line">ğŸ•¤"-s" ç›¸å, å°†ç¡¬ä»¶æ—¶é—´å†™å…¥ç³»ç»Ÿæ—¶é—´</span><br><span class="line"><span class="meta">#</span><span class="bash"> hwclock -s</span></span><br></pre></td></tr></table></figure><h2 id="3-NTPæ—¶é—´åè°ƒ-æœåŠ¡å™¨"><a href="#3-NTPæ—¶é—´åè°ƒ-æœåŠ¡å™¨" class="headerlink" title="3.NTPæ—¶é—´åè°ƒ æœåŠ¡å™¨"></a>3.NTPæ—¶é—´åè°ƒ æœåŠ¡å™¨</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ğŸ•¢åŒæ­¥ç½‘ç»œæ—¶é—´</span><br><span class="line"><span class="meta">#</span><span class="bash"> ntpdate ntp1.aliyun.com</span></span><br><span class="line">ğŸ”µæŸ¥çœ‹æ—¶é—´æ˜¯å¦æ›´æ–°äº†</span><br><span class="line"><span class="meta">#</span><span class="bash"> date</span></span><br><span class="line">ğŸ”µç„¶åå°†å…¶å†™å…¥ç¡¬ä»¶æ—¶é—´æŠŠæˆ‘ä»¬ä¹‹å‰ä¹±å†™çš„æ—¶é—´æ”¹å›æ¥</span><br><span class="line"><span class="meta">#</span><span class="bash"> hwclock -w</span></span><br></pre></td></tr></table></figure><p><strong><img src="/2024/05/15/2024.05%E9%9A%8F%E8%AE%B0/10.png" class></strong></p><p>ğŸ¥è¿™é‡Œè¯´çš„ç³»ç»Ÿæ—¶é—´ï¼Œæ˜¯linuxç”±æ“ä½œç³»ç»Ÿç»´æŠ¤çš„</p><p>ğŸ­ç¡¬ä»¶æ—¶é’Ÿæ˜¯æŒ‡ä¸»æœºæ¿ä¸Šçš„æ—¶é’Ÿè®¾å¤‡ï¼Œä¹Ÿå°±æ˜¯é€šå¸¸å¯åœ¨BIOSç”»é¢è®¾å®šçš„æ—¶é’Ÿï¼Œç¡¬ä»¶æ—¶é—´å­˜æ”¾äºCMOSä¸­</p><p>ğŸ¥ç³»ç»Ÿæ—¶é’Ÿåˆ™æ˜¯æŒ‡å†…æ ¸(kernel)ä¸­çš„æ—¶é’Ÿï¼Œå½“Linuxå¯åŠ¨æ—¶ï¼ŒLinuxæ“ä½œ ç³»ç»Ÿå°†æ—¶é—´ä»CMOSä¸­è¯»åˆ°ç³»ç»Ÿæ—¶é—´å˜é‡</p><p>ğŸ­ä¹‹åç³»ç»Ÿæ—¶é’Ÿå³ç‹¬ç«‹è¿ä½œ, æ‰€æœ‰Linuxç›¸å…³æŒ‡ä»¤ä¸å‡½æ•°éƒ½æ˜¯è¯»å–ç³»ç»Ÿæ—¶é’Ÿçš„è®¾å®š</p><p>ğŸ¥ä¸ºäº†ä¿æŒç³»ç»Ÿæ—¶é—´ä¸CMOSæ—¶é—´çš„ä¸€è‡´æ€§ï¼ŒLinuxæ¯éš”ä¸€æ®µæ—¶é—´ä¼šå°†ç³»ç»Ÿæ—¶é—´å†™å…¥CMOS</p><p>ğŸ­ç”±äºè¯¥åŒæ­¥æ˜¯æ¯éš”ä¸€æ®µæ—¶é—´(å¤§çº¦æ˜¯11åˆ†é’Ÿ) è¿›è¡Œçš„ï¼Œ<br>åœ¨æˆ‘ä»¬æ‰§è¡Œâ€date -sâ€åï¼Œå¦‚æœé©¬ä¸Šé‡èµ·æœºå™¨ï¼Œä¿®æ”¹æ—¶é—´å°±æœ‰å¯èƒ½æ²¡æœ‰è¢«å†™å…¥CMOS</p><p>ğŸ¥å¦‚æœè¦ç¡®ä¿ä¿®æ”¹ç”Ÿæ•ˆå¯ä»¥æ‰§è¡Œâ€hwclock -wâ€ å°†å…¶å†™å…¥ç¡¬ç›˜</p><h2 id="æŸ¥çœ‹å‘½ä»¤çš„ç»å¯¹è·¯å¾„"><a href="#æŸ¥çœ‹å‘½ä»¤çš„ç»å¯¹è·¯å¾„" class="headerlink" title="æŸ¥çœ‹å‘½ä»¤çš„ç»å¯¹è·¯å¾„"></a>æŸ¥çœ‹å‘½ä»¤çš„ç»å¯¹è·¯å¾„</h2><p>type -a  å‘½ä»¤</p><p><strong><img src="/2024/05/15/2024.05%E9%9A%8F%E8%AE%B0/11.png" class></strong></p><p>which  å‘½ä»¤</p><p><strong><img src="/2024/05/15/2024.05%E9%9A%8F%E8%AE%B0/12.png" class></strong></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="Linux" scheme="https://l66stbz.github.io/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>æƒé™æ©ç </title>
    <link href="https://l66stbz.github.io/2020/06/30/linux1/"/>
    <id>https://l66stbz.github.io/2020/06/30/linux1/</id>
    <published>2020-06-30T01:56:37.000Z</published>
    <updated>2024-06-22T06:06:50.310Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>æ˜¨å¤©è·Ÿæœ‹å‹ä¸€èµ·åœ¨åšä¸€ä¸ªè¯ä¹¦çš„è€ƒè¯•ï¼Œé‡Œè¾¹æœ‰é“é¢˜æ¶‰åŠåˆ°äº† Linuxä¸­åˆ›å»ºç›®å½•å’Œæ–‡ä»¶çš„æƒé™é—®é¢˜ï¼Œå½“æ—¶ä¸´æ—¶ä¹Ÿå°±ç™¾åº¦è§£å†³äº†ä¸€ä¸‹ï¼Œ åæ¥æƒ³åˆ°Linuxåº”è¯¥æ˜¯å¯ä»¥è®¾ç½®é»˜è®¤æƒé™çš„ï¼Œç„¶åå°±å­¦ä¹ äº†ä¸€ä¸‹ã€‚ </p><p> åœ¨linuxä¸­åˆ›å»ºæ–‡ä»¶å’Œç›®å½•æ—¶ï¼Œå•ä¸ªç”¨æˆ·åˆ›å»ºçš„ç›®å½•æƒé™éƒ½æ˜¯ä¸€è‡´çš„ï¼Œåˆ›å»ºçš„æ–‡ä»¶æƒé™ä¹Ÿéƒ½æ˜¯ä¸€è‡´çš„ï¼Œæ§åˆ¶è¿™ä¸ªåˆ›å»ºæƒé™çš„å«åšæƒé™æ©ç ã€‚<br>æƒé™æ©ç çš„ä½œç”¨å°±æ˜¯è§„èŒƒåˆåˆ›æ–‡ä»¶å’Œç›®å½•æ—¶å€™çš„æƒé™è®¾ç½®ï¼Œå…å»äº†åˆ›å»ºåå†æ¬¡ä¿®æ”¹æƒé™çš„é—®é¢˜ã€‚ </p><h3 id="1ã€-æŸ¥çœ‹ç”¨æˆ·çš„æƒé™æ©ç "><a href="#1ã€-æŸ¥çœ‹ç”¨æˆ·çš„æƒé™æ©ç " class="headerlink" title="1ã€ æŸ¥çœ‹ç”¨æˆ·çš„æƒé™æ©ç "></a>1ã€ æŸ¥çœ‹ç”¨æˆ·çš„æƒé™æ©ç </h3><p>å‘½ä»¤ï¼šumask</p><p>ç›®å½•ï¼š å‡å¦‚æƒé™æ©ç ä¸º022 ï¼Œé‚£ä¹ˆè¯¥ç”¨æˆ·åˆ›å»ºçš„ç›®å½•æƒé™å³ä¸ºæœ€å¤§æƒé™777å‡å»æƒé™æ©ç 022ä¸º755 ã€‚</p><p>æ–‡ä»¶ï¼š æ–‡ä»¶çš„æƒé™å¿…é¡»ä¸ºå¶æ•°ï¼Œæ‰€ä»¥å¦‚æœæ˜¯å¥‡æ•°åˆ™éœ€å‡1å˜ä¸ºå¶æ•° ï¼Œ777-022=755 æ¯ä½å‡1ä¹Ÿå°±æ˜¯644ã€‚</p><p><strong><img src="/2020/06/30/linux1/1.jpg" class></strong></p><h3 id="2ã€-ä¿®æ”¹æƒé™æ©ç "><a href="#2ã€-ä¿®æ”¹æƒé™æ©ç " class="headerlink" title="2ã€ ä¿®æ”¹æƒé™æ©ç "></a>2ã€ ä¿®æ”¹æƒé™æ©ç </h3><p>å‘½ä»¤ï¼šumask ###</p><p>###å¯ä»¥æ˜¯1-3ä½æ•°ï¼Œä½†æ˜¯æ¯ä¸€ä½çš„æ•°å€¼å¿…é¡»&lt;=7ã€‚</p><p><strong><img src="/2020/06/30/linux1/2.jpg" class></strong></p><h3 id="3ã€-drwxr-xr-xä»£è¡¨çš„æ„æ€"><a href="#3ã€-drwxr-xr-xä»£è¡¨çš„æ„æ€" class="headerlink" title="3ã€ drwxr-xr-xä»£è¡¨çš„æ„æ€"></a>3ã€ drwxr-xr-xä»£è¡¨çš„æ„æ€</h3><p>â‘ d:ç¬¬ä¸€ä½è¡¨ç¤ºæ–‡ä»¶ç±»å‹ã€‚dæ˜¯ç›®å½•æ–‡ä»¶ï¼Œlæ˜¯é“¾æ¥æ–‡ä»¶ï¼Œ-æ˜¯æ™®é€šæ–‡ä»¶ï¼Œpæ˜¯ç®¡é“ã€‚</p><p>â‘¡rwx:ç¬¬2-4ä½è¡¨ç¤ºè¿™ä¸ªæ–‡ä»¶æ‹¥æœ‰è€…æ‰€æ‹¥æœ‰çš„æƒé™ï¼Œræ˜¯è¯»ï¼Œwæ˜¯å†™ï¼Œxæ˜¯æ‰§è¡Œã€‚</p><p>â‘¢r-x:ç¬¬5-7ä½è¡¨ç¤ºå’Œè¿™ä¸ªæ–‡ä»¶æ‹¥æœ‰è€…æ‰€åœ¨åŒä¸€ä¸ªç»„çš„ç”¨æˆ·æ‰€å…·æœ‰çš„æƒé™ã€‚</p><p>â‘£r-x:ç¬¬8-10ä½è¡¨ç¤ºå…¶ä»–ç”¨æˆ·æ‰€å…·æœ‰çš„æƒé™ã€‚</p><p>r:readå°±æ˜¯è¯»æƒé™     â€“æ•°å­—4è¡¨ç¤º<br>w:writeå°±æ˜¯å†™æƒé™    â€“æ•°å­—2è¡¨ç¤º<br>x:excuteå°±æ˜¯æ‰§è¡Œæƒé™ â€“æ•°å­—1è¡¨ç¤º</p><p>æ‰€ä»¥ï¼Œdrwxr-xr-xå¯ä»¥è¡¨ç¤ºä¸º755ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="Linux" scheme="https://l66stbz.github.io/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>test</title>
    <link href="https://l66stbz.github.io/2020/06/18/test/"/>
    <id>https://l66stbz.github.io/2020/06/18/test/</id>
    <published>2020-06-18T06:33:58.000Z</published>
    <updated>2024-06-22T06:00:01.375Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><a href="/download/rose.png" title="æºç ä¸‹è½½">ç‚¹å‡»ä¸‹è½½</a></p><p>æµ‹è¯•ä¸­ï¼ï¼ï¼ï¼</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="test" scheme="https://l66stbz.github.io/tags/test/"/>
    
  </entry>
  
  <entry>
    <title>ç¨‹åºçŒ¿çš„æµªæ¼«â€”â€”girlfriend 3Dç›¸å†Œ</title>
    <link href="https://l66stbz.github.io/2020/06/12/3D_Photo/"/>
    <id>https://l66stbz.github.io/2020/06/12/3D_Photo/</id>
    <published>2020-06-12T08:05:09.000Z</published>
    <updated>2024-06-22T06:54:24.272Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ç¨‹åºçŒ¿éƒ½æ˜¯ç›´ç”·ï¼Œåªä¼šå·¥ä½œï¼Œæˆ‘ç¬‘äº†ã€‚æˆ–è®¸åªæœ‰è‡ªå·±äººæ‰æ‡‚å¾—ä»–ä»¬çš„æµªæ¼«å§ï¼Œä»Šå¤©åˆ†äº«ä¸€ä¸ª3Dç›¸å†Œï¼Œæ‹¿å»å‘ç»™girlfriendçš„é‚£ç§å•¦ï¼è¯ä¸å¤šè¯´ï¼Œä¸Šæºç ã€‚</p><h3 id="æºç "><a href="#æºç " class="headerlink" title="æºç "></a>æºç </h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>3Dç›¸å†Œ<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">*&#123;<span class="attribute">margin</span>: <span class="number">0</span>;<span class="attribute">padding</span>: <span class="number">0</span>;&#125;</span></span><br><span class="line"><span class="css"><span class="selector-tag">html</span>,<span class="selector-tag">body</span>&#123;<span class="attribute">height</span>: <span class="number">100%</span>;&#125;</span></span><br><span class="line">body&#123;</span><br><span class="line">overflow: hidden;</span><br><span class="line">display: flex;</span><br><span class="line"><span class="css"><span class="selector-tag">background</span>: <span class="selector-id">#000</span>;</span></span><br><span class="line">perspective: 1000px;</span><br><span class="line">transform-style: preserve-3d; </span><br><span class="line">&#125;</span><br><span class="line"><span class="css"><span class="selector-id">#box</span>&#123;</span></span><br><span class="line">position: relative;</span><br><span class="line">display: flex;</span><br><span class="line">width: 130px;</span><br><span class="line">height: 200px;</span><br><span class="line">margin: auto;</span><br><span class="line">transform-style: preserve-3d; </span><br><span class="line">transform: rotateX(-10deg);</span><br><span class="line">&#125;</span><br><span class="line"><span class="css"><span class="selector-id">#box</span> &gt; <span class="selector-tag">div</span>&#123;</span></span><br><span class="line">transform-style: preserve-3d; </span><br><span class="line">position: absolute;</span><br><span class="line">left: 0;</span><br><span class="line">top: 0;</span><br><span class="line">width: 100%;</span><br><span class="line">height: 100%;</span><br><span class="line">line-height: 200px;</span><br><span class="line">font-size: 50px;</span><br><span class="line">text-align: center;</span><br><span class="line"><span class="css"><span class="selector-tag">box-shadow</span><span class="selector-pseudo">:0</span> 0 10<span class="selector-tag">px</span> <span class="selector-id">#fff</span>;</span></span><br><span class="line"><span class="css"><span class="selector-tag">-webkit-box-reflect</span><span class="selector-pseudo">:below</span> 10<span class="selector-tag">px</span> <span class="selector-tag">-webkit-linear-gradient</span>(<span class="selector-tag">top</span>,<span class="selector-tag">rgba</span>(0,0,0,0) 40%,<span class="selector-tag">rgba</span>(0,0,0,<span class="selector-class">.8</span>) 100%);</span></span><br><span class="line">&#125;</span><br><span class="line">/*  #box &gt; div:nth-child(1)&#123;</span><br><span class="line">background: skyblue;</span><br><span class="line">transform: translate3d(0,0,300px) rotateY(45deg);</span><br><span class="line">&#125;</span><br><span class="line"><span class="css"><span class="selector-id">#box</span> &gt; <span class="selector-tag">div</span><span class="selector-pseudo">:nth-child(2)</span>&#123;</span></span><br><span class="line">background: pink;</span><br><span class="line">transform: rotateY(0deg);</span><br><span class="line">&#125;</span><br><span class="line"><span class="css"><span class="selector-id">#box</span> &gt; <span class="selector-tag">div</span><span class="selector-pseudo">:nth-child(3)</span>&#123;</span></span><br><span class="line">background: purple;</span><br><span class="line">transform: translate3d(0,0,300px) rotateY(-45deg);</span><br><span class="line">&#125; </span><br><span class="line">*/</span><br><span class="line"><span class="css"><span class="selector-id">#box</span> <span class="selector-tag">p</span>&#123;</span></span><br><span class="line">position: absolute;</span><br><span class="line">left: 0;</span><br><span class="line">top: 0;</span><br><span class="line">bottom: 0;</span><br><span class="line">right: 0;</span><br><span class="line">margin: auto;</span><br><span class="line">width: 1200px;</span><br><span class="line">height: 1200px;</span><br><span class="line">background: -webkit-radial-gradient(center center,600px 600px,rgba(50,50,50,1),rgba(0,0,0,0));</span><br><span class="line">border-radius: 50%;</span><br><span class="line">transform: rotateX(90deg) translate3d(-600px,0,-105px);</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">setTimeout(init,100);</span><br><span class="line"><span class="actionscript"><span class="function"><span class="keyword">function</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> obox = <span class="built_in">document</span>.getElementById(<span class="string">'box'</span>),</span></span><br><span class="line"><span class="actionscript">aDiv = obox.getElementsByTagName(<span class="string">'div'</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; aDiv.length; i++) &#123;</span></span><br><span class="line"><span class="actionscript">aDiv[i].style.background = <span class="string">"url(images/"</span>+(i+<span class="number">1</span>)+<span class="string">".jpg) center/cover"</span>;</span></span><br><span class="line"><span class="actionscript">aDiv[i].style.transform = <span class="string">"rotateY("</span>+(i*<span class="number">36</span>)+<span class="string">"deg) translate3d(0,0,350px)"</span>;</span></span><br><span class="line"><span class="actionscript">aDiv[i].style.transition = <span class="string">"transform 1s "</span>+(aDiv.length-i)*<span class="number">0.2</span>+<span class="string">"s"</span>;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="actionscript"><span class="keyword">var</span> sX,</span></span><br><span class="line">sY,</span><br><span class="line">nX,</span><br><span class="line">nY,</span><br><span class="line">desX = 0,</span><br><span class="line">desY = 0,</span><br><span class="line">tX = 0,</span><br><span class="line">tY = 10,</span><br><span class="line"><span class="actionscript">index = <span class="number">0</span>;<span class="comment">//æ»šè½®åˆå§‹å€¼</span></span></span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.onmousedown = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span></span><br><span class="line">clearInterval(obox.timer);</span><br><span class="line"><span class="javascript">e = e || <span class="built_in">window</span>.event;</span></span><br><span class="line"><span class="actionscript"><span class="keyword">var</span> sX = e.clientX,</span></span><br><span class="line">sY = e.clientY;</span><br><span class="line"><span class="actionscript"><span class="keyword">this</span>.onmousemove = <span class="function"><span class="keyword">function</span><span class="params">(e)</span></span>&#123;</span></span><br><span class="line"><span class="javascript">e = e || <span class="built_in">window</span>.event;</span></span><br><span class="line"><span class="actionscript"><span class="keyword">var</span> nX = e.clientX,</span></span><br><span class="line">nY = e.clientY;</span><br><span class="line"><span class="actionscript"> <span class="comment">// å½“å‰ç‚¹çš„åæ ‡å’Œå‰ä¸€ç‚¹çš„åæ ‡å·®å€¼</span></span></span><br><span class="line">desX = nX - sX;</span><br><span class="line">desY = nY - sY;</span><br><span class="line">                    tX += desX*0.1; </span><br><span class="line">                    tY += desY*0.1;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">obox.style.transform = <span class="string">"rotateX("</span>+(-tY)+<span class="string">"deg) rotateY("</span>+tX+<span class="string">"deg)"</span>;</span></span><br><span class="line">sX = nX;</span><br><span class="line">sY = nY;</span><br><span class="line">&#125;</span><br><span class="line"><span class="actionscript"><span class="keyword">this</span>.onmouseup = <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="actionscript"><span class="keyword">this</span>.onmousemove = <span class="keyword">this</span>.onmouseup = <span class="literal">null</span>;</span></span><br><span class="line"><span class="actionscript">obox.timer = setInterval(<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span></span><br><span class="line">desX *= 0.95;</span><br><span class="line">desY *= 0.95;</span><br><span class="line">tX += desX*0.1;</span><br><span class="line">tY += desY*0.1;</span><br><span class="line"><span class="actionscript">obox.style.transform = <span class="string">"rotateX("</span>+(-tY)+<span class="string">"deg) rotateY("</span>+tX+<span class="string">"deg)"</span>;</span></span><br><span class="line"><span class="javascript"><span class="keyword">if</span> (<span class="built_in">Math</span>.abs(desX)&lt;<span class="number">0.5</span> &amp;&amp; <span class="built_in">Math</span>.abs(desY)&lt;<span class="number">0.5</span>) &#123;</span></span><br><span class="line">clearInterval(obox.timer);</span><br><span class="line">&#125;</span><br><span class="line">&#125;,13);</span><br><span class="line">&#125;</span><br><span class="line"><span class="actionscript"><span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="actionscript"><span class="comment">//æ»šè½®æ”¾å¤§ç¼©å°</span></span></span><br><span class="line"><span class="javascript">mousewheel(<span class="built_in">document</span>,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">e = e || <span class="built_in">window</span>.event;</span></span><br><span class="line"><span class="actionscript"><span class="keyword">var</span> d = e.wheelDelta/<span class="number">120</span> || -e.detail/<span class="number">3</span>;</span></span><br><span class="line">if (d&gt;0) &#123;</span><br><span class="line">index-=20;</span><br><span class="line"><span class="actionscript">&#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line">index+=30;</span><br><span class="line">&#125;</span><br><span class="line">(index&lt;(-1050)&amp;&amp;(index=(-1050)));</span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.body.style.perspective = <span class="number">1000</span> + index + <span class="string">"px"</span>;</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="actionscript"><span class="function"><span class="keyword">function</span> <span class="title">mousewheel</span><span class="params">(obj,fn)</span></span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.onmousewheel===<span class="literal">null</span>?obj.onmousewheel=fn:addEvent(obj,<span class="string">"DOMMouseScroll"</span>,fn)</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="actionscript"><span class="function"><span class="keyword">function</span> <span class="title">addEvent</span><span class="params">(obj,eName,fn)</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">obj.attachEvent?obj.attachEvent(<span class="string">"on"</span>+eName,fn):obj.addEventListener(eName,fn);</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h3><p><strong><img src="/2020/06/12/3D_Photo/1.jpg" class></strong></p><p>è¿™å°±æ˜¯æ•´ä¸ª3Dç›¸å†Œçš„æ¡†æ¶äº†ï¼Œä¸€å…±10ä¸ªç…§ç‰‡æ¡†ï¼Œä¹Ÿå°±æ˜¯æ”¾10å¼ ç…§ç‰‡äº†ã€‚æ¡†æ¶æœ‰äº†ï¼Œå½“ç„¶è¿˜éœ€è¦çš„å°±æ˜¯å¥³å‹æ»´ç…§ç‰‡å•¦ã€‚</p><p><strong><img src="/2020/06/12/3D_Photo/2.jpg" class></strong></p><p>æœ€ç»ˆçš„æ•ˆæœå·®ä¸å¤šå°±æ˜¯è¿™ä¸ªæ ·å­å•¦ï¼Œå› ä¸ºä¸ºäº†çœåŠ²æ‰€ä»¥æˆ‘åªå¼„äº†6å¼ ï¼Œå…¶å®ä»–æ˜¯å¯ä»¥å¼„10å¼ çš„ï¼Œå½“ç„¶20å¼ ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯æ²¡å¿…è¦ï¼Œå¦‚æœå®åœ¨æœ‰éœ€è¦çš„äººå¯ä»¥è”ç³»æˆ‘ã€‚è¿˜æœ‰å°±æ˜¯ä¸ºä»€ä¹ˆè¿™ä¸ªå«3Dç›¸å†Œå‘¢ï¼Œå› ä¸ºä»–è¿™ä¸ªæ˜¯å¯ä»¥æ‹–åŠ¨å’Œæ—‹è½¬çš„ã€‚æœ‰ç‚¹æ•·è¡ï¼Œå•Šå“ˆå“ˆã€‚</p><h2 id="tipsï¼š"><a href="#tipsï¼š" class="headerlink" title="tipsï¼š"></a>tipsï¼š</h2><p>éœ€è¦æ³¨æ„çš„æ˜¯10å¼ ç…§ç‰‡çš„æ ¼å¼è¦æ±‚å…¨ä¸ºjpgæ ¼å¼ï¼Œè¿˜æœ‰å°±æ˜¯é‡å‘½åæ”¹ä¸º1-10ï¼Œä¾‹å¦‚1.jpgï¼Œ2.jpg ç­‰ç­‰ï¼Œç„¶åæ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹åä¸ºimagesï¼ŒæŠŠç…§ç‰‡æ”¾å…¥å…¶ä¸­ã€‚æœ€åè®°å¾—æŠŠæºç æ–‡ä»¶è·Ÿimagesæ”¾åœ¨åŒä¸€ç›®å½•ä¸‹å¹¶æ”¹ä¸ºhtmlæ ¼å¼ã€‚è¿™æ ·ï¼Œå¥³å‹ç›¸å†Œå°±ç”Ÿæˆäº†ã€‚</p><p>è¿˜åœ¨ç­‰ä»€ä¹ˆï¼Œä½ çš„å¥³æœ‹å‹åœ¨ç­‰ä½ ï¼Œè¿˜ä¸å¿«å»!</p><p><strong><img src="/2020/06/12/3D_Photo/3.jpg" class></strong></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="html" scheme="https://l66stbz.github.io/tags/html/"/>
    
  </entry>
  
  <entry>
    <title>èˆ’ä¼¯ç‰¹ROSE</title>
    <link href="https://l66stbz.github.io/2020/06/10/rose/"/>
    <id>https://l66stbz.github.io/2020/06/10/rose/</id>
    <published>2020-06-10T07:18:52.000Z</published>
    <updated>2024-06-22T03:56:15.817Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢ï¼Œç»™å¤§å®¶åˆ†äº«ä¸€ä¸ªä¸€é¦–æ­Œçš„èƒŒåä¼¤æ„Ÿçˆ±æƒ…çš„å°æ•…äº‹ï¼</p><h3 id="èˆ’ä¼¯ç‰¹ç«ç‘°"><a href="#èˆ’ä¼¯ç‰¹ç«ç‘°" class="headerlink" title="èˆ’ä¼¯ç‰¹ç«ç‘°"></a>èˆ’ä¼¯ç‰¹ç«ç‘°</h3><p>èˆ’ä¼¯ç‰¹ä»–ä¸€ç›´æ²¡æœ‰ç»“å©š</p><p>èˆ’ä¼¯ç‰¹å¯¹çˆ±æƒ…å’Œå©šå§»å……æ»¡äº†é„™å¤·ï¼Œå› ä¸ºä»–æ·±æ·±ä¸ºçˆ±å—ä¼¤ï¼Œæ—©å¹´ä»–æ›¾æœ‰ä¸€ä¸ªéå¸¸å–œæ¬¢çš„å¥³å­©ï¼Œå¥¹ä¹Ÿå¾ˆå–œæ¬¢ä»–ï¼Œè¿™ä¸ªå¥³å­©ç­‰äº†èˆ’ä¼¯ç‰¹å¥½å¤šå¹´ï¼Œä½†æœ€ç»ˆå› ä¸ºèˆ’ä¼¯ç‰¹æ²¡æœ‰ç¨³å®šçš„æ”¶å…¥å»è´Ÿæ‹…ä¸€ä¸ªå®¶åº­è€Œåˆ†å¼€äº†ï¼Œè¿™ä¸ªå¥³å­©ä¸æƒ…æ„¿çš„å«ç»™äº†ä¸€ä¸ªæœ‰ç¨³å®šæ”¶å…¥çš„é¢åŒ…å¸ˆã€‚</p><p><strong><img src="/2020/06/10/rose/sbt.jpg" class></strong></p><p>åœ¨å¤§çº¦1824å¹´çš„æ—¶ä¾¯ï¼Œèˆ’ä¼¯ç‰¹å’Œä¸€ä¸ªåŒˆç‰™åˆ©ä¼¯çˆµå¤«äººCaroline Esterhazyå…³ç³»æš§æ˜§ï¼Œä½†ä¹Ÿæ²¡æœ‰ä¸‹æ–‡ã€‚ğŸ’”</p><p>1828å¹´11æœˆ19æ—¥ï¼Œ31å²å°±æ­»äºç»´ä¹Ÿçº³ã€‚æ®è¯´æ˜¯æ²»ç–—æ¢…æ¯’è€Œé€ æˆæ±ä¸­æ¯’ã€‚ğŸ’”<br>èˆ’ä¼¯ç‰¹çš„ä¸€ç”Ÿå°±åƒæˆ‘å–œæ¬¢ä½ ï¼Œè¿˜æ˜¯è´¥ç»™äº†ç°å®ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="Story" scheme="https://l66stbz.github.io/tags/Story/"/>
    
  </entry>
  
</feed>
